import{u as Ei,r as E,a as Te,i as Oa,w as W,f as $e,n as oe,B as a,y as M,h as yt,c as A,d as Dt,e as Pt,b as It,p as Nn,C as Zt,D as le,T as Hn,E as At,G as ke,H as Be,F as rt,I as Oi,J as _i,K as Ri,L as Vi,M as eo,N as to,o as no,O as Mi,P as zi,Q as Li,A as Fi,R as Ni}from"./@vue.CEj65B4J.js";import{u as Hi,a as ue,b as Ae,c as De,o as mn,g as ao,d as ye,e as _a,r as Le,f as Jt,h as Yi,i as bt,C as ji,j as xt,k as Wi,l as Ui,m as Yn,n as Ki,p as Gi}from"./@vant.BfKuOjy2.js";function wa(){}const J=Object.assign,Re=typeof window<"u",pe=e=>e!==null&&typeof e=="object",re=e=>e!=null,Xt=e=>typeof e=="function",Ra=e=>pe(e)&&Xt(e.then)&&Xt(e.catch),dn=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function lo(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const oo=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Xi=()=>Re?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function tl(e,t){const n=t.split(".");let l=e;return n.forEach(i=>{var o;l=pe(l)&&(o=l[i])!=null?o:""}),l}function se(e,t,n){return t.reduce((l,i)=>((!n||e[i]!==void 0)&&(l[i]=e[i]),l),{})}const Qe=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Mn=e=>Array.isArray(e)?e:[e],qi=e=>e.reduce((t,n)=>t.concat(n),[]),ge=null,L=[Number,String],V={type:Boolean,default:!0},Ce=e=>({type:e,required:!0}),me=()=>({type:Array,default:()=>[]}),xe=e=>({type:Number,default:e}),K=e=>({type:L,default:e}),H=e=>({type:String,default:e});function st(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function zn(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function $t(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function fn(e){zn(window,e),zn(document.body,e)}function nl(e,t){if(e===window)return 0;const n=t?st(t):$t();return ue(e).top+n}const Zi=Xi();function io(){Zi&&fn($t())}const Va=e=>e.stopPropagation();function ve(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Va(e)}function Bt(e){const t=Ei(e);if(!t)return!1;const n=window.getComputedStyle(t),l=n.display==="none",i=t.offsetParent===null&&n.position!=="fixed";return l||i}const{width:Ue,height:Fe}=Hi();function Ji(e){const t=window.getComputedStyle(e);return t.transform!=="none"||t.perspective!=="none"||["transform","perspective","filter"].some(n=>(t.willChange||"").includes(n))}function Qi(e){let t=e.parentElement;for(;t;){if(t&&t.tagName!=="HTML"&&t.tagName!=="BODY"&&Ji(t))return t;t=t.parentElement}return null}function ne(e){if(re(e))return oo(e)?`${e}px`:String(e)}function ut(e){if(re(e)){if(Array.isArray(e))return{width:ne(e[0]),height:ne(e[1])};const t=ne(e);return{width:t,height:t}}}function dt(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let ta;function pi(){if(!ta){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;ta=parseFloat(t)}return ta}function ec(e){return e=e.replace(/rem/g,""),+e*pi()}function tc(e){return e=e.replace(/vw/g,""),+e*Ue.value/100}function nc(e){return e=e.replace(/vh/g,""),+e*Fe.value/100}function Ma(e){if(typeof e=="number")return e;if(Re){if(e.includes("rem"))return ec(e);if(e.includes("vw"))return tc(e);if(e.includes("vh"))return nc(e)}return parseFloat(e)}const ac=/-(\w)/g,co=e=>e.replace(ac,(t,n)=>n.toUpperCase()),lc=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function We(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Se=(e,t,n)=>Math.min(Math.max(e,t),n);function al(e,t,n){const l=e.indexOf(t);return l===-1?e:t==="-"&&l!==0?e.slice(0,l):e.slice(0,l+1)+e.slice(l).replace(n,"")}function Sa(e,t=!0,n=!0){t?e=al(e,".",/\./g):e=e.split(".")[0],n?e=al(e,"-",/-/g):e=e.replace(/-/,"");const l=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(l,"")}function ro(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:oc}=Object.prototype;function ic(e,t,n){const l=t[n];re(l)&&(!oc.call(e,n)||!pe(l)?e[n]=l:e[n]=so(Object(e[n]),l))}function so(e,t){return Object.keys(t).forEach(n=>{ic(e,t,n)}),e}var cc={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const ll=E("zh-CN"),ol=Te({"zh-CN":cc}),uo={messages(){return ol[ll.value]},use(e,t){ll.value=e,this.add({[e]:t})},add(e={}){so(ol,e)}};var rc=uo;function sc(e){const t=co(e)+".";return(n,...l)=>{const i=rc.messages(),o=tl(i,t+n)||tl(i,n);return Xt(o)?o(...l):o}}function Ca(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,l)=>n+Ca(e,l),""):Object.keys(t).reduce((n,l)=>n+(t[l]?Ca(e,l):""),""):""}function uc(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Ca(t,n)}`)}function z(e){const t=`van-${e}`;return[t,uc(t),sc(t)]}const ft="van-hairline",fo=`${ft}--top`,vo=`${ft}--left`,dc=`${ft}--right`,za=`${ft}--bottom`,rn=`${ft}--surround`,jn=`${ft}--top-bottom`,fc=`${ft}-unset--top-bottom`,Pe="van-haptics-feedback",mo=Symbol("van-form"),ho=500,il=5;function wt(e,{args:t=[],done:n,canceled:l,error:i}){if(e){const o=e.apply(null,t);Ra(o)?o.then(s=>{s?n():l&&l()}).catch(i||wa):o?n():l&&l()}else n()}function N(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(co(`-${n}`),e))},e}function Ln(e,t){return e.reduce((n,l)=>Math.abs(n-t)<Math.abs(l-t)?n:l)}const go=Symbol();function Wn(e){const t=Oa(go,null);t&&W(t,n=>{n&&e()})}const bo=(e,t)=>{const n=E(),l=()=>{n.value=ue(e).height};return $e(()=>{if(oe(l),t)for(let i=1;i<=3;i++)setTimeout(l,100*i)}),Wn(()=>oe(l)),W([Ue,Fe],l),n};function Un(e,t){const n=bo(e,!0);return l=>a("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[l()])}const[yo,cl]=z("action-bar"),La=Symbol(yo),vc={placeholder:Boolean,safeAreaInsetBottom:V};var mc=M({name:yo,props:vc,setup(e,{slots:t}){const n=E(),l=Un(n,cl),{linkChildren:i}=Ae(La);i();const o=()=>{var s;return a("div",{ref:n,class:[cl(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(s=t.default)==null?void 0:s.call(t)])};return()=>e.placeholder?l(o):o()}});const xo=N(mc);function ie(e){const t=yt();t&&J(t.proxy,e)}const St={to:[String,Object],url:String,replace:Boolean};function wo({to:e,url:t,replace:n,$router:l}){e&&l?l[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Et(){const e=yt().proxy;return()=>wo(e)}const[hc,rl]=z("badge"),gc={dot:Boolean,max:L,tag:H("div"),color:String,offset:Array,content:L,showZero:V,position:H("top-right")};var bc=M({name:hc,props:gc,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:r,showZero:u}=e;return re(r)&&r!==""&&(u||r!==0&&r!=="0")},l=()=>{const{dot:r,max:u,content:c}=e;if(!r&&n())return t.content?t.content():re(u)&&oo(c)&&+c>+u?`${u}+`:c},i=r=>r.startsWith("-")?r.replace("-",""):`-${r}`,o=A(()=>{const r={background:e.color};if(e.offset){const[u,c]=e.offset,{position:d}=e,[f,v]=d.split("-");t.default?(typeof c=="number"?r[f]=ne(f==="top"?c:-c):r[f]=f==="top"?ne(c):i(c),typeof u=="number"?r[v]=ne(v==="left"?u:-u):r[v]=v==="left"?ne(u):i(u)):(r.marginTop=ne(c),r.marginLeft=ne(u))}return r}),s=()=>{if(n()||e.dot)return a("div",{class:rl([e.position,{dot:e.dot,fixed:!!t.default}]),style:o.value},[l()])};return()=>{if(t.default){const{tag:r}=e;return a(r,{class:rl("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const Ot=N(bc);let So=2e3;const yc=()=>++So,xc=e=>{So=e},[Co,wc]=z("config-provider"),ko=Symbol(Co),Sc={tag:H("div"),theme:H("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:H("local"),iconPrefix:String};function Cc(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function kc(e){const t={};return Object.keys(e).forEach(n=>{const l=Cc(lc(n));t[`--van-${l}`]=e[n]}),t}function bn(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var Tc=M({name:Co,props:Sc,setup(e,{slots:t}){const n=A(()=>kc(J({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(Re){const l=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},i=(o=e.theme)=>{document.documentElement.classList.remove(`van-theme-${o}`)};W(()=>e.theme,(o,s)=>{s&&i(s),l()},{immediate:!0}),Dt(l),Pt(i),It(i),W(n,(o,s)=>{e.themeVarsScope==="global"&&bn(o,s)}),W(()=>e.themeVarsScope,(o,s)=>{s==="global"&&bn({},n.value),o==="global"&&bn(n.value,{})}),e.themeVarsScope==="global"&&bn(n.value,{})}return Nn(ko,e),Zt(()=>{e.zIndex!==void 0&&xc(e.zIndex)}),()=>a(e.tag,{class:wc(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var l;return[(l=t.default)==null?void 0:l.call(t)]}})}});const[$c,sl]=z("icon"),Bc=e=>e==null?void 0:e.includes("/"),Dc={dot:Boolean,tag:H("i"),name:String,size:L,badge:L,color:String,badgeProps:Object,classPrefix:String};var Pc=M({name:$c,props:Dc,setup(e,{slots:t}){const n=Oa(ko,null),l=A(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||sl());return()=>{const{tag:i,dot:o,name:s,size:r,badge:u,color:c}=e,d=Bc(s);return a(Ot,le({dot:o,tag:i,class:[l.value,d?"":`${l.value}-${s}`],style:{color:c,fontSize:ne(r)},content:u},e.badgeProps),{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t),d&&a("img",{class:sl("image"),src:s},null)]}})}}});const ae=N(Pc);var Ic=ae;const[Ac,sn]=z("loading"),Ec=Array(12).fill(null).map((e,t)=>a("i",{class:sn("line",String(t+1))},null)),Oc=a("svg",{class:sn("circular"),viewBox:"25 25 50 50"},[a("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),_c={size:L,type:H("circular"),color:String,vertical:Boolean,textSize:L,textColor:String};var Rc=M({name:Ac,props:_c,setup(e,{slots:t}){const n=A(()=>J({color:e.color},ut(e.size))),l=()=>{const o=e.type==="spinner"?Ec:Oc;return a("span",{class:sn("spinner",e.type),style:n.value},[t.icon?t.icon():o])},i=()=>{var o;if(t.default)return a("span",{class:sn("text"),style:{fontSize:ne(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[t.default()])};return()=>{const{type:o,vertical:s}=e;return a("div",{class:sn([o,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[l(),i()])}}});const Ke=N(Rc),[Vc,_t]=z("button"),Mc=J({},St,{tag:H("button"),text:String,icon:String,type:H("default"),size:H("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:H("button"),loadingSize:L,loadingText:String,loadingType:String,iconPosition:H("left")});var zc=M({name:Vc,props:Mc,emits:["click"],setup(e,{emit:t,slots:n}){const l=Et(),i=()=>n.loading?n.loading():a(Ke,{size:e.loadingSize,type:e.loadingType,class:_t("loading")},null),o=()=>{if(e.loading)return i();if(n.icon)return a("div",{class:_t("icon")},[n.icon()]);if(e.icon)return a(ae,{name:e.icon,class:_t("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let c;if(e.loading?c=e.loadingText:c=n.default?n.default():e.text,c)return a("span",{class:_t("text")},[c])},r=()=>{const{color:c,plain:d}=e;if(c){const f={color:d?c:"white"};return d||(f.background=c),c.includes("gradient")?f.border=0:f.borderColor=c,f}},u=c=>{e.loading?ve(c):e.disabled||(t("click",c),l())};return()=>{const{tag:c,type:d,size:f,block:v,round:h,plain:y,square:C,loading:g,disabled:S,hairline:m,nativeType:w,iconPosition:T}=e,b=[_t([d,f,{plain:y,block:v,round:h,square:C,loading:g,disabled:S,hairline:m}]),{[rn]:m}];return a(c,{type:w,class:b,style:r(),disabled:S,onClick:u},{default:()=>[a("div",{class:_t("content")},[T==="left"&&o(),s(),T==="right"&&o()])]})}}});const Ie=N(zc),[Lc,Fc]=z("action-bar-button"),Nc=J({},St,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Hc=M({name:Lc,props:Nc,setup(e,{slots:t}){const n=Et(),{parent:l,index:i}=De(La),o=A(()=>{if(l){const r=l.children[i.value-1];return!(r&&"isButton"in r)}}),s=A(()=>{if(l){const r=l.children[i.value+1];return!(r&&"isButton"in r)}});return ie({isButton:!0}),()=>{const{type:r,icon:u,text:c,color:d,loading:f,disabled:v}=e;return a(Ie,{class:Fc([r,{last:s.value,first:o.value}]),size:"large",type:r,icon:u,color:d,loading:f,disabled:v,onClick:n},{default:()=>[t.default?t.default():c]})}}});const ka=N(Hc),[Yc,na]=z("action-bar-icon"),jc=J({},St,{dot:Boolean,text:String,icon:String,color:String,badge:L,iconClass:ge,badgeProps:Object,iconPrefix:String});var Wc=M({name:Yc,props:jc,setup(e,{slots:t}){const n=Et();De(La);const l=()=>{const{dot:i,badge:o,icon:s,color:r,iconClass:u,badgeProps:c,iconPrefix:d}=e;return t.icon?a(Ot,le({dot:i,class:na("icon"),content:o},c),{default:t.icon}):a(ae,{tag:"div",dot:i,name:s,badge:o,color:r,class:[na("icon"),u],badgeProps:c,classPrefix:d},null)};return()=>a("div",{role:"button",class:na(),tabindex:0,onClick:n},[l(),t.default?t.default():e.text])}});const Uc=N(Wc),Qt={show:Boolean,zIndex:L,overlay:V,duration:L,teleport:[String,Object],lockScroll:V,lazyRender:V,beforeClose:Function,overlayStyle:Object,overlayClass:ge,transitionAppear:Boolean,closeOnClickOverlay:V},Fa=Object.keys(Qt);function Kc(e,t){return e>t?"horizontal":t>e?"vertical":""}function Ne(){const e=E(0),t=E(0),n=E(0),l=E(0),i=E(0),o=E(0),s=E(""),r=E(!0),u=()=>s.value==="vertical",c=()=>s.value==="horizontal",d=()=>{n.value=0,l.value=0,i.value=0,o.value=0,s.value="",r.value=!0};return{move:h=>{const y=h.touches[0];n.value=(y.clientX<0?0:y.clientX)-e.value,l.value=y.clientY-t.value,i.value=Math.abs(n.value),o.value=Math.abs(l.value);const C=10;(!s.value||i.value<C&&o.value<C)&&(s.value=Kc(i.value,o.value)),r.value&&(i.value>il||o.value>il)&&(r.value=!1)},start:h=>{d(),e.value=h.touches[0].clientX,t.value=h.touches[0].clientY},reset:d,startX:e,startY:t,deltaX:n,deltaY:l,offsetX:i,offsetY:o,direction:s,isVertical:u,isHorizontal:c,isTap:r}}let en=0;const ul="van-overflow-hidden";function To(e,t){const n=Ne(),l="01",i="10",o=d=>{n.move(d);const f=n.deltaY.value>0?i:l,v=ao(d.target,e.value),{scrollHeight:h,offsetHeight:y,scrollTop:C}=v;let g="11";C===0?g=y>=h?"00":"01":C+y>=h&&(g="10"),g!=="11"&&n.isVertical()&&!(parseInt(g,2)&parseInt(f,2))&&ve(d,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),en||document.body.classList.add(ul),en++},r=()=>{en&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),en--,en||document.body.classList.remove(ul))},u=()=>t()&&s(),c=()=>t()&&r();mn(u),Pt(c),It(c),W(t,d=>{d?s():r()})}function Na(e){const t=E(!1);return W(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const Fn=()=>{var e;const{scopeId:t}=((e=yt())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Gc,Xc]=z("overlay"),qc={show:Boolean,zIndex:L,duration:L,className:ge,lockScroll:V,lazyRender:V,customStyle:Object,teleport:[String,Object]};var Zc=M({name:Gc,props:qc,setup(e,{slots:t}){const n=E(),l=Na(()=>e.show||!e.lazyRender),i=s=>{e.lockScroll&&ve(s,!0)},o=l(()=>{var s;const r=J(dt(e.zIndex),e.customStyle);return re(e.duration)&&(r.animationDuration=`${e.duration}s`),ke(a("div",{ref:n,style:r,class:[Xc(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[Be,e.show]])});return ye("touchmove",i,{target:n}),()=>{const s=a(Hn,{name:"van-fade",appear:!0},{default:o});return e.teleport?a(At,{to:e.teleport},{default:()=>[s]}):s}}});const $o=N(Zc),Jc=J({},Qt,{round:Boolean,position:H("center"),closeIcon:H("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:H("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Qc,dl]=z("popup");var pc=M({name:Qc,inheritAttrs:!1,props:Jc,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:l}){let i,o;const s=E(),r=E(),u=Na(()=>e.show||!e.lazyRender),c=A(()=>{const $={zIndex:s.value};if(re(e.duration)){const O=e.position==="center"?"animationDuration":"transitionDuration";$[O]=`${e.duration}s`}return $}),d=()=>{i||(i=!0,s.value=e.zIndex!==void 0?+e.zIndex:yc(),t("open"))},f=()=>{i&&wt(e.beforeClose,{done(){i=!1,t("close"),t("update:show",!1)}})},v=$=>{t("clickOverlay",$),e.closeOnClickOverlay&&f()},h=()=>{if(e.overlay)return a($o,le({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},Fn(),{onClick:v}),{default:l["overlay-content"]})},y=$=>{t("clickCloseIcon",$),f()},C=()=>{if(e.closeable)return a(ae,{role:"button",tabindex:0,name:e.closeIcon,class:[dl("close-icon",e.closeIconPosition),Pe],classPrefix:e.iconPrefix,onClick:y},null)};let g;const S=()=>{g&&clearTimeout(g),g=setTimeout(()=>{t("opened")})},m=()=>t("closed"),w=$=>t("keydown",$),T=u(()=>{var $;const{round:O,position:x,safeAreaInsetTop:P,safeAreaInsetBottom:D}=e;return ke(a("div",le({ref:r,style:c.value,role:"dialog",tabindex:0,class:[dl({round:O,[x]:x}),{"van-safe-area-top":P,"van-safe-area-bottom":D}],onKeydown:w},n,Fn()),[($=l.default)==null?void 0:$.call(l),C()]),[[Be,e.show]])}),b=()=>{const{position:$,transition:O,transitionAppear:x}=e,P=$==="center"?"van-fade":`van-popup-slide-${$}`;return a(Hn,{name:O||P,appear:x,onAfterEnter:S,onAfterLeave:m},{default:T})};return W(()=>e.show,$=>{$&&!i&&(d(),n.tabindex===0&&oe(()=>{var O;(O=r.value)==null||O.focus()})),!$&&i&&(i=!1,t("close"))}),ie({popupRef:r}),To(r,()=>e.show&&e.lockScroll),ye("popstate",()=>{e.closeOnPopstate&&(f(),o=!1)}),$e(()=>{e.show&&d()}),Dt(()=>{o&&(t("update:show",!0),o=!1)}),Pt(()=>{e.show&&e.teleport&&(f(),o=!0)}),Nn(go,()=>e.show),()=>e.teleport?a(At,{to:e.teleport},{default:()=>[h(),b()]}):a(rt,null,[h(),b()])}});const Ge=N(pc),[er,Me]=z("action-sheet"),tr=J({},Qt,{title:String,round:V,actions:me(),closeIcon:H("cross"),closeable:V,cancelText:String,description:String,closeOnPopstate:V,closeOnClickAction:Boolean,safeAreaInsetBottom:V}),nr=[...Fa,"round","closeOnPopstate","safeAreaInsetBottom"];var ar=M({name:er,props:tr,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const l=f=>n("update:show",f),i=()=>{l(!1),n("cancel")},o=()=>{if(e.title)return a("div",{class:Me("header")},[e.title,e.closeable&&a(ae,{name:e.closeIcon,class:[Me("close"),Pe],onClick:i},null)])},s=()=>{if(t.cancel||e.cancelText)return[a("div",{class:Me("gap")},null),a("button",{type:"button",class:Me("cancel"),onClick:i},[t.cancel?t.cancel():e.cancelText])]},r=f=>{if(f.icon)return a(ae,{class:Me("item-icon"),name:f.icon},null)},u=(f,v)=>f.loading?a(Ke,{class:Me("loading-icon")},null):t.action?t.action({action:f,index:v}):[a("span",{class:Me("name")},[f.name]),f.subname&&a("div",{class:Me("subname")},[f.subname])],c=(f,v)=>{const{color:h,loading:y,callback:C,disabled:g,className:S}=f,m=()=>{g||y||(C&&C(f),e.closeOnClickAction&&l(!1),oe(()=>n("select",f,v)))};return a("button",{type:"button",style:{color:h},class:[Me("item",{loading:y,disabled:g}),S],onClick:m},[r(f),u(f,v)])},d=()=>{if(e.description||t.description){const f=t.description?t.description():e.description;return a("div",{class:Me("description")},[f])}};return()=>a(Ge,le({class:Me(),position:"bottom","onUpdate:show":l},se(e,nr)),{default:()=>{var f;return[o(),d(),a("div",{class:Me("content")},[e.actions.map(c),(f=t.default)==null?void 0:f.call(t)]),s()]}})}});const lr=N(ar),[or,ot,fl]=z("picker"),Bo=e=>e.find(t=>!t.disabled)||e[0];function ir(e,t){const n=e[0];if(n){if(Array.isArray(n))return"multiple";if(t.children in n)return"cascade"}return"default"}function Rn(e,t){t=Se(t,0,e.length);for(let n=t;n<e.length;n++)if(!e[n].disabled)return n;for(let n=t-1;n>=0;n--)if(!e[n].disabled)return n;return 0}const vl=(e,t,n)=>t!==void 0&&!!e.find(l=>l[n.value]===t);function Ta(e,t,n){const l=e.findIndex(o=>o[n.value]===t),i=Rn(e,l);return e[i]}function cr(e,t,n){const l=[];let i={[t.children]:e},o=0;for(;i&&i[t.children];){const s=i[t.children],r=n.value[o];if(i=re(r)?Ta(s,r,t):void 0,!i&&s.length){const u=Bo(s)[t.value];i=Ta(s,u,t)}o++,l.push(s)}return l}function rr(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}function sr(e){return J({text:"text",value:"value",children:"children"},e)}const ml=200,hl=300,ur=15,[Do,aa]=z("picker-column"),Po=Symbol(Do);var dr=M({name:Do,props:{value:L,fields:Ce(Object),options:me(),readonly:Boolean,allowHtml:Boolean,optionHeight:Ce(Number),swipeDuration:Ce(L),visibleOptionNum:Ce(L)},emits:["change","clickOption","scrollInto"],setup(e,{emit:t,slots:n}){let l,i,o,s,r;const u=E(),c=E(),d=E(0),f=E(0),v=Ne(),h=()=>e.options.length,y=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,C=D=>{let k=Rn(e.options,D);const B=-k*e.optionHeight,R=()=>{k>h()-1&&(k=Rn(e.options,D));const U=e.options[k][e.fields.value];U!==e.value&&t("change",U)};l&&B!==d.value?r=R:R(),d.value=B},g=()=>e.readonly||!e.options.length,S=D=>{l||g()||(r=null,f.value=ml,C(D),t("clickOption",e.options[D]))},m=D=>Se(Math.round(-D/e.optionHeight),0,h()-1),w=A(()=>m(d.value)),T=(D,k)=>{const B=Math.abs(D/k);D=d.value+B/.003*(D<0?-1:1);const R=m(D);f.value=+e.swipeDuration,C(R)},b=()=>{l=!1,f.value=0,r&&(r(),r=null)},$=D=>{if(!g()){if(v.start(D),l){const k=rr(c.value);d.value=Math.min(0,k-y())}f.value=0,i=d.value,o=Date.now(),s=i,r=null}},O=D=>{if(g())return;v.move(D),v.isVertical()&&(l=!0,ve(D,!0));const k=Se(i+v.deltaY.value,-(h()*e.optionHeight),e.optionHeight),B=m(k);B!==w.value&&t("scrollInto",e.options[B]),d.value=k;const R=Date.now();R-o>hl&&(o=R,s=k)},x=()=>{if(g())return;const D=d.value-s,k=Date.now()-o;if(k<hl&&Math.abs(D)>ur){T(D,k);return}const R=m(d.value);f.value=ml,C(R),setTimeout(()=>{l=!1},0)},P=()=>{const D={height:`${e.optionHeight}px`};return e.options.map((k,B)=>{const R=k[e.fields.text],{disabled:U}=k,X=k[e.fields.value],F={role:"button",style:D,tabindex:U?-1:0,class:[aa("item",{disabled:U,selected:X===e.value}),k.className],onClick:()=>S(B)},p={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:R};return a("li",F,[n.option?n.option(k,B):a("div",p,null)])})};return De(Po),ie({stopMomentum:b}),Zt(()=>{const D=l?Math.floor(-d.value/e.optionHeight):e.options.findIndex(R=>R[e.fields.value]===e.value),k=Rn(e.options,D),B=-k*e.optionHeight;l&&k<D&&b(),d.value=B}),ye("touchmove",O,{target:u}),()=>a("div",{ref:u,class:aa(),onTouchstartPassive:$,onTouchend:x,onTouchcancel:x},[a("ul",{ref:c,style:{transform:`translate3d(0, ${d.value+y()}px, 0)`,transitionDuration:`${f.value}ms`,transitionProperty:f.value?"all":"none"},class:aa("wrapper"),onTransitionend:b},[P()])])}});const[fr]=z("picker-toolbar"),Kn={title:String,cancelButtonText:String,confirmButtonText:String},Io=["cancel","confirm","title","toolbar"],vr=Object.keys(Kn);var Ao=M({name:fr,props:Kn,emits:["confirm","cancel"],setup(e,{emit:t,slots:n}){const l=()=>{if(n.title)return n.title();if(e.title)return a("div",{class:[ot("title"),"van-ellipsis"]},[e.title])},i=()=>t("cancel"),o=()=>t("confirm"),s=()=>{var u;const c=(u=e.cancelButtonText)!=null?u:fl("cancel");if(!(!n.cancel&&!c))return a("button",{type:"button",class:[ot("cancel"),Pe],onClick:i},[n.cancel?n.cancel():c])},r=()=>{var u;const c=(u=e.confirmButtonText)!=null?u:fl("confirm");if(!(!n.confirm&&!c))return a("button",{type:"button",class:[ot("confirm"),Pe],onClick:o},[n.confirm?n.confirm():c])};return()=>a("div",{class:ot("toolbar")},[n.toolbar?n.toolbar():[s(),l(),r()]])}});const Ha=(e,t)=>{const n=E(e());return W(e,l=>{l!==n.value&&(n.value=l)}),W(n,l=>{l!==e()&&t(l)}),n};function mr(e,t,n){let l,i=0;const o=e.scrollLeft,s=n===0?1:Math.round(n*1e3/16);let r=o;function u(){_a(l)}function c(){r+=(t-o)/s,e.scrollLeft=r,++i<s&&(l=Le(c))}return c(),u}function hr(e,t,n,l){let i,o=st(e);const s=o<t,r=n===0?1:Math.round(n*1e3/16),u=(t-o)/r;function c(){_a(i)}function d(){o+=u,(s&&o>t||!s&&o<t)&&(o=t),zn(e,o),s&&o<t||!s&&o>t?i=Le(d):l&&(i=Le(l))}return d(),c}let gr=0;function pt(){const e=yt(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++gr}`}function hn(){const e=E([]),t=[];return Oi(()=>{e.value=[]}),[e,l=>(t[l]||(t[l]=i=>{e.value[l]=i}),t[l])]}function Eo(e,t){if(!Re||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{t(o[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&n.observe(e.value)},i=()=>{e.value&&n.unobserve(e.value)};Pt(i),It(i),mn(l)}const[br,yr]=z("sticky"),xr={zIndex:L,position:H("top"),container:Object,offsetTop:K(0),offsetBottom:K(0)};var wr=M({name:br,props:xr,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const l=E(),i=Jt(l),o=Te({fixed:!1,width:0,height:0,transform:0}),s=E(!1),r=A(()=>Ma(e.position==="top"?e.offsetTop:e.offsetBottom)),u=A(()=>{if(s.value)return;const{fixed:v,height:h,width:y}=o;if(v)return{width:`${y}px`,height:`${h}px`}}),c=A(()=>{if(!o.fixed||s.value)return;const v=J(dt(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${r.value}px`});return o.transform&&(v.transform=`translate3d(0, ${o.transform}px, 0)`),v}),d=v=>t("scroll",{scrollTop:v,isFixed:o.fixed}),f=()=>{if(!l.value||Bt(l))return;const{container:v,position:h}=e,y=ue(l),C=st(window);if(o.width=y.width,o.height=y.height,h==="top")if(v){const g=ue(v),S=g.bottom-r.value-o.height;o.fixed=r.value>y.top&&g.bottom>0,o.transform=S<0?S:0}else o.fixed=r.value>y.top;else{const{clientHeight:g}=document.documentElement;if(v){const S=ue(v),m=g-S.top-r.value-o.height;o.fixed=g-r.value<y.bottom&&g>S.top,o.transform=m<0?-m:0}else o.fixed=g-r.value<y.bottom}d(C)};return W(()=>o.fixed,v=>t("change",v)),ye("scroll",f,{target:i,passive:!0}),Eo(l,f),W([Ue,Fe],()=>{!l.value||Bt(l)||!o.fixed||(s.value=!0,oe(()=>{const v=ue(l);o.width=v.width,o.height=v.height,s.value=!1}))}),()=>{var v;return a("div",{ref:l,style:u.value},[a("div",{class:yr({fixed:o.fixed&&!s.value}),style:c.value},[(v=n.default)==null?void 0:v.call(n)])])}}});const Oo=N(wr),[_o,yn]=z("swipe"),Sr={loop:V,width:L,height:L,vertical:Boolean,autoplay:K(0),duration:K(500),touchable:V,lazyRender:Boolean,initialSwipe:K(0),indicatorColor:String,showIndicators:V,stopPropagation:V},Ro=Symbol(_o);var Cr=M({name:_o,props:Sr,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const l=E(),i=E(),o=Te({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let s=!1;const r=Ne(),{children:u,linkChildren:c}=Ae(Ro),d=A(()=>u.length),f=A(()=>o[e.vertical?"height":"width"]),v=A(()=>e.vertical?r.deltaY.value:r.deltaX.value),h=A(()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-f.value*d.value:0),y=A(()=>f.value?Math.ceil(Math.abs(h.value)/f.value):d.value),C=A(()=>d.value*f.value),g=A(()=>(o.active+d.value)%d.value),S=A(()=>{const _=e.vertical?"vertical":"horizontal";return r.direction.value===_}),m=A(()=>{const _={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(f.value){const Y=e.vertical?"height":"width",q=e.vertical?"width":"height";_[Y]=`${C.value}px`,_[q]=e[q]?`${e[q]}px`:""}return _}),w=_=>{const{active:Y}=o;return _?e.loop?Se(Y+_,-1,d.value):Se(Y+_,0,y.value):Y},T=(_,Y=0)=>{let q=_*f.value;e.loop||(q=Math.min(q,-h.value));let te=Y-q;return e.loop||(te=Se(te,h.value,0)),te},b=({pace:_=0,offset:Y=0,emitChange:q})=>{if(d.value<=1)return;const{active:te}=o,j=w(_),Q=T(j,Y);if(e.loop){if(u[0]&&Q!==h.value){const I=Q<h.value;u[0].setOffset(I?C.value:0)}if(u[d.value-1]&&Q!==0){const I=Q>0;u[d.value-1].setOffset(I?-C.value:0)}}o.active=j,o.offset=Q,q&&j!==te&&t("change",g.value)},$=()=>{o.swiping=!0,o.active<=-1?b({pace:d.value}):o.active>=d.value&&b({pace:-d.value})},O=()=>{$(),r.reset(),bt(()=>{o.swiping=!1,b({pace:-1,emitChange:!0})})},x=()=>{$(),r.reset(),bt(()=>{o.swiping=!1,b({pace:1,emitChange:!0})})};let P;const D=()=>clearTimeout(P),k=()=>{D(),+e.autoplay>0&&d.value>1&&(P=setTimeout(()=>{x(),k()},+e.autoplay))},B=(_=+e.initialSwipe)=>{if(!l.value)return;const Y=()=>{var q,te;if(!Bt(l)){const j={width:l.value.offsetWidth,height:l.value.offsetHeight};o.rect=j,o.width=+((q=e.width)!=null?q:j.width),o.height=+((te=e.height)!=null?te:j.height)}d.value&&(_=Math.min(d.value-1,_),_===-1&&(_=d.value-1)),o.active=_,o.swiping=!0,o.offset=T(_),u.forEach(j=>{j.setOffset(0)}),k()};Bt(l)?oe().then(Y):Y()},R=()=>B(o.active);let U;const X=_=>{!e.touchable||_.touches.length>1||(r.start(_),s=!1,U=Date.now(),D(),$())},F=_=>{e.touchable&&o.swiping&&(r.move(_),S.value&&(!e.loop&&(o.active===0&&v.value>0||o.active===d.value-1&&v.value<0)||(ve(_,e.stopPropagation),b({offset:v.value}),s||(t("dragStart",{index:g.value}),s=!0))))},p=()=>{if(!e.touchable||!o.swiping)return;const _=Date.now()-U,Y=v.value/_;if((Math.abs(Y)>.25||Math.abs(v.value)>f.value/2)&&S.value){const te=e.vertical?r.offsetY.value:r.offsetX.value;let j=0;e.loop?j=te>0?v.value>0?-1:1:0:j=-Math[v.value>0?"ceil":"floor"](v.value/f.value),b({pace:j,emitChange:!0})}else v.value&&b({pace:0});s=!1,o.swiping=!1,t("dragEnd",{index:g.value}),k()},ee=(_,Y={})=>{$(),r.reset(),bt(()=>{let q;e.loop&&_===d.value?q=o.active===0?0:_:q=_%d.value,Y.immediate?bt(()=>{o.swiping=!1}):o.swiping=!1,b({pace:q-o.active,emitChange:!0})})},de=(_,Y)=>{const q=Y===g.value,te=q?{backgroundColor:e.indicatorColor}:void 0;return a("i",{style:te,class:yn("indicator",{active:q})},null)},fe=()=>{if(n.indicator)return n.indicator({active:g.value,total:d.value});if(e.showIndicators&&d.value>1)return a("div",{class:yn("indicators",{vertical:e.vertical})},[Array(d.value).fill("").map(de)])};return ie({prev:O,next:x,state:o,resize:R,swipeTo:ee}),c({size:f,props:e,count:d,activeIndicator:g}),W(()=>e.initialSwipe,_=>B(+_)),W(d,()=>B(o.active)),W(()=>e.autoplay,k),W([Ue,Fe,()=>e.width,()=>e.height],R),W(Yi(),_=>{_==="visible"?k():D()}),$e(B),Dt(()=>B(o.active)),Wn(()=>B(o.active)),Pt(D),It(D),ye("touchmove",F,{target:i}),()=>{var _;return a("div",{ref:l,class:yn()},[a("div",{ref:i,style:m.value,class:yn("track",{vertical:e.vertical}),onTouchstartPassive:X,onTouchend:p,onTouchcancel:p},[(_=n.default)==null?void 0:_.call(n)]),fe()])}}});const Ya=N(Cr),[kr,gl]=z("tabs");var Tr=M({name:kr,props:{count:Ce(Number),inited:Boolean,animated:Boolean,duration:Ce(L),swipeable:Boolean,lazyRender:Boolean,currentIndex:Ce(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const l=E(),i=r=>t("change",r),o=()=>{var r;const u=(r=n.default)==null?void 0:r.call(n);return e.animated||e.swipeable?a(Ya,{ref:l,loop:!1,class:gl("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[u]}):u},s=r=>{const u=l.value;u&&u.state.active!==r&&u.swipeTo(r,{immediate:!e.inited})};return W(()=>e.currentIndex,s),$e(()=>{s(e.currentIndex)}),ie({swipeRef:l}),()=>a("div",{class:gl("content",{animated:e.animated||e.swipeable})},[o()])}});const[Vo,xn]=z("tabs"),$r={type:H("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:K(0),duration:K(.3),animated:Boolean,ellipsis:V,swipeable:Boolean,scrollspy:Boolean,offsetTop:K(0),background:String,lazyRender:V,showHeader:V,lineWidth:L,lineHeight:L,beforeChange:Function,swipeThreshold:K(5),titleActiveColor:String,titleInactiveColor:String},Mo=Symbol(Vo);var Br=M({name:Vo,props:$r,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let l,i,o,s,r;const u=E(),c=E(),d=E(),f=E(),v=pt(),h=Jt(u),[y,C]=hn(),{children:g,linkChildren:S}=Ae(Mo),m=Te({inited:!1,position:"",lineStyle:{},currentIndex:-1}),w=A(()=>g.length>+e.swipeThreshold||!e.ellipsis||e.shrink),T=A(()=>({borderColor:e.color,background:e.background})),b=(j,Q)=>{var I;return(I=j.name)!=null?I:Q},$=A(()=>{const j=g[m.currentIndex];if(j)return b(j,m.currentIndex)}),O=A(()=>Ma(e.offsetTop)),x=A(()=>e.sticky?O.value+l:0),P=j=>{const Q=c.value,I=y.value;if(!w.value||!Q||!I||!I[m.currentIndex])return;const G=I[m.currentIndex].$el,Z=G.offsetLeft-(Q.offsetWidth-G.offsetWidth)/2;s&&s(),s=mr(Q,Z,j?0:+e.duration)},D=()=>{const j=m.inited;oe(()=>{const Q=y.value;if(!Q||!Q[m.currentIndex]||e.type!=="line"||Bt(u.value))return;const I=Q[m.currentIndex].$el,{lineWidth:G,lineHeight:Z}=e,ce=I.offsetLeft+I.offsetWidth/2,he={width:ne(G),backgroundColor:e.color,transform:`translateX(${ce}px) translateX(-50%)`};if(j&&(he.transitionDuration=`${e.duration}s`),re(Z)){const Ve=ne(Z);he.height=Ve,he.borderRadius=Ve}m.lineStyle=he})},k=j=>{const Q=j<m.currentIndex?-1:1;for(;j>=0&&j<g.length;){if(!g[j].disabled)return j;j+=Q}},B=(j,Q)=>{const I=k(j);if(!re(I))return;const G=g[I],Z=b(G,I),ce=m.currentIndex!==null;m.currentIndex!==I&&(m.currentIndex=I,Q||P(),D()),Z!==e.active&&(t("update:active",Z),ce&&t("change",Z,G.title)),o&&!e.scrollspy&&fn(Math.ceil(nl(u.value)-O.value))},R=(j,Q)=>{const I=g.find((Z,ce)=>b(Z,ce)===j),G=I?g.indexOf(I):0;B(G,Q)},U=(j=!1)=>{if(e.scrollspy){const Q=g[m.currentIndex].$el;if(Q&&h.value){const I=nl(Q,h.value)-x.value;i=!0,r&&r(),r=hr(h.value,I,j?0:+e.duration,()=>{i=!1})}}},X=(j,Q,I)=>{const{title:G,disabled:Z}=g[Q],ce=b(g[Q],Q);Z||(wt(e.beforeChange,{args:[ce],done:()=>{B(Q),U()}}),wo(j)),t("clickTab",{name:ce,title:G,event:I,disabled:Z})},F=j=>{o=j.isFixed,t("scroll",j)},p=j=>{oe(()=>{R(j),U(!0)})},ee=()=>{for(let j=0;j<g.length;j++){const{top:Q}=ue(g[j].$el);if(Q>x.value)return j===0?0:j-1}return g.length-1},de=()=>{if(e.scrollspy&&!i){const j=ee();B(j)}},fe=()=>{if(e.type==="line"&&g.length)return a("div",{class:xn("line"),style:m.lineStyle},null)},_=()=>{var j,Q,I;const{type:G,border:Z,sticky:ce}=e,he=[a("div",{ref:ce?void 0:d,class:[xn("wrap"),{[jn]:G==="line"&&Z}]},[a("div",{ref:c,role:"tablist",class:xn("nav",[G,{shrink:e.shrink,complete:w.value}]),style:T.value,"aria-orientation":"horizontal"},[(j=n["nav-left"])==null?void 0:j.call(n),g.map(Ve=>Ve.renderTitle(X)),fe(),(Q=n["nav-right"])==null?void 0:Q.call(n)])]),(I=n["nav-bottom"])==null?void 0:I.call(n)];return ce?a("div",{ref:d},[he]):he},Y=()=>{D(),oe(()=>{var j,Q;P(!0),(Q=(j=f.value)==null?void 0:j.swipeRef.value)==null||Q.resize()})};W(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],D),W(Ue,Y),W(()=>e.active,j=>{j!==$.value&&R(j)}),W(()=>g.length,()=>{m.inited&&(R(e.active),D(),oe(()=>{P(!0)}))});const q=()=>{R(e.active,!0),oe(()=>{m.inited=!0,d.value&&(l=ue(d.value).height),P(!0)})},te=(j,Q)=>t("rendered",j,Q);return ie({resize:Y,scrollTo:p}),Dt(D),Wn(D),mn(q),Eo(u,D),ye("scroll",de,{target:h,passive:!0}),S({id:v,props:e,setLine:D,scrollable:w,onRendered:te,currentName:$,setTitleRefs:C,scrollIntoView:P}),()=>a("div",{ref:u,class:xn([e.type])},[e.showHeader?e.sticky?a(Oo,{container:u.value,offsetTop:O.value,onScroll:F},{default:()=>[_()]}):_():null,a(Tr,{ref:f,count:g.length,inited:m.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:m.currentIndex,onChange:B},{default:()=>{var j;return[(j=n.default)==null?void 0:j.call(n)]}})])}});const zo=Symbol(),Dr=()=>Oa(zo,null),[Pr,bl]=z("tab"),Ir=M({name:Pr,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:L,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:V},setup(e,{slots:t}){const n=A(()=>{const i={},{type:o,color:s,disabled:r,isActive:u,activeColor:c,inactiveColor:d}=e;s&&o==="card"&&(i.borderColor=s,r||(u?i.backgroundColor=s:i.color=s));const v=u?c:d;return v&&(i.color=v),i}),l=()=>{const i=a("span",{class:bl("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||re(e.badge)&&e.badge!==""?a(Ot,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[i]}):i};return()=>a("div",{id:e.id,role:"tab",class:[bl([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[l()])}}),[Ar,Er]=z("swipe-item");var Or=M({name:Ar,setup(e,{slots:t}){let n;const l=Te({offset:0,inited:!1,mounted:!1}),{parent:i,index:o}=De(Ro);if(!i)return;const s=A(()=>{const c={},{vertical:d}=i.props;return i.size.value&&(c[d?"height":"width"]=`${i.size.value}px`),l.offset&&(c.transform=`translate${d?"Y":"X"}(${l.offset}px)`),c}),r=A(()=>{const{loop:c,lazyRender:d}=i.props;if(!d||n)return!0;if(!l.mounted)return!1;const f=i.activeIndicator.value,v=i.count.value-1,h=f===0&&c?v:f-1,y=f===v&&c?0:f+1;return n=o.value===f||o.value===h||o.value===y,n}),u=c=>{l.offset=c};return $e(()=>{oe(()=>{l.mounted=!0})}),ie({setOffset:u}),()=>{var c;return a("div",{class:Er(),style:s.value},[r.value?(c=t.default)==null?void 0:c.call(t):null])}}});const ja=N(Or),[_r,la]=z("tab"),Rr=J({},St,{dot:Boolean,name:L,badge:L,title:String,disabled:Boolean,titleClass:ge,titleStyle:[String,Object],showZeroBadge:V});var Vr=M({name:_r,props:Rr,setup(e,{slots:t}){const n=pt(),l=E(!1),i=yt(),{parent:o,index:s}=De(Mo);if(!o)return;const r=()=>{var y;return(y=e.name)!=null?y:s.value},u=()=>{l.value=!0,o.props.lazyRender&&oe(()=>{o.onRendered(r(),e.title)})},c=A(()=>{const y=r()===o.currentName.value;return y&&!l.value&&u(),y}),d=E(""),f=E("");Zt(()=>{const{titleClass:y,titleStyle:C}=e;d.value=y?_i(y):"",f.value=C&&typeof C!="string"?Ri(Vi(C)):C});const v=y=>a(Ir,le({key:n,id:`${o.id}-${s.value}`,ref:o.setTitleRefs(s.value),style:f.value,class:d.value,isActive:c.value,controls:n,scrollable:o.scrollable.value,activeColor:o.props.titleActiveColor,inactiveColor:o.props.titleInactiveColor,onClick:C=>y(i.proxy,s.value,C)},se(o.props,["type","color","shrink"]),se(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),h=E(!c.value);return W(c,y=>{y?h.value=!1:bt(()=>{h.value=!0})}),W(()=>e.title,()=>{o.setLine(),o.scrollIntoView()}),Nn(zo,c),ie({id:n,renderTitle:v}),()=>{var y;const C=`${o.id}-${s.value}`,{animated:g,swipeable:S,scrollspy:m,lazyRender:w}=o.props;if(!t.default&&!g)return;const T=m||c.value;if(g||S)return a(ja,{id:n,role:"tabpanel",class:la("panel-wrapper",{inactive:h.value}),tabindex:c.value?0:-1,"aria-hidden":!c.value,"aria-labelledby":C,"data-allow-mismatch":"attribute"},{default:()=>{var O;return[a("div",{class:la("panel")},[(O=t.default)==null?void 0:O.call(t)])]}});const $=l.value||m||!w?(y=t.default)==null?void 0:y.call(t):null;return ke(a("div",{id:n,role:"tabpanel",class:la("panel"),tabindex:T?0:-1,"aria-labelledby":C,"data-allow-mismatch":"attribute"},[$]),[[Be,T]])}}});const vn=N(Vr),Gn=N(Br),[Lo,oa]=z("picker-group"),Fo=Symbol(Lo),Mr=J({tabs:me(),activeTab:K(0),nextStepText:String,showToolbar:V},Kn);var zr=M({name:Lo,props:Mr,emits:["confirm","cancel","update:activeTab"],setup(e,{emit:t,slots:n}){const l=Ha(()=>e.activeTab,c=>t("update:activeTab",c)),{children:i,linkChildren:o}=Ae(Fo);o();const s=()=>+l.value<e.tabs.length-1&&e.nextStepText,r=()=>{s()?l.value=+l.value+1:t("confirm",i.map(c=>c.confirm()))},u=()=>t("cancel");return()=>{var c,d;let f=(d=(c=n.default)==null?void 0:c.call(n))==null?void 0:d.filter(h=>h.type!==eo).map(h=>h.type===rt?h.children:h);f&&(f=qi(f));const v=s()?e.nextStepText:e.confirmButtonText;return a("div",{class:oa()},[e.showToolbar?a(Ao,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:v,onConfirm:r,onCancel:u},se(n,Io)):null,a(Gn,{active:l.value,"onUpdate:active":h=>l.value=h,class:oa("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[e.tabs.map((h,y)=>a(vn,{title:h,titleClass:oa("tab-title")},{default:()=>[f==null?void 0:f[y]]}))]})])}}});const Xn=J({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:K(44),showToolbar:V,swipeDuration:K(1e3),visibleOptionNum:K(6)},Kn),Lr=J({},Xn,{columns:me(),modelValue:me(),toolbarPosition:H("top"),columnsFieldNames:Object});var Fr=M({name:or,props:Lr,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:t,slots:n}){const l=E(),i=E(e.modelValue.slice(0)),{parent:o}=De(Fo),{children:s,linkChildren:r}=Ae(Po);r();const u=A(()=>sr(e.columnsFieldNames)),c=A(()=>Ma(e.optionHeight)),d=A(()=>ir(e.columns,u.value)),f=A(()=>{const{columns:k}=e;switch(d.value){case"multiple":return k;case"cascade":return cr(k,u.value,i);default:return[k]}}),v=A(()=>f.value.some(k=>k.length)),h=A(()=>f.value.map((k,B)=>Ta(k,i.value[B],u.value))),y=A(()=>f.value.map((k,B)=>k.findIndex(R=>R[u.value.value]===i.value[B]))),C=(k,B)=>{if(i.value[k]!==B){const R=i.value.slice(0);R[k]=B,i.value=R}},g=()=>({selectedValues:i.value.slice(0),selectedOptions:h.value,selectedIndexes:y.value}),S=(k,B)=>{C(B,k),d.value==="cascade"&&i.value.forEach((R,U)=>{const X=f.value[U];vl(X,R,u.value)||C(U,X.length?X[0][u.value.value]:void 0)}),oe(()=>{t("change",J({columnIndex:B},g()))})},m=(k,B)=>{const R={columnIndex:B,currentOption:k};t("clickOption",J(g(),R)),t("scrollInto",R)},w=()=>{s.forEach(B=>B.stopMomentum());const k=g();return oe(()=>{t("confirm",k)}),k},T=()=>t("cancel",g()),b=()=>f.value.map((k,B)=>a(dr,{value:i.value[B],fields:u.value,options:k,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:c.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:R=>S(R,B),onClickOption:R=>m(R,B),onScrollInto:R=>{t("scrollInto",{currentOption:R,columnIndex:B})}},{option:n.option})),$=k=>{if(v.value){const B={height:`${c.value}px`},R={backgroundSize:`100% ${(k-c.value)/2}px`};return[a("div",{class:ot("mask"),style:R},null),a("div",{class:[fc,ot("frame")],style:B},null)]}},O=()=>{const k=c.value*+e.visibleOptionNum,B={height:`${k}px`};return a("div",{ref:l,class:ot("columns"),style:B},[b(),$(k)])},x=()=>{if(e.showToolbar&&!o)return a(Ao,le(se(e,vr),{onConfirm:w,onCancel:T}),se(n,Io))};W(f,k=>{k.forEach((B,R)=>{B.length&&!vl(B,i.value[R],u.value)&&C(R,Bo(B)[u.value.value])})},{immediate:!0});let P;return W(()=>e.modelValue,k=>{!Qe(k,i.value)&&!Qe(k,P)&&(i.value=k.slice(0),P=k.slice(0))},{deep:!0}),W(i,k=>{Qe(k,e.modelValue)||(P=k.slice(0),t("update:modelValue",P))},{immediate:!0}),ye("touchmove",ve,{target:l}),ie({confirm:w,getSelectedOptions:()=>h.value}),()=>{var k,B;return a("div",{class:ot()},[e.toolbarPosition==="top"?x():null,e.loading?a(Ke,{class:ot("loading")},null):null,(k=n["columns-top"])==null?void 0:k.call(n),O(),(B=n["columns-bottom"])==null?void 0:B.call(n),e.toolbarPosition==="bottom"?x():null])}}});const Ut="000000",Nr=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],No=["title","loading","readonly","optionHeight","swipeDuration","visibleOptionNum","cancelButtonText","confirmButtonText"],vt=(e="",t=Ut,n=void 0)=>({text:e,value:t,children:n});function Hr({areaList:e,columnsNum:t,columnsPlaceholder:n}){const{city_list:l={},county_list:i={},province_list:o={}}=e,s=+t>1,r=+t>2,u=()=>{if(s)return n.length>1?[vt(n[1],Ut,r?[]:void 0)]:[]},c=new Map;Object.keys(o).forEach(v=>{c.set(v.slice(0,2),vt(o[v],v,u()))});const d=new Map;if(s){const v=()=>{if(r)return n.length>2?[vt(n[2])]:[]};Object.keys(l).forEach(h=>{const y=vt(l[h],h,v());d.set(h.slice(0,4),y);const C=c.get(h.slice(0,2));C&&C.children.push(y)})}r&&Object.keys(i).forEach(v=>{const h=d.get(v.slice(0,4));h&&h.children.push(vt(i[v],v))});const f=Array.from(c.values());if(n.length){const v=r?[vt(n[2])]:void 0,h=s?[vt(n[1],Ut,v)]:void 0;f.unshift(vt(n[0],Ut,h))}return f}const qn=N(Fr),[Yr,jr]=z("area"),Wr=J({},se(Xn,No),{modelValue:String,columnsNum:K(3),columnsPlaceholder:me(),areaList:{type:Object,default:()=>({})}});var Ur=M({name:Yr,props:Wr,emits:["change","confirm","cancel","update:modelValue"],setup(e,{emit:t,slots:n}){const l=E([]),i=E(),o=A(()=>Hr(e)),s=(...c)=>t("change",...c),r=(...c)=>t("cancel",...c),u=(...c)=>t("confirm",...c);return W(l,c=>{const d=c.length?c[c.length-1]:"";d&&d!==e.modelValue&&t("update:modelValue",d)},{deep:!0}),W(()=>e.modelValue,c=>{if(c){const d=l.value.length?l.value[l.value.length-1]:"";c!==d&&(l.value=[`${c.slice(0,2)}0000`,`${c.slice(0,4)}00`,c].slice(0,+e.columnsNum))}else l.value=[]},{immediate:!0}),ie({confirm:()=>{var c;return(c=i.value)==null?void 0:c.confirm()},getSelectedOptions:()=>{var c;return((c=i.value)==null?void 0:c.getSelectedOptions())||[]}}),()=>a(qn,le({ref:i,modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,class:jr(),columns:o.value,onChange:s,onCancel:r,onConfirm:u},se(e,No)),se(n,Nr))}});const Ho=N(Ur),[Kr,Rt]=z("cell"),Zn={tag:H("div"),icon:String,size:String,title:L,value:L,label:L,center:Boolean,isLink:Boolean,border:V,iconPrefix:String,valueClass:ge,labelClass:ge,titleClass:ge,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},Gr=J({},Zn,St);var Xr=M({name:Kr,props:Gr,setup(e,{slots:t}){const n=Et(),l=()=>{if(t.label||re(e.label))return a("div",{class:[Rt("label"),e.labelClass]},[t.label?t.label():e.label])},i=()=>{var u;if(t.title||re(e.title)){const c=(u=t.title)==null?void 0:u.call(t);return Array.isArray(c)&&c.length===0?void 0:a("div",{class:[Rt("title"),e.titleClass],style:e.titleStyle},[c||a("span",null,[e.title]),l()])}},o=()=>{const u=t.value||t.default;if(u||re(e.value))return a("div",{class:[Rt("value"),e.valueClass]},[u?u():a("span",null,[e.value])])},s=()=>{if(t.icon)return t.icon();if(e.icon)return a(ae,{name:e.icon,class:Rt("left-icon"),classPrefix:e.iconPrefix},null)},r=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const u=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return a(ae,{name:u,class:Rt("right-icon")},null)}};return()=>{var u;const{tag:c,size:d,center:f,border:v,isLink:h,required:y}=e,C=(u=e.clickable)!=null?u:h,g={center:f,required:!!y,clickable:C,borderless:!v};return d&&(g[d]=!!d),a(c,{class:Rt(g),role:C?"button":void 0,tabindex:C?0:void 0,onClick:n},{default:()=>{var S;return[s(),i(),o(),r(),(S=t.extra)==null?void 0:S.call(t)]}})}}});const Xe=N(Xr),[qr,Zr]=z("form"),Jr={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:L,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:V,showErrorMessage:V,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Qr=M({name:qr,props:Jr,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:l,linkChildren:i}=Ae(mo),o=g=>g?l.filter(S=>g.includes(S.name)):l,s=g=>new Promise((S,m)=>{const w=[];o(g).reduce((b,$)=>b.then(()=>{if(!w.length)return $.validate().then(O=>{O&&w.push(O)})}),Promise.resolve()).then(()=>{w.length?m(w):S()})}),r=g=>new Promise((S,m)=>{const w=o(g);Promise.all(w.map(T=>T.validate())).then(T=>{T=T.filter(Boolean),T.length?m(T):S()})}),u=g=>{const S=l.find(m=>m.name===g);return S?new Promise((m,w)=>{S.validate().then(T=>{T?w(T):m()})}):Promise.reject()},c=g=>typeof g=="string"?u(g):e.validateFirst?s(g):r(g),d=g=>{typeof g=="string"&&(g=[g]),o(g).forEach(m=>{m.resetValidation()})},f=()=>l.reduce((g,S)=>(g[S.name]=S.getValidationStatus(),g),{}),v=(g,S)=>{l.some(m=>m.name===g?(m.$el.scrollIntoView(S),!0):!1)},h=()=>l.reduce((g,S)=>(S.name!==void 0&&(g[S.name]=S.formValue.value),g),{}),y=()=>{const g=h();c().then(()=>t("submit",g)).catch(S=>{t("failed",{values:g,errors:S});const{scrollToError:m,scrollToErrorPosition:w}=e;m&&S[0].name&&v(S[0].name,w?{block:w}:void 0)})},C=g=>{ve(g),y()};return i({props:e}),ie({submit:y,validate:c,getValues:h,scrollToField:v,resetValidation:d,getValidationStatus:f}),()=>{var g;return a("form",{class:Zr(),onSubmit:C},[(g=n.default)==null?void 0:g.call(n)])}}});const Wa=N(Qr);function Yo(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function pr(e,t){if(Yo(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function es(e,t){return new Promise(n=>{const l=t.validator(e,t);if(Ra(l)){l.then(n);return}n(l)})}function yl(e,t){const{message:n}=t;return Xt(n)?n(e,t):n||""}function ts({target:e}){e.composing=!0}function xl({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function ns(e,t){const n=$t();e.style.height="auto";let l=e.scrollHeight;if(pe(t)){const{maxHeight:i,minHeight:o}=t;i!==void 0&&(l=Math.min(l,i)),o!==void 0&&(l=Math.max(l,o))}l&&(e.style.height=`${l}px`,fn(n))}function as(e,t){return e==="number"&&(e="text",t??(t="decimal")),e==="digit"&&(e="tel",t??(t="numeric")),{type:e,inputmode:t}}function tt(e){return[...e].length}function ia(e,t){return[...e].slice(0,t).join("")}const[ls,ze]=z("field"),Ua={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:L,max:Number,min:Number,formatter:Function,clearIcon:H("clear"),modelValue:K(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:H("focus"),formatTrigger:H("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},os=J({},Zn,Ua,{rows:L,type:H("text"),rules:Array,autosize:[Boolean,Object],labelWidth:L,labelClass:ge,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var is=M({name:ls,props:os,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const l=pt(),i=Te({status:"unvalidated",focused:!1,validateMessage:""}),o=E(),s=E(),r=E(),{parent:u}=De(mo),c=()=>{var I;return String((I=e.modelValue)!=null?I:"")},d=I=>{if(re(e[I]))return e[I];if(u&&re(u.props[I]))return u.props[I]},f=A(()=>{const I=d("readonly");if(e.clearable&&!I){const G=c()!=="",Z=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return G&&Z}return!1}),v=A(()=>r.value&&n.input?r.value():e.modelValue),h=A(()=>{var I;const G=d("required");return G==="auto"?(I=e.rules)==null?void 0:I.some(Z=>Z.required):G}),y=I=>I.reduce((G,Z)=>G.then(()=>{if(i.status==="failed")return;let{value:ce}=v;if(Z.formatter&&(ce=Z.formatter(ce,Z)),!pr(ce,Z)){i.status="failed",i.validateMessage=yl(ce,Z);return}if(Z.validator)return Yo(ce)&&Z.validateEmpty===!1?void 0:es(ce,Z).then(he=>{he&&typeof he=="string"?(i.status="failed",i.validateMessage=he):he===!1&&(i.status="failed",i.validateMessage=yl(ce,Z))})}),Promise.resolve()),C=()=>{i.status="unvalidated",i.validateMessage=""},g=()=>t("endValidate",{status:i.status,message:i.validateMessage}),S=(I=e.rules)=>new Promise(G=>{C(),I?(t("startValidate"),y(I).then(()=>{i.status==="failed"?(G({name:e.name,message:i.validateMessage}),g()):(i.status="passed",G(),g())})):G()}),m=I=>{if(u&&e.rules){const{validateTrigger:G}=u.props,Z=Mn(G).includes(I),ce=e.rules.filter(he=>he.trigger?Mn(he.trigger).includes(I):Z);ce.length&&S(ce)}},w=I=>{var G;const{maxlength:Z}=e;if(re(Z)&&tt(I)>+Z){const ce=c();if(ce&&tt(ce)===+Z)return ce;const he=(G=o.value)==null?void 0:G.selectionEnd;if(i.focused&&he){const Ve=[...I],Ct=Ve.length-+Z;return Ve.splice(he-Ct,Ct),Ve.join("")}return ia(I,+Z)}return I},T=(I,G="onChange")=>{var Z,ce;const he=I;I=w(I);const Ve=tt(he)-tt(I);if(e.type==="number"||e.type==="digit"){const qe=e.type==="number";I=Sa(I,qe,qe),G==="onBlur"&&I!==""&&(e.min!==void 0||e.max!==void 0)&&(I=Se(+I,(Z=e.min)!=null?Z:-1/0,(ce=e.max)!=null?ce:1/0).toString())}let Ct=0;if(e.formatter&&G===e.formatTrigger){const{formatter:qe,maxlength:et}=e;if(I=qe(I),re(et)&&tt(I)>+et&&(I=ia(I,+et)),o.value&&i.focused){const{selectionEnd:gn}=o.value,el=ia(he,gn);Ct=tt(qe(el))-tt(el)}}if(o.value&&o.value.value!==I)if(i.focused){let{selectionStart:qe,selectionEnd:et}=o.value;if(o.value.value=I,re(qe)&&re(et)){const gn=tt(I);Ve?(qe-=Ve,et-=Ve):Ct&&(qe+=Ct,et+=Ct),o.value.setSelectionRange(Math.min(qe,gn),Math.min(et,gn))}}else o.value.value=I;I!==e.modelValue&&t("update:modelValue",I)},b=I=>{I.target.composing||T(I.target.value)},$=()=>{var I;return(I=o.value)==null?void 0:I.blur()},O=()=>{var I;return(I=o.value)==null?void 0:I.focus()},x=()=>{const I=o.value;e.type==="textarea"&&e.autosize&&I&&ns(I,e.autosize)},P=I=>{i.focused=!0,t("focus",I),oe(x),d("readonly")&&$()},D=I=>{i.focused=!1,T(c(),"onBlur"),t("blur",I),!d("readonly")&&(m("onBlur"),oe(x),io())},k=I=>t("clickInput",I),B=I=>t("clickLeftIcon",I),R=I=>t("clickRightIcon",I),U=I=>{ve(I),t("update:modelValue",""),t("clear",I)},X=A(()=>{if(typeof e.error=="boolean")return e.error;if(u&&u.props.showError&&i.status==="failed")return!0}),F=A(()=>{const I=d("labelWidth"),G=d("labelAlign");if(I&&G!=="top")return{width:ne(I)}}),p=I=>{I.keyCode===13&&(!(u&&u.props.submitOnEnter)&&e.type!=="textarea"&&ve(I),e.type==="search"&&$()),t("keypress",I)},ee=()=>e.id||`${l}-input`,de=()=>i.status,fe=()=>{const I=ze("control",[d("inputAlign"),{error:X.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return a("div",{class:I,onClick:k},[n.input()]);const G={id:ee(),ref:o,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:I,disabled:d("disabled"),readonly:d("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${l}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:D,onFocus:P,onInput:b,onClick:k,onChange:xl,onKeypress:p,onCompositionend:xl,onCompositionstart:ts};return e.type==="textarea"?a("textarea",le(G,{inputmode:e.inputmode}),null):a("input",le(as(e.type,e.inputmode),G),null)},_=()=>{const I=n["left-icon"];if(e.leftIcon||I)return a("div",{class:ze("left-icon"),onClick:B},[I?I():a(ae,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Y=()=>{const I=n["right-icon"];if(e.rightIcon||I)return a("div",{class:ze("right-icon"),onClick:R},[I?I():a(ae,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},q=()=>{if(e.showWordLimit&&e.maxlength){const I=tt(c());return a("div",{class:ze("word-limit")},[a("span",{class:ze("word-num")},[I]),to("/"),e.maxlength])}},te=()=>{if(u&&u.props.showErrorMessage===!1)return;const I=e.errorMessage||i.validateMessage;if(I){const G=n["error-message"],Z=d("errorMessageAlign");return a("div",{class:ze("error-message",Z)},[G?G({message:I}):I])}},j=()=>{const I=d("labelWidth"),G=d("labelAlign"),Z=d("colon")?":":"";if(n.label)return[n.label(),Z];if(e.label)return a("label",{id:`${l}-label`,for:n.input?void 0:ee(),"data-allow-mismatch":"attribute",onClick:ce=>{ve(ce),O()},style:G==="top"&&I?{width:ne(I)}:void 0},[e.label+Z])},Q=()=>[a("div",{class:ze("body")},[fe(),f.value&&a(ae,{ref:s,name:e.clearIcon,class:ze("clear")},null),Y(),n.button&&a("div",{class:ze("button")},[n.button()])]),q(),te()];return ie({blur:$,focus:O,validate:S,formValue:v,resetValidation:C,getValidationStatus:de}),Nn(ji,{customValue:r,resetValidation:C,validateWithTrigger:m}),W(()=>e.modelValue,()=>{T(c()),C(),m("onChange"),oe(x)}),$e(()=>{T(c(),e.formatTrigger),oe(x)}),ye("touchstart",U,{target:A(()=>{var I;return(I=s.value)==null?void 0:I.$el})}),()=>{const I=d("disabled"),G=d("labelAlign"),Z=_(),ce=()=>{const he=j();return G==="top"?[Z,he].filter(Boolean):he||[]};return a(Xe,{size:e.size,class:ze({error:X.value,disabled:I,[`label-${G}`]:G}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:F.value,valueClass:ze("value"),titleClass:[ze("label",[G,{required:h.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:Z&&G!=="top"?()=>Z:null,title:ce,value:Q,extra:n.extra})}}});const it=N(is);let tn=0;function cs(e){e?(tn||document.body.classList.add("van-toast--unclickable"),tn++):tn&&(tn--,tn||document.body.classList.remove("van-toast--unclickable"))}const[rs,Vt]=z("toast"),ss=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],us={icon:String,show:Boolean,type:H("text"),overlay:Boolean,message:L,iconSize:L,duration:xe(2e3),position:H("middle"),teleport:[String,Object],wordBreak:String,className:ge,iconPrefix:String,transition:H("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:ge,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:L};var jo=M({name:rs,props:us,emits:["update:show"],setup(e,{emit:t,slots:n}){let l,i=!1;const o=()=>{const f=e.show&&e.forbidClick;i!==f&&(i=f,cs(i))},s=f=>t("update:show",f),r=()=>{e.closeOnClick&&s(!1)},u=()=>clearTimeout(l),c=()=>{const{icon:f,type:v,iconSize:h,iconPrefix:y,loadingType:C}=e;if(f||v==="success"||v==="fail")return a(ae,{name:f||v,size:h,class:Vt("icon"),classPrefix:y},null);if(v==="loading")return a(Ke,{class:Vt("loading"),size:h,type:C},null)},d=()=>{const{type:f,message:v}=e;if(n.message)return a("div",{class:Vt("text")},[n.message()]);if(re(v)&&v!=="")return f==="html"?a("div",{key:0,class:Vt("text"),innerHTML:String(v)},null):a("div",{class:Vt("text")},[v])};return W(()=>[e.show,e.forbidClick],o),W(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(l=setTimeout(()=>{s(!1)},e.duration))}),$e(o),no(o),()=>a(Ge,le({class:[Vt([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:r,onClosed:u,"onUpdate:show":s},se(e,ss)),{default:()=>[c(),d()]})}});function Jn(){const e=Te({show:!1}),t=i=>{e.show=i},n=i=>{J(e,i,{transitionAppear:!0}),t(!0)},l=()=>t(!1);return ie({open:n,close:l,toggle:t}),{open:n,close:l,state:e,toggle:t}}function Qn(e){const t=Mi(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const ds={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let wn=[],fs=!1,wl=J({},ds);const vs=new Map;function ms(e){return pe(e)?e:{message:e}}function hs(){const{instance:e,unmount:t}=Qn({setup(){const n=E(""),{open:l,state:i,close:o,toggle:s}=Jn(),r=()=>{},u=()=>a(jo,le(i,{onClosed:r,"onUpdate:show":s}),null);return W(n,c=>{i.message=c}),yt().render=u,{open:l,close:o,message:n}}});return e}function gs(){if(!wn.length||fs){const e=hs();wn.push(e)}return wn[wn.length-1]}function $a(e={}){if(!Re)return{};const t=gs(),n=ms(e);return t.open(J({},wl,vs.get(n.type||wl.type),n)),t}const bs=N(jo),[ys,ca]=z("switch"),xs={size:L,loading:Boolean,disabled:Boolean,modelValue:ge,activeColor:String,inactiveColor:String,activeValue:{type:ge,default:!0},inactiveValue:{type:ge,default:!1}};var ws=M({name:ys,props:xs,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const l=()=>e.modelValue===e.activeValue,i=()=>{if(!e.disabled&&!e.loading){const s=l()?e.inactiveValue:e.activeValue;t("update:modelValue",s),t("change",s)}},o=()=>{if(e.loading){const s=l()?e.activeColor:e.inactiveColor;return a(Ke,{class:ca("loading"),color:s},null)}if(n.node)return n.node()};return xt(()=>e.modelValue),()=>{var s;const{size:r,loading:u,disabled:c,activeColor:d,inactiveColor:f}=e,v=l(),h={fontSize:ne(r),backgroundColor:v?d:f};return a("div",{role:"switch",class:ca({on:v,loading:u,disabled:c}),style:h,tabindex:c?void 0:0,"aria-checked":v,onClick:i},[a("div",{class:ca("node")},[o()]),(s=n.background)==null?void 0:s.call(n)])}}});const Ka=N(ws),[Ss,Sl]=z("address-edit-detail"),Cl=z("address-edit")[2];var Cs=M({name:Ss,props:{show:Boolean,rows:L,value:String,rules:Array,focused:Boolean,maxlength:L,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","selectSearch"],setup(e,{emit:t}){const n=E(),l=()=>e.focused&&e.searchResult&&e.showSearchResult,i=c=>{t("selectSearch",c),t("input",`${c.address||""} ${c.name||""}`.trim())},o=()=>{if(!l())return;const{searchResult:c}=e;return c.map(d=>a(Xe,{clickable:!0,key:(d.name||"")+(d.address||""),icon:"location-o",title:d.name,label:d.address,class:Sl("search-item"),border:!1,onClick:()=>i(d)},null))},s=c=>t("blur",c),r=c=>t("focus",c),u=c=>t("input",c);return()=>{if(e.show)return a(rt,null,[a(it,{autosize:!0,clearable:!0,ref:n,class:Sl(),rows:e.rows,type:"textarea",rules:e.rules,label:Cl("addressDetail"),border:!l(),maxlength:e.maxlength,modelValue:e.value,placeholder:Cl("addressDetail"),onBlur:s,onFocus:r,"onUpdate:modelValue":u},null),o()])}}});const[ks,Mt,Ee]=z("address-edit"),Wo={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,addressDetail:""},Ts={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:V,showDetail:V,showDelete:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:L,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:K(1),detailMaxlength:K(200),areaColumnsPlaceholder:me(),addressInfo:{type:Object,default:()=>J({},Wo)},telValidator:{type:Function,default:lo}};var $s=M({name:ks,props:Ts,emits:["save","focus","change","delete","clickArea","changeArea","changeDetail","selectSearch","changeDefault"],setup(e,{emit:t,slots:n}){const l=E(),i=Te({}),o=E(!1),s=E(!1),r=A(()=>pe(e.areaList)&&Object.keys(e.areaList).length),u=A(()=>{const{province:$,city:O,county:x,areaCode:P}=i;if(P){const D=[$,O,x];return $&&$===O&&D.splice(1,1),D.filter(Boolean).join("/")}return""}),c=A(()=>{var $;return(($=e.searchResult)==null?void 0:$.length)&&s.value}),d=$=>{s.value=$==="addressDetail",t("focus",$)},f=($,O)=>{t("change",{key:$,value:O})},v=A(()=>{const{validator:$,telValidator:O}=e,x=(P,D)=>({validator:k=>{if($){const B=$(P,k);if(B)return B}return k?!0:D}});return{name:[x("name",Ee("nameEmpty"))],tel:[x("tel",Ee("telInvalid")),{validator:O,message:Ee("telInvalid")}],areaCode:[x("areaCode",Ee("areaEmpty"))],addressDetail:[x("addressDetail",Ee("addressEmpty"))]}}),h=()=>t("save",i),y=$=>{i.addressDetail=$,t("changeDetail",$)},C=$=>{i.province=$[0].text,i.city=$[1].text,i.county=$[2].text},g=({selectedValues:$,selectedOptions:O})=>{$.some(x=>x===Ut)?$a(Ee("areaEmpty")):(o.value=!1,C(O),t("changeArea",O))},S=()=>t("delete",i),m=$=>{i.areaCode=$||""},w=()=>{setTimeout(()=>{s.value=!1})},T=$=>{i.addressDetail=$},b=()=>{if(e.showSetDefault){const $={"right-icon":()=>a(Ka,{modelValue:i.isDefault,"onUpdate:modelValue":O=>i.isDefault=O,onChange:O=>t("changeDefault",O)},null)};return ke(a(Xe,{center:!0,border:!1,title:Ee("defaultAddress"),class:Mt("default")},$),[[Be,!c.value]])}};return ie({setAreaCode:m,setAddressDetail:T}),W(()=>e.addressInfo,$=>{J(i,Wo,$),oe(()=>{var O;const x=(O=l.value)==null?void 0:O.getSelectedOptions();x&&x.every(P=>P&&P.value!==Ut)&&C(x)})},{deep:!0,immediate:!0}),()=>{const{disableArea:$}=e;return a(Wa,{class:Mt(),onSubmit:h},{default:()=>{var O;return[a("div",{class:Mt("fields")},[a(it,{modelValue:i.name,"onUpdate:modelValue":[x=>i.name=x,x=>f("name",x)],clearable:!0,label:Ee("name"),rules:v.value.name,placeholder:Ee("name"),onFocus:()=>d("name")},null),a(it,{modelValue:i.tel,"onUpdate:modelValue":[x=>i.tel=x,x=>f("tel",x)],clearable:!0,type:"tel",label:Ee("tel"),rules:v.value.tel,maxlength:e.telMaxlength,placeholder:Ee("tel"),onFocus:()=>d("tel")},null),ke(a(it,{readonly:!0,label:Ee("area"),"is-link":!$,modelValue:u.value,rules:e.showArea?v.value.areaCode:void 0,placeholder:e.areaPlaceholder||Ee("area"),onFocus:()=>d("areaCode"),onClick:()=>{t("clickArea"),o.value=!$}},null),[[Be,e.showArea]]),a(Cs,{show:e.showDetail,rows:e.detailRows,rules:v.value.addressDetail,value:i.addressDetail,focused:s.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:w,onFocus:()=>d("addressDetail"),onInput:y,onSelectSearch:x=>t("selectSearch",x)},null),(O=n.default)==null?void 0:O.call(n)]),b(),ke(a("div",{class:Mt("buttons")},[a(Ie,{block:!0,round:!0,type:"primary",text:e.saveButtonText||Ee("save"),class:Mt("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&a(Ie,{block:!0,round:!0,class:Mt("button"),loading:e.isDeleting,text:e.deleteButtonText||Ee("delete"),onClick:S},null)]),[[Be,!c.value]]),a(Ge,{show:o.value,"onUpdate:show":x=>o.value=x,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[a(Ho,{modelValue:i.areaCode,"onUpdate:modelValue":x=>i.areaCode=x,ref:l,loading:!r.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:g,onCancel:()=>{o.value=!1}},null)]})]}})}}});const Bs=N($s),[Uo,Ds]=z("radio-group"),Ps={shape:String,disabled:Boolean,iconSize:L,direction:String,modelValue:ge,checkedColor:String},Ko=Symbol(Uo);var Is=M({name:Uo,props:Ps,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:l}=Ae(Ko),i=o=>t("update:modelValue",o);return W(()=>e.modelValue,o=>t("change",o)),l({props:e,updateValue:i}),xt(()=>e.modelValue),()=>{var o;return a("div",{class:Ds([e.direction]),role:"radiogroup"},[(o=n.default)==null?void 0:o.call(n)])}}});const Ga=N(Is),[Go,As]=z("checkbox-group"),Es={max:L,shape:H("round"),disabled:Boolean,iconSize:L,direction:String,modelValue:me(),checkedColor:String},Xo=Symbol(Go);var Os=M({name:Go,props:Es,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:l,linkChildren:i}=Ae(Xo),o=r=>t("update:modelValue",r),s=(r={})=>{typeof r=="boolean"&&(r={checked:r});const{checked:u,skipDisabled:c}=r,f=l.filter(v=>v.props.bindGroup?v.props.disabled&&c?v.checked.value:u??!v.checked.value:!1).map(v=>v.name);o(f)};return W(()=>e.modelValue,r=>t("change",r)),ie({toggleAll:s}),xt(()=>e.modelValue),i({props:e,updateValue:o}),()=>{var r;return a("div",{class:As([e.direction])},[(r=n.default)==null?void 0:r.call(n)])}}});const qo=N(Os),[_s,kl]=z("tag"),Rs={size:String,mark:Boolean,show:V,type:H("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var Vs=M({name:_s,props:Rs,emits:["close"],setup(e,{slots:t,emit:n}){const l=s=>{s.stopPropagation(),n("close",s)},i=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},o=()=>{var s;const{type:r,mark:u,plain:c,round:d,size:f,closeable:v}=e,h={mark:u,plain:c,round:d};f&&(h[f]=f);const y=v&&a(ae,{name:"cross",class:[kl("close"),Pe],onClick:l},null);return a("span",{style:i(),class:kl([h,r])},[(s=t.default)==null?void 0:s.call(t),y])};return()=>a(Hn,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?o():null]})}});const pn=N(Vs),Xa={name:ge,disabled:Boolean,iconSize:L,modelValue:ge,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Zo=M({props:J({},Xa,{bem:Ce(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:V,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const l=E(),i=v=>{if(e.parent&&e.bindGroup)return e.parent.props[v]},o=A(()=>{if(e.parent&&e.bindGroup){const v=i("disabled")||e.disabled;if(e.role==="checkbox"){const h=i("modelValue").length,y=i("max"),C=y&&h>=+y;return v||C&&!e.checked}return v}return e.disabled}),s=A(()=>i("direction")),r=A(()=>{const v=e.checkedColor||i("checkedColor");if(v&&e.checked&&!o.value)return{borderColor:v,backgroundColor:v}}),u=A(()=>e.shape||i("shape")||"round"),c=v=>{const{target:h}=v,y=l.value,C=y===h||(y==null?void 0:y.contains(h));!o.value&&(C||!e.labelDisabled)&&t("toggle"),t("click",v)},d=()=>{var v,h;const{bem:y,checked:C,indeterminate:g}=e,S=e.iconSize||i("iconSize");return a("div",{ref:l,class:y("icon",[u.value,{disabled:o.value,checked:C,indeterminate:g}]),style:u.value!=="dot"?{fontSize:ne(S)}:{width:ne(S),height:ne(S),borderColor:(v=r.value)==null?void 0:v.borderColor}},[n.icon?n.icon({checked:C,disabled:o.value}):u.value!=="dot"?a(ae,{name:g?"minus":"success",style:r.value},null):a("div",{class:y("icon--dot__icon"),style:{backgroundColor:(h=r.value)==null?void 0:h.backgroundColor}},null)])},f=()=>{const{checked:v}=e;if(n.default)return a("span",{class:e.bem("label",[e.labelPosition,{disabled:o.value}])},[n.default({checked:v,disabled:o.value})])};return()=>{const v=e.labelPosition==="left"?[f(),d()]:[d(),f()];return a("div",{role:e.role,class:e.bem([{disabled:o.value,"label-disabled":e.labelDisabled},s.value]),tabindex:o.value?void 0:0,"aria-checked":e.checked,onClick:c},[v])}}});const Ms=J({},Xa,{shape:String}),[zs,Ls]=z("radio");var Fs=M({name:zs,props:Ms,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:l}=De(Ko),i=()=>(l?l.props.modelValue:e.modelValue)===e.name,o=()=>{l?l.updateValue(e.name):t("update:modelValue",e.name)};return()=>a(Zo,le({bem:Ls,role:"radio",parent:l,checked:i(),onToggle:o},e),se(n,["default","icon"]))}});const qa=N(Fs),[Ns,Hs]=z("checkbox"),Ys=J({},Xa,{shape:String,bindGroup:V,indeterminate:{type:Boolean,default:null}});var js=M({name:Ns,props:Ys,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:l}=De(Xo),i=r=>{const{name:u}=e,{max:c,modelValue:d}=l.props,f=d.slice();if(r)!(c&&f.length>=+c)&&!f.includes(u)&&(f.push(u),e.bindGroup&&l.updateValue(f));else{const v=f.indexOf(u);v!==-1&&(f.splice(v,1),e.bindGroup&&l.updateValue(f))}},o=A(()=>l&&e.bindGroup?l.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),s=(r=!o.value)=>{l&&e.bindGroup?i(r):t("update:modelValue",r),e.indeterminate!==null&&t("change",r)};return W(()=>e.modelValue,r=>{e.indeterminate===null&&t("change",r)}),ie({toggle:s,props:e,checked:o}),xt(()=>e.modelValue),()=>a(Zo,le({bem:Hs,role:"checkbox",parent:l,checked:o.value,onToggle:s},e),se(n,["default","icon"]))}});const Za=N(js),[Ws,zt]=z("address-item");var Us=M({name:Ws,props:{address:Ce(Object),disabled:Boolean,switchable:Boolean,singleChoice:Boolean,defaultTagText:String,rightIcon:H("edit")},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const l=r=>{e.switchable&&n("select"),n("click",r)},i=()=>a(ae,{name:e.rightIcon,class:zt("edit"),onClick:r=>{r.stopPropagation(),n("edit"),n("click",r)}},null),o=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return a(pn,{type:"primary",round:!0,class:zt("tag")},{default:()=>[e.defaultTagText]})},s=()=>{const{address:r,disabled:u,switchable:c,singleChoice:d}=e,f=[a("div",{class:zt("name")},[`${r.name} ${r.tel}`,o()]),a("div",{class:zt("address")},[r.address])];return c&&!u?d?a(qa,{name:r.id,iconSize:18},{default:()=>[f]}):a(Za,{name:r.id,iconSize:18},{default:()=>[f]}):f};return()=>{var r;const{disabled:u}=e;return a("div",{class:zt({disabled:u}),onClick:l},[a(Xe,{border:!1,titleClass:zt("title")},{title:s,"right-icon":i}),(r=t.bottom)==null?void 0:r.call(t,J({},e.address,{disabled:u}))])}}});const[Ks,Sn,Gs]=z("address-list"),Xs={list:me(),modelValue:[...L,Array],switchable:V,disabledText:String,disabledList:me(),showAddButton:V,addButtonText:String,defaultTagText:String,rightIcon:H("edit")};var qs=M({name:Ks,props:Xs,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:t,emit:n}){const l=A(()=>!Array.isArray(e.modelValue)),i=(r,u,c)=>{const d=()=>n(c?"editDisabled":"edit",r,u),f=h=>n("clickItem",r,u,{event:h}),v=()=>{if(n(c?"selectDisabled":"select",r,u),!c)if(l.value)n("update:modelValue",r.id);else{const h=e.modelValue;h.includes(r.id)?n("update:modelValue",h.filter(y=>y!==r.id)):n("update:modelValue",[...h,r.id])}};return a(Us,{key:r.id,address:r,disabled:c,switchable:e.switchable,singleChoice:l.value,defaultTagText:e.defaultTagText,rightIcon:e.rightIcon,onEdit:d,onClick:f,onSelect:v},{bottom:t["item-bottom"],tag:t.tag})},o=(r,u)=>{if(r)return r.map((c,d)=>i(c,d,u))},s=()=>e.showAddButton?a("div",{class:[Sn("bottom"),"van-safe-area-bottom"]},[a(Ie,{round:!0,block:!0,type:"primary",text:e.addButtonText||Gs("add"),class:Sn("add"),onClick:()=>n("add")},null)]):void 0;return()=>{var r,u;const c=o(e.list),d=o(e.disabledList,!0),f=e.disabledText&&a("div",{class:Sn("disabled-text")},[e.disabledText]);return a("div",{class:Sn()},[(r=t.top)==null?void 0:r.call(t),!l.value&&Array.isArray(e.modelValue)?a(qo,{modelValue:e.modelValue},{default:()=>[c]}):a(Ga,{modelValue:e.modelValue},{default:()=>[c]}),f,d,(u=t.default)==null?void 0:u.call(t),s()])}}});const Zs=N(qs);function Js(e,t){let n=null,l=0;return function(...i){if(n)return;const o=Date.now()-l,s=()=>{l=Date.now(),n=!1,e.apply(this,i)};o>=t?s():n=setTimeout(s,t)}}const[Qs,ra]=z("back-top"),ps={right:L,bottom:L,zIndex:L,target:[String,Object],offset:K(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var eu=M({name:Qs,inheritAttrs:!1,props:ps,emits:["click"],setup(e,{emit:t,slots:n,attrs:l}){let i=!1;const o=E(!1),s=E(),r=E(),u=A(()=>J(dt(e.zIndex),{right:ne(e.right),bottom:ne(e.bottom)})),c=h=>{var y;t("click",h),(y=r.value)==null||y.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},d=()=>{o.value=r.value?st(r.value)>=+e.offset:!1},f=()=>{const{target:h}=e;if(typeof h=="string"){const y=document.querySelector(h);if(y)return y}else return h},v=()=>{Re&&oe(()=>{r.value=e.target?f():ao(s.value),d()})};return ye("scroll",Js(d,100),{target:r}),$e(v),Dt(()=>{i&&(o.value=!0,i=!1)}),Pt(()=>{o.value&&e.teleport&&(o.value=!1,i=!0)}),W(()=>e.target,v),()=>{const h=a("div",le({ref:e.teleport?void 0:s,class:ra({active:o.value}),style:u.value,onClick:c},l),[n.default?n.default():a(ae,{name:"back-top",class:ra("icon")},null)]);return e.teleport?[a("div",{ref:s,class:ra("placeholder")},null),a(At,{to:e.teleport},{default:()=>[h]})]:h}}});const tu=N(eu);var nu=(e,t,n)=>new Promise((l,i)=>{var o=u=>{try{r(n.next(u))}catch(c){i(c)}},s=u=>{try{r(n.throw(u))}catch(c){i(c)}},r=u=>u.done?l(u.value):Promise.resolve(u.value).then(o,s);r((n=n.apply(e,t)).next())});const au={top:K(10),rows:K(4),duration:K(4e3),autoPlay:V,delay:xe(300),modelValue:me()},[lu,Tl]=z("barrage");var ou=M({name:lu,props:au,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const l=E(),i=Tl("item"),o=E(0),s=[],r=(C,g=e.delay)=>{const S=document.createElement("span");return S.className=i,S.innerText=String(C),S.style.animationDuration=`${e.duration}ms`,S.style.animationDelay=`${g}ms`,S.style.animationName="van-barrage",S.style.animationTimingFunction="linear",S},u=E(!0),c=E(e.autoPlay),d=({id:C,text:g},S)=>{var m;const w=r(g,u.value?S*e.delay:void 0);!e.autoPlay&&c.value===!1&&(w.style.animationPlayState="paused"),(m=l.value)==null||m.append(w),o.value++;const T=(o.value-1)%+e.rows*w.offsetHeight+ +e.top;w.style.top=`${T}px`,w.dataset.id=String(C),s.push(w),w.addEventListener("animationend",()=>{t("update:modelValue",[...e.modelValue].filter(b=>String(b.id)!==w.dataset.id))})},f=(C,g)=>{const S=new Map(g.map(m=>[m.id,m]));C.forEach((m,w)=>{S.has(m.id)?S.delete(m.id):d(m,w)}),S.forEach(m=>{const w=s.findIndex(T=>T.dataset.id===String(m.id));w>-1&&(s[w].remove(),s.splice(w,1))}),u.value=!1};W(()=>e.modelValue.slice(),(C,g)=>f(C??[],g??[]),{deep:!0});const v=E({});return $e(()=>nu(this,null,function*(){var C;v.value["--move-distance"]=`-${(C=l.value)==null?void 0:C.offsetWidth}px`,yield oe(),f(e.modelValue,[])})),ie({play:()=>{c.value=!0,s.forEach(C=>{C.style.animationPlayState="running"})},pause:()=>{c.value=!1,s.forEach(C=>{C.style.animationPlayState="paused"})}}),()=>{var C;return a("div",{class:Tl(),ref:l,style:v.value},[(C=n.default)==null?void 0:C.call(n)])}}});const iu=N(ou),[cu,be,ct]=z("calendar"),ru=e=>ct("monthTitle",e.getFullYear(),e.getMonth()+1);function Tt(e,t){const n=e.getFullYear(),l=t.getFullYear();if(n===l){const i=e.getMonth(),o=t.getMonth();return i===o?0:i>o?1:-1}return n>l?1:-1}function _e(e,t){const n=Tt(e,t);if(n===0){const l=e.getDate(),i=t.getDate();return l===i?0:l>i?1:-1}return n}const qt=e=>new Date(e),$l=e=>Array.isArray(e)?e.map(qt):qt(e);function Ja(e,t){const n=qt(e);return n.setDate(n.getDate()+t),n}function Qa(e,t){const n=qt(e);return n.setMonth(n.getMonth()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}function Jo(e,t){const n=qt(e);return n.setFullYear(n.getFullYear()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}const Ba=e=>Ja(e,-1),Da=e=>Ja(e,1),Bl=e=>Qa(e,-1),Dl=e=>Qa(e,1),Pl=e=>Jo(e,-1),Il=e=>Jo(e,1),Cn=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function su(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}const Qo=J({},Xn,{modelValue:me(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),po=Object.keys(Xn);function uu(e,t){if(e<0)return[];const n=Array(e);let l=-1;for(;++l<e;)n[l]=t(l);return n}const ei=(e,t)=>32-new Date(e,t-1,32).getDate(),Kt=(e,t,n,l,i,o)=>{const s=uu(t-e+1,r=>{const u=We(e+r);return l(n,{text:u,value:u})});return i?i(n,s,o):s},ti=(e,t)=>e.map((n,l)=>{const i=t[l];if(i.length){const o=+i[0].value,s=+i[i.length-1].value;return We(Se(+n,o,s))}return n}),[du]=z("calendar-day");var fu=M({name:du,props:{item:Ce(Object),color:String,index:Number,offset:xe(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const l=A(()=>{var c;const{item:d,index:f,color:v,offset:h,rowHeight:y}=e,C={height:y};if(d.type==="placeholder")return C.width="100%",C;if(f===0&&(C.marginLeft=`${100*h/7}%`),v)switch(d.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":C.background=v;break;case"middle":C.color=v;break}return h+(((c=d.date)==null?void 0:c.getDate())||1)>28&&(C.marginBottom=0),C}),i=()=>{e.item.type!=="disabled"?t("click",e.item):t("clickDisabledDate",e.item)},o=()=>{const{topInfo:c}=e.item;if(c||n["top-info"])return a("div",{class:be("top-info")},[n["top-info"]?n["top-info"](e.item):c])},s=()=>{const{bottomInfo:c}=e.item;if(c||n["bottom-info"])return a("div",{class:be("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):c])},r=()=>n.text?n.text(e.item):e.item.text,u=()=>{const{item:c,color:d,rowHeight:f}=e,{type:v}=c,h=[o(),r(),s()];return v==="selected"?a("div",{class:be("selected-day"),style:{width:f,height:f,background:d}},[h]):h};return()=>{const{type:c,className:d}=e.item;return c==="placeholder"?a("div",{class:be("day"),style:l.value},null):a("div",{role:"gridcell",style:l.value,class:[be("day",c),d],tabindex:c==="disabled"?void 0:-1,onClick:i},[u()])}}});const[vu]=z("calendar-month"),mu={date:Ce(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:L,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var hu=M({name:vu,props:mu,emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const[l,i]=Wi(),o=E(),s=E(),r=bo(s),u=A(()=>ru(e.date)),c=A(()=>ne(e.rowHeight)),d=A(()=>{const D=e.date.getDate(),B=(e.date.getDay()-D%7+8)%7;return e.firstDayOfWeek?(B+7-e.firstDayOfWeek)%7:B}),f=A(()=>ei(e.date.getFullYear(),e.date.getMonth()+1)),v=A(()=>l.value||!e.lazyRender),h=()=>u.value,y=D=>{const k=B=>e.currentDate.some(R=>_e(R,B)===0);if(k(D)){const B=Ba(D),R=Da(D),U=k(B),X=k(R);return U&&X?"multiple-middle":U?"end":X?"start":"multiple-selected"}return""},C=D=>{const[k,B]=e.currentDate;if(!k)return"";const R=_e(D,k);if(!B)return R===0?"start":"";const U=_e(D,B);return e.allowSameDay&&R===0&&U===0?"start-end":R===0?"start":U===0?"end":R>0&&U<0?"middle":""},g=D=>{const{type:k,minDate:B,maxDate:R,currentDate:U}=e;if(B&&_e(D,B)<0||R&&_e(D,R)>0)return"disabled";if(U===null)return"";if(Array.isArray(U)){if(k==="multiple")return y(D);if(k==="range")return C(D)}else if(k==="single")return _e(D,U)===0?"selected":"";return""},S=D=>{if(e.type==="range"){if(D==="start"||D==="end")return ct(D);if(D==="start-end")return`${ct("start")}/${ct("end")}`}},m=()=>{if(e.showMonthTitle)return a("div",{class:be("month-title")},[n["month-title"]?n["month-title"]({date:e.date,text:u.value}):u.value])},w=()=>{if(e.showMark&&v.value)return a("div",{class:be("month-mark")},[e.date.getMonth()+1])},T=A(()=>{const D=Math.ceil((f.value+d.value)/7);return Array(D).fill({type:"placeholder"})}),b=A(()=>{const D=[],k=e.date.getFullYear(),B=e.date.getMonth();for(let R=1;R<=f.value;R++){const U=new Date(k,B,R),X=g(U);let F={date:U,type:X,text:R,bottomInfo:S(X)};e.formatter&&(F=e.formatter(F)),D.push(F)}return D}),$=A(()=>b.value.filter(D=>D.type==="disabled")),O=(D,k)=>{if(o.value){const B=ue(o.value),R=T.value.length,X=(Math.ceil((k.getDate()+d.value)/7)-1)*B.height/R;zn(D,B.top+X+D.scrollTop-ue(D).top)}},x=(D,k)=>a(fu,{item:D,index:k,color:e.color,offset:d.value,rowHeight:c.value,onClick:B=>t("click",B),onClickDisabledDate:B=>t("clickDisabledDate",B)},se(n,["top-info","bottom-info","text"])),P=()=>a("div",{ref:o,role:"grid",class:be("days")},[w(),(v.value?b:T).value.map(x)]);return ie({getTitle:h,getHeight:()=>r.value,setVisible:i,scrollToDate:O,disabledDays:$}),()=>a("div",{class:be("month"),ref:s},[m(),P()])}});const[gu]=z("calendar-header");var bu=M({name:gu,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:H("none")},emits:["clickSubtitle","panelChange"],setup(e,{slots:t,emit:n}){const l=A(()=>e.date&&e.minDate&&Tt(Bl(e.date),e.minDate)<0),i=A(()=>e.date&&e.minDate&&Tt(Pl(e.date),e.minDate)<0),o=A(()=>e.date&&e.maxDate&&Tt(Dl(e.date),e.maxDate)>0),s=A(()=>e.date&&e.maxDate&&Tt(Il(e.date),e.maxDate)>0),r=()=>{if(e.showTitle){const h=e.title||ct("title"),y=t.title?t.title():h;return a("div",{class:be("header-title")},[y])}},u=h=>n("clickSubtitle",h),c=h=>n("panelChange",h),d=h=>{const y=e.switchMode==="year-month",C=t[h?"next-month":"prev-month"],g=t[h?"next-year":"prev-year"],S=h?o.value:l.value,m=h?s.value:i.value,w=h?"arrow":"arrow-left",T=h?"arrow-double-right":"arrow-double-left",b=()=>c((h?Dl:Bl)(e.date)),$=()=>c((h?Il:Pl)(e.date)),O=a("view",{class:be("header-action",{disabled:S}),onClick:S?void 0:b},[C?C({disabled:S}):a(ae,{class:{[Pe]:!S},name:w},null)]),x=y&&a("view",{class:be("header-action",{disabled:m}),onClick:m?void 0:$},[g?g({disabled:m}):a(ae,{class:{[Pe]:!m},name:T},null)]);return h?[O,x]:[x,O]},f=()=>{if(e.showSubtitle){const h=t.subtitle?t.subtitle({date:e.date,text:e.subtitle}):e.subtitle,y=e.switchMode!=="none";return a("div",{class:be("header-subtitle",{"with-switch":y}),onClick:u},[y?[d(),a("div",{class:be("header-subtitle-text")},[h]),d(!0)]:h])}},v=()=>{const{firstDayOfWeek:h}=e,y=ct("weekdays"),C=[...y.slice(h,7),...y.slice(0,h)];return a("div",{class:be("weekdays")},[C.map(g=>a("span",{class:be("weekday")},[g]))])};return()=>a("div",{class:be("header")},[r(),f(),v()])}});const yu={show:Boolean,type:H("single"),switchMode:H("none"),title:String,color:String,round:V,readonly:Boolean,poppable:V,maxRange:K(null),position:H("bottom"),teleport:[String,Object],showMark:V,showTitle:V,formatter:Function,rowHeight:L,confirmText:String,rangePrompt:String,lazyRender:V,showConfirm:V,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:V,closeOnPopstate:V,showRangePrompt:V,confirmDisabledText:String,closeOnClickOverlay:V,safeAreaInsetTop:Boolean,safeAreaInsetBottom:V,minDate:{type:Date,validator:dn},maxDate:{type:Date,validator:dn},firstDayOfWeek:{type:L,default:0,validator:e=>e>=0&&e<=6}};var xu=M({name:cu,props:yu,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","panelChange"],setup(e,{emit:t,slots:n}){const l=A(()=>e.switchMode!=="none"),i=A(()=>!e.minDate&&!l.value?Cn():e.minDate),o=A(()=>!e.maxDate&&!l.value?Qa(Cn(),6):e.maxDate),s=(_,Y=i.value,q=o.value)=>Y&&_e(_,Y)===-1?Y:q&&_e(_,q)===1?q:_,r=(_=e.defaultDate)=>{const{type:Y,allowSameDay:q}=e;if(_===null)return _;const te=Cn();if(Y==="range"){Array.isArray(_)||(_=[]),_.length===1&&_e(_[0],te)===1&&(_=[]);const j=i.value,Q=o.value,I=s(_[0]||te,j,Q?q?Q:Ba(Q):void 0),G=s(_[1]||(q?te:Da(te)),j?q?j:Da(j):void 0);return[I,G]}return Y==="multiple"?Array.isArray(_)?_.map(j=>s(j)):[s(te)]:((!_||Array.isArray(_))&&(_=te),s(_))},u=()=>{const _=Array.isArray(f.value)?f.value[0]:f.value;return _||s(Cn())};let c;const d=E(),f=E(r()),v=E(u()),h=E(),[y,C]=hn(),g=A(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),S=A(()=>{const _=[];if(!i.value||!o.value)return _;const Y=new Date(i.value);Y.setDate(1);do _.push(new Date(Y)),Y.setMonth(Y.getMonth()+1);while(Tt(Y,o.value)!==1);return _}),m=A(()=>{if(f.value){if(e.type==="range")return!f.value[0]||!f.value[1];if(e.type==="multiple")return!f.value.length}return!f.value}),w=()=>f.value,T=()=>{const _=st(d.value),Y=_+c,q=S.value.map((G,Z)=>y.value[Z].getHeight()),te=q.reduce((G,Z)=>G+Z,0);if(Y>te&&_>0)return;let j=0,Q;const I=[-1,-1];for(let G=0;G<S.value.length;G++){const Z=y.value[G];j<=Y&&j+q[G]>=_&&(I[1]=G,Q||(Q=Z,I[0]=G),y.value[G].showed||(y.value[G].showed=!0,t("monthShow",{date:Z.date,title:Z.getTitle()}))),j+=q[G]}S.value.forEach((G,Z)=>{const ce=Z>=I[0]-1&&Z<=I[1]+1;y.value[Z].setVisible(ce)}),Q&&(h.value=Q)},b=_=>{l.value?v.value=_:Le(()=>{S.value.some((Y,q)=>Tt(Y,_)===0?(d.value&&y.value[q].scrollToDate(d.value,_),!0):!1),T()})},$=()=>{if(!(e.poppable&&!e.show))if(f.value){const _=e.type==="single"?f.value:f.value[0];dn(_)&&b(_)}else l.value||Le(T)},O=()=>{e.poppable&&!e.show||(l.value||Le(()=>{c=Math.floor(ue(d).height)}),$())},x=(_=r())=>{f.value=_,$()},P=_=>{const{maxRange:Y,rangePrompt:q,showRangePrompt:te}=e;return Y&&su(_)>+Y?(te&&$a(q||ct("rangePrompt",Y)),t("overRange"),!1):!0},D=_=>{v.value=_,t("panelChange",{date:_})},k=()=>{var _;return t("confirm",(_=f.value)!=null?_:$l(f.value))},B=(_,Y)=>{const q=te=>{f.value=te,t("select",$l(te))};if(Y&&e.type==="range"&&!P(_)){q([_[0],Ja(_[0],+e.maxRange-1)]);return}q(_),Y&&!e.showConfirm&&k()},R=(_,Y,q)=>{var te;return(te=_.find(j=>_e(Y,j.date)===-1&&_e(j.date,q)===-1))==null?void 0:te.date},U=A(()=>y.value.reduce((_,Y)=>{var q,te;return _.push(...(te=(q=Y.disabledDays)==null?void 0:q.value)!=null?te:[]),_},[])),X=_=>{if(e.readonly||!_.date)return;const{date:Y}=_,{type:q}=e;if(q==="range"){if(!f.value){B([Y]);return}const[te,j]=f.value;if(te&&!j){const Q=_e(Y,te);if(Q===1){const I=R(U.value,te,Y);if(I){const G=Ba(I);_e(te,G)===-1?B([te,G]):B([Y])}else B([te,Y],!0)}else Q===-1?B([Y]):e.allowSameDay&&B([Y,Y],!0)}else B([Y])}else if(q==="multiple"){if(!f.value){B([Y]);return}const te=f.value,j=te.findIndex(Q=>_e(Q,Y)===0);if(j!==-1){const[Q]=te.splice(j,1);t("unselect",qt(Q))}else e.maxRange&&te.length>=+e.maxRange?$a(e.rangePrompt||ct("rangePrompt",e.maxRange)):B([...te,Y])}else B(Y,!0)},F=_=>t("update:show",_),p=(_,Y)=>{const q=Y!==0||!e.showSubtitle;return a(hu,le({ref:l.value?h:C(Y),date:_,currentDate:f.value,showMonthTitle:q,firstDayOfWeek:g.value,lazyRender:l.value?!1:e.lazyRender,maxDate:o.value,minDate:i.value},se(e,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:X,onClickDisabledDate:te=>t("clickDisabledDate",te)}),se(n,["top-info","bottom-info","month-title","text"]))},ee=()=>{if(n.footer)return n.footer();if(e.showConfirm){const _=n["confirm-text"],Y=m.value,q=Y?e.confirmDisabledText:e.confirmText;return a(Ie,{round:!0,block:!0,type:"primary",color:e.color,class:be("confirm"),disabled:Y,nativeType:"button",onClick:k},{default:()=>[_?_({disabled:Y}):q||ct("confirm")]})}},de=()=>a("div",{class:[be("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[ee()]),fe=()=>{var _,Y;return a("div",{class:be()},[a(bu,{date:(_=h.value)==null?void 0:_.date,maxDate:o.value,minDate:i.value,title:e.title,subtitle:(Y=h.value)==null?void 0:Y.getTitle(),showTitle:e.showTitle,showSubtitle:e.showSubtitle,switchMode:e.switchMode,firstDayOfWeek:g.value,onClickSubtitle:q=>t("clickSubtitle",q),onPanelChange:D},se(n,["title","subtitle","prev-month","prev-year","next-month","next-year"])),a("div",{ref:d,class:be("body"),onScroll:l.value?void 0:T},[l.value?p(v.value,0):S.value.map(p)]),de()])};return W(()=>e.show,O),W(()=>[e.type,e.minDate,e.maxDate,e.switchMode],()=>x(r(f.value))),W(()=>e.defaultDate,_=>{x(_)}),ie({reset:x,scrollToDate:b,getSelectedDate:w}),mn(O),()=>e.poppable?a(Ge,{show:e.show,class:be("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":F},{default:fe}):fe()}});const wu=N(xu),[Su,Lt]=z("image"),Cu={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:L,height:L,radius:L,lazyLoad:Boolean,iconSize:L,showError:V,errorIcon:H("photo-fail"),iconPrefix:String,showLoading:V,loadingIcon:H("photo"),crossorigin:String,referrerpolicy:String};var ku=M({name:Su,props:Cu,emits:["load","error"],setup(e,{emit:t,slots:n}){const l=E(!1),i=E(!0),o=E(),{$Lazyload:s}=yt().proxy,r=A(()=>{const g={width:ne(e.width),height:ne(e.height)};return re(e.radius)&&(g.overflow="hidden",g.borderRadius=ne(e.radius)),g});W(()=>e.src,()=>{l.value=!1,i.value=!0});const u=g=>{i.value&&(i.value=!1,t("load",g))},c=()=>{const g=new Event("load");Object.defineProperty(g,"target",{value:o.value,enumerable:!0}),u(g)},d=g=>{l.value=!0,i.value=!1,t("error",g)},f=(g,S,m)=>m?m():a(ae,{name:g,size:e.iconSize,class:S,classPrefix:e.iconPrefix},null),v=()=>{if(i.value&&e.showLoading)return a("div",{class:Lt("loading")},[f(e.loadingIcon,Lt("loading-icon"),n.loading)]);if(l.value&&e.showError)return a("div",{class:Lt("error")},[f(e.errorIcon,Lt("error-icon"),n.error)])},h=()=>{if(l.value||!e.src)return;const g={alt:e.alt,class:Lt("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?ke(a("img",le({ref:o},g),null),[[zi("lazy"),e.src]]):a("img",le({ref:o,src:e.src,onLoad:u,onError:d},g),null)},y=({el:g})=>{const S=()=>{g===o.value&&i.value&&c()};o.value?S():oe(S)},C=({el:g})=>{g===o.value&&!l.value&&d()};return s&&Re&&(s.$on("loaded",y),s.$on("error",C),It(()=>{s.$off("loaded",y),s.$off("error",C)})),$e(()=>{oe(()=>{var g;(g=o.value)!=null&&g.complete&&!e.lazyLoad&&c()})}),()=>{var g;return a("div",{class:Lt({round:e.round,block:e.block}),style:r.value},[h(),v(),(g=n.default)==null?void 0:g.call(n)])}}});const ea=N(ku),[Tu,Oe]=z("card"),$u={tag:String,num:L,desc:String,thumb:String,title:String,price:L,centered:Boolean,lazyLoad:Boolean,currency:H("¥"),thumbLink:String,originPrice:L};var Bu=M({name:Tu,props:$u,emits:["clickThumb"],setup(e,{slots:t,emit:n}){const l=()=>{if(t.title)return t.title();if(e.title)return a("div",{class:[Oe("title"),"van-multi-ellipsis--l2"]},[e.title])},i=()=>{if(t.tag||e.tag)return a("div",{class:Oe("tag")},[t.tag?t.tag():a(pn,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},o=()=>t.thumb?t.thumb():a(ea,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),s=()=>{if(t.thumb||e.thumb)return a("a",{href:e.thumbLink,class:Oe("thumb"),onClick:c=>n("clickThumb",c)},[o(),i()])},r=()=>{if(t.desc)return t.desc();if(e.desc)return a("div",{class:[Oe("desc"),"van-ellipsis"]},[e.desc])},u=()=>{const c=e.price.toString().split(".");return a("div",null,[a("span",{class:Oe("price-currency")},[e.currency]),a("span",{class:Oe("price-integer")},[c[0]]),c.length>1&&a(rt,null,[to("."),a("span",{class:Oe("price-decimal")},[c[1]])])])};return()=>{var c,d,f;const v=t.num||re(e.num),h=t.price||re(e.price),y=t["origin-price"]||re(e.originPrice),C=v||h||y||t.bottom,g=h&&a("div",{class:Oe("price")},[t.price?t.price():u()]),S=y&&a("div",{class:Oe("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),m=v&&a("div",{class:Oe("num")},[t.num?t.num():`x${e.num}`]),w=t.footer&&a("div",{class:Oe("footer")},[t.footer()]),T=C&&a("div",{class:Oe("bottom")},[(c=t["price-top"])==null?void 0:c.call(t),g,S,m,(d=t.bottom)==null?void 0:d.call(t)]);return a("div",{class:Oe()},[a("div",{class:Oe("header")},[s(),a("div",{class:Oe("content",{centered:e.centered})},[a("div",null,[l(),r(),(f=t.tags)==null?void 0:f.call(t)]),T])]),w])}}});const Du=N(Bu),[Pu,nt,Iu]=z("cascader"),Au={title:String,options:me(),closeable:V,swipeable:V,closeIcon:H("cross"),showHeader:V,modelValue:L,fieldNames:Object,placeholder:String,activeColor:String};var Eu=M({name:Pu,props:Au,emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:t,emit:n}){const l=E([]),i=E(0),[o,s]=hn(),{text:r,value:u,children:c}=J({text:"text",value:"value",children:"children"},e.fieldNames),d=(b,$)=>{for(const O of b){if(O[u]===$)return[O];if(O[c]){const x=d(O[c],$);if(x)return[O,...x]}}},f=()=>{const{options:b,modelValue:$}=e;if($!==void 0){const O=d(b,$);if(O){let x=b;l.value=O.map(P=>{const D={options:x,selected:P},k=x.find(B=>B[u]===P[u]);return k&&(x=k[c]),D}),x&&l.value.push({options:x,selected:null}),oe(()=>{i.value=l.value.length-1});return}}l.value=[{options:b,selected:null}]},v=(b,$)=>{if(b.disabled)return;if(l.value[$].selected=b,l.value.length>$+1&&(l.value=l.value.slice(0,$+1)),b[c]){const P={options:b[c],selected:null};l.value[$+1]?l.value[$+1]=P:l.value.push(P),oe(()=>{i.value++})}const O=l.value.map(P=>P.selected).filter(Boolean);n("update:modelValue",b[u]);const x={value:b[u],tabIndex:$,selectedOptions:O};n("change",x),b[c]||n("finish",x)},h=()=>n("close"),y=({name:b,title:$})=>n("clickTab",b,$),C=()=>e.showHeader?a("div",{class:nt("header")},[a("h2",{class:nt("title")},[t.title?t.title():e.title]),e.closeable?a(ae,{name:e.closeIcon,class:[nt("close-icon"),Pe],onClick:h},null):null]):null,g=(b,$,O)=>{const{disabled:x}=b,P=!!($&&b[u]===$[u]),D=b.color||(P?e.activeColor:void 0),k=t.option?t.option({option:b,selected:P}):a("span",null,[b[r]]);return a("li",{ref:P?s(O):void 0,role:"menuitemradio",class:[nt("option",{selected:P,disabled:x}),b.className],style:{color:D},tabindex:x?void 0:P?0:-1,"aria-checked":P,"aria-disabled":x||void 0,onClick:()=>v(b,O)},[k,P?a(ae,{name:"success",class:nt("selected-icon")},null):null])},S=(b,$,O)=>a("ul",{role:"menu",class:nt("options")},[b.map(x=>g(x,$,O))]),m=(b,$)=>{const{options:O,selected:x}=b,P=e.placeholder||Iu("select"),D=x?x[r]:P;return a(vn,{title:D,titleClass:nt("tab",{unselected:!x})},{default:()=>{var k,B;return[(k=t["options-top"])==null?void 0:k.call(t,{tabIndex:$}),S(O,x,$),(B=t["options-bottom"])==null?void 0:B.call(t,{tabIndex:$})]}})},w=()=>a(Gn,{active:i.value,"onUpdate:active":b=>i.value=b,shrink:!0,animated:!0,class:nt("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:y},{default:()=>[l.value.map(m)]}),T=b=>{const $=b.parentElement;$&&($.scrollTop=b.offsetTop-($.offsetHeight-b.offsetHeight)/2)};return f(),W(i,b=>{const $=o.value[b];$&&T($)}),W(()=>e.options,f,{deep:!0}),W(()=>e.modelValue,b=>{b!==void 0&&l.value.map(O=>{var x;return(x=O.selected)==null?void 0:x[u]}).includes(b)||f()}),()=>a("div",{class:nt()},[C(),w()])}});const Ou=N(Eu),[_u,Al]=z("cell-group"),Ru={title:String,inset:Boolean,border:V};var Vu=M({name:_u,inheritAttrs:!1,props:Ru,setup(e,{slots:t,attrs:n}){const l=()=>{var o;return a("div",le({class:[Al({inset:e.inset}),{[jn]:e.border&&!e.inset}]},n,Fn()),[(o=t.default)==null?void 0:o.call(t)])},i=()=>a("div",{class:Al("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?a(rt,null,[i(),l()]):l()}});const Mu=N(Vu),[zu,kn]=z("circle");let Lu=0;const El=e=>Math.min(Math.max(+e,0),100);function Fu(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const Nu={text:String,size:L,fill:H("none"),rate:K(100),speed:K(0),color:[String,Object],clockwise:V,layerColor:String,currentRate:xe(0),strokeWidth:K(40),strokeLinecap:String,startPosition:H("top")};var Hu=M({name:zu,props:Nu,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const l=`van-circle-${Lu++}`,i=A(()=>+e.strokeWidth+1e3),o=A(()=>Fu(e.clockwise,i.value)),s=A(()=>{const v={top:0,right:90,bottom:180,left:270}[e.startPosition];if(v)return{transform:`rotate(${v}deg)`}});W(()=>e.rate,f=>{let v;const h=Date.now(),y=e.currentRate,C=El(f),g=Math.abs((y-C)*1e3/+e.speed),S=()=>{const m=Date.now(),T=Math.min((m-h)/g,1)*(C-y)+y;t("update:currentRate",El(parseFloat(T.toFixed(1)))),(C>y?T<C:T>C)&&(v=Le(S))};e.speed?(v&&_a(v),v=Le(S)):t("update:currentRate",C)},{immediate:!0});const r=()=>{const{strokeWidth:v,currentRate:h,strokeLinecap:y}=e,C=3140*h/100,g=pe(e.color)?`url(#${l})`:e.color,S={stroke:g,strokeWidth:`${+v+1}px`,strokeLinecap:y,strokeDasharray:`${C}px 3140px`};return a("path",{d:o.value,style:S,class:kn("hover"),stroke:g},null)},u=()=>{const f={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return a("path",{class:kn("layer"),style:f,d:o.value},null)},c=()=>{const{color:f}=e;if(!pe(f))return;const v=Object.keys(f).sort((h,y)=>parseFloat(h)-parseFloat(y)).map((h,y)=>a("stop",{key:y,offset:h,"stop-color":f[h]},null));return a("defs",null,[a("linearGradient",{id:l,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[v])])},d=()=>{if(n.default)return n.default();if(e.text)return a("div",{class:kn("text")},[e.text])};return()=>a("div",{class:kn(),style:ut(e.size)},[a("svg",{viewBox:`0 0 ${i.value} ${i.value}`,style:s.value},[c(),u(),r()]),d()])}});const Yu=N(Hu),[ni,ju]=z("row"),ai=Symbol(ni),Wu={tag:H("div"),wrap:V,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var Uu=M({name:ni,props:Wu,setup(e,{slots:t}){const{children:n,linkChildren:l}=Ae(ai),i=A(()=>{const r=[[]];let u=0;return n.forEach((c,d)=>{u+=Number(c.span),u>24?(r.push([d]),u-=24):r[r.length-1].push(d)}),r}),o=A(()=>{let r=0;Array.isArray(e.gutter)?r=Number(e.gutter[0])||0:r=Number(e.gutter);const u=[];return r&&i.value.forEach(c=>{const d=r*(c.length-1)/c.length;c.forEach((f,v)=>{if(v===0)u.push({right:d});else{const h=r-u[f-1].right,y=d-h;u.push({left:h,right:y})}})}),u}),s=A(()=>{const{gutter:r}=e,u=[];if(Array.isArray(r)&&r.length>1){const c=Number(r[1])||0;if(c<=0)return u;i.value.forEach((d,f)=>{f!==i.value.length-1&&d.forEach(()=>{u.push({bottom:c})})})}return u});return l({spaces:o,verticalSpaces:s}),()=>{const{tag:r,wrap:u,align:c,justify:d}=e;return a(r,{class:ju({[`align-${c}`]:c,[`justify-${d}`]:d,nowrap:!u})},{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t)]}})}}});const[Ku,Gu]=z("col"),Xu={tag:H("div"),span:K(0),offset:L};var qu=M({name:Ku,props:Xu,setup(e,{slots:t}){const{parent:n,index:l}=De(ai),i=A(()=>{if(!n)return;const{spaces:o,verticalSpaces:s}=n;let r={};if(o&&o.value&&o.value[l.value]){const{left:c,right:d}=o.value[l.value];r={paddingLeft:c?`${c}px`:null,paddingRight:d?`${d}px`:null}}const{bottom:u}=s.value[l.value]||{};return J(r,{marginBottom:u?`${u}px`:null})});return()=>{const{tag:o,span:s,offset:r}=e;return a(o,{style:i.value,class:Gu({[s]:s,[`offset-${r}`]:r})},{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t)]}})}}});const Zu=N(qu),[li,Ju]=z("collapse"),oi=Symbol(li),Qu={border:V,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var pu=M({name:li,props:Qu,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:l,children:i}=Ae(oi),o=c=>{t("change",c),t("update:modelValue",c)},s=(c,d)=>{const{accordion:f,modelValue:v}=e;o(f?c===v?"":c:d?v.concat(c):v.filter(h=>h!==c))},r=(c={})=>{if(e.accordion)return;typeof c=="boolean"&&(c={expanded:c});const{expanded:d,skipDisabled:f}=c,h=i.filter(y=>y.disabled&&f?y.expanded.value:d??!y.expanded.value).map(y=>y.itemName.value);o(h)},u=c=>{const{accordion:d,modelValue:f}=e;return d?f===c:f.includes(c)};return ie({toggleAll:r}),l({toggle:s,isExpanded:u}),()=>{var c;return a("div",{class:[Ju(),{[jn]:e.border}]},[(c=n.default)==null?void 0:c.call(n)])}}});const ed=N(pu),[td,Tn]=z("collapse-item"),nd=["icon","title","value","label","right-icon"],ad=J({},Zn,{name:L,isLink:V,disabled:Boolean,readonly:Boolean,lazyRender:V});var ld=M({name:td,props:ad,setup(e,{slots:t}){const n=E(),l=E(),{parent:i,index:o}=De(oi);if(!i)return;const s=A(()=>{var C;return(C=e.name)!=null?C:o.value}),r=A(()=>i.isExpanded(s.value)),u=E(r.value),c=Na(()=>u.value||!e.lazyRender),d=()=>{r.value?n.value&&(n.value.style.height=""):u.value=!1};W(r,(C,g)=>{if(g===null)return;C&&(u.value=!0),(C?oe:Le)(()=>{if(!l.value||!n.value)return;const{offsetHeight:m}=l.value;if(m){const w=`${m}px`;n.value.style.height=C?"0":w,bt(()=>{n.value&&(n.value.style.height=C?w:"0")})}else d()})});const f=(C=!r.value)=>{i.toggle(s.value,C)},v=()=>{!e.disabled&&!e.readonly&&f()},h=()=>{const{border:C,disabled:g,readonly:S}=e,m=se(e,Object.keys(Zn));return S&&(m.isLink=!1),(g||S)&&(m.clickable=!1),a(Xe,le({role:"button",class:Tn("title",{disabled:g,expanded:r.value,borderless:!C}),"aria-expanded":String(r.value),onClick:v},m),se(t,nd))},y=c(()=>{var C;return ke(a("div",{ref:n,class:Tn("wrapper"),onTransitionend:d},[a("div",{ref:l,class:Tn("content")},[(C=t.default)==null?void 0:C.call(t)])]),[[Be,u.value]])});return ie({toggle:f,expanded:r,itemName:s}),()=>a("div",{class:[Tn({border:o.value&&e.border})]},[h(),y()])}});const od=N(ld),id=N(Tc),[cd,Ol,sa]=z("contact-card"),rd={tel:String,name:String,type:H("add"),addText:String,editable:V};var sd=M({name:cd,props:rd,emits:["click"],setup(e,{emit:t}){const n=i=>{e.editable&&t("click",i)},l=()=>e.type==="add"?e.addText||sa("addContact"):[a("div",null,[`${sa("name")}：${e.name}`]),a("div",null,[`${sa("tel")}：${e.tel}`])];return()=>a(Xe,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:Ol([e.type]),border:!1,isLink:e.editable,titleClass:Ol("title"),onClick:n},{title:l})}});const ud=N(sd),[dd,Ft,mt]=z("contact-edit"),Pa={tel:"",name:""},fd={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>J({},Pa)},telValidator:{type:Function,default:lo}};var vd=M({name:dd,props:fd,emits:["save","delete","changeDefault"],setup(e,{emit:t}){const n=Te(J({},Pa,e.contactInfo)),l=()=>{e.isSaving||t("save",n)},i=()=>t("delete",n),o=()=>a("div",{class:Ft("buttons")},[a(Ie,{block:!0,round:!0,type:"primary",text:mt("save"),class:Ft("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&a(Ie,{block:!0,round:!0,text:mt("delete"),class:Ft("button"),loading:e.isDeleting,onClick:i},null)]),s=()=>a(Ka,{modelValue:n.isDefault,"onUpdate:modelValue":u=>n.isDefault=u,onChange:u=>t("changeDefault",u)},null),r=()=>{if(e.showSetDefault)return a(Xe,{title:e.setDefaultLabel,class:Ft("switch-cell"),border:!1},{"right-icon":s})};return W(()=>e.contactInfo,u=>J(n,Pa,u)),()=>a(Wa,{class:Ft(),onSubmit:l},{default:()=>[a("div",{class:Ft("fields")},[a(it,{modelValue:n.name,"onUpdate:modelValue":u=>n.name=u,clearable:!0,label:mt("name"),rules:[{required:!0,message:mt("nameEmpty")}],maxlength:"30",placeholder:mt("name")},null),a(it,{modelValue:n.tel,"onUpdate:modelValue":u=>n.tel=u,clearable:!0,type:"tel",label:mt("tel"),rules:[{validator:e.telValidator,message:mt("telInvalid")}],placeholder:mt("tel")},null)]),r(),o()]})}});const md=N(vd),[hd,at,gd]=z("contact-list"),bd={list:Array,addText:String,modelValue:ge,defaultTagText:String};var yd=M({name:hd,props:bd,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(l,i)=>{const o=()=>{t("update:modelValue",l.id),t("select",l,i)},s=()=>a(qa,{class:at("radio"),name:l.id,iconSize:18},null),r=()=>a(ae,{name:"edit",class:at("edit"),onClick:c=>{c.stopPropagation(),t("edit",l,i)}},null),u=()=>{const c=[`${l.name}，${l.tel}`];return l.isDefault&&e.defaultTagText&&c.push(a(pn,{type:"primary",round:!0,class:at("item-tag")},{default:()=>[e.defaultTagText]})),c};return a(Xe,{key:l.id,isLink:!0,center:!0,class:at("item"),titleClass:at("item-title"),onClick:o},{icon:r,title:u,"right-icon":s})};return()=>a("div",{class:at()},[a(Ga,{modelValue:e.modelValue,class:at("group")},{default:()=>[e.list&&e.list.map(n)]}),a("div",{class:[at("bottom"),"van-safe-area-bottom"]},[a(Ie,{round:!0,block:!0,type:"primary",class:at("add"),text:e.addText||gd("addContact"),onClick:()=>t("add")},null)])])}});const xd=N(yd);function wd(e,t){const{days:n}=t;let{hours:l,minutes:i,seconds:o,milliseconds:s}=t;if(e.includes("DD")?e=e.replace("DD",We(n)):l+=n*24,e.includes("HH")?e=e.replace("HH",We(l)):i+=l*60,e.includes("mm")?e=e.replace("mm",We(i)):o+=i*60,e.includes("ss")?e=e.replace("ss",We(o)):s+=o*1e3,e.includes("S")){const r=We(s,3);e.includes("SSS")?e=e.replace("SSS",r):e.includes("SS")?e=e.replace("SS",r.slice(0,2)):e=e.replace("S",r.charAt(0))}return e}const[Sd,Cd]=z("count-down"),kd={time:K(0),format:H("HH:mm:ss"),autoStart:V,millisecond:Boolean};var Td=M({name:Sd,props:kd,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:l,pause:i,reset:o,current:s}=Ui({time:+e.time,millisecond:e.millisecond,onChange:c=>t("change",c),onFinish:()=>t("finish")}),r=A(()=>wd(e.format,s.value)),u=()=>{o(+e.time),e.autoStart&&l()};return W(()=>e.time,u,{immediate:!0}),ie({start:l,pause:i,reset:u}),()=>a("div",{role:"timer",class:Cd()},[n.default?n.default(s.value):r.value])}});const $d=N(Td);function _l(e){const t=new Date(e*1e3);return`${t.getFullYear()}.${We(t.getMonth()+1)}.${We(t.getDate())}`}const Bd=e=>(e/10).toFixed(e%10===0?0:1),Rl=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[Dd,Ze,ua]=z("coupon");var Pd=M({name:Dd,props:{chosen:Boolean,coupon:Ce(Object),disabled:Boolean,currency:H("¥")},setup(e){const t=A(()=>{const{startAt:i,endAt:o}=e.coupon;return`${_l(i)} - ${_l(o)}`}),n=A(()=>{const{coupon:i,currency:o}=e;if(i.valueDesc)return[i.valueDesc,a("span",null,[i.unitDesc||""])];if(i.denominations){const s=Rl(i.denominations);return[a("span",null,[o]),` ${s}`]}return i.discount?ua("discount",Bd(i.discount)):""}),l=A(()=>{const i=Rl(e.coupon.originCondition||0);return i==="0"?ua("unlimited"):ua("condition",i)});return()=>{const{chosen:i,coupon:o,disabled:s}=e,r=s&&o.reason||o.description;return a("div",{class:Ze({disabled:s})},[a("div",{class:Ze("content")},[a("div",{class:Ze("head")},[a("h2",{class:Ze("amount")},[n.value]),a("p",{class:Ze("condition")},[o.condition||l.value])]),a("div",{class:Ze("body")},[a("p",{class:Ze("name")},[o.name]),a("p",{class:Ze("valid")},[t.value]),!s&&a(Za,{class:Ze("corner"),modelValue:i},null)])]),r&&a("p",{class:Ze("description")},[r])])}}});const Ia=N(Pd),[Id,Vl,Aa]=z("coupon-cell"),Ad={title:String,border:V,editable:V,coupons:me(),currency:H("¥"),chosenCoupon:{type:[Number,Array],default:-1}},Ed=e=>{const{value:t,denominations:n}=e;return re(t)?t:re(n)?n:0};function Od({coupons:e,chosenCoupon:t,currency:n}){let l=0,i=!1;return(Array.isArray(t)?t:[t]).forEach(o=>{const s=e[+o];s&&(i=!0,l+=Ed(s))}),i?`-${n} ${(l/100).toFixed(2)}`:e.length===0?Aa("noCoupon"):Aa("count",e.length)}var _d=M({name:Id,props:Ad,setup(e){return()=>{const t=Array.isArray(e.chosenCoupon)?e.chosenCoupon.length:e.coupons[+e.chosenCoupon];return a(Xe,{class:Vl(),value:Od(e),title:e.title||Aa("title"),border:e.border,isLink:e.editable,valueClass:Vl("value",{selected:t})},null)}}});const Rd=N(_d),[Vd,$n]=z("empty"),Md={image:H("default"),imageSize:[Number,String,Array],description:String};var zd=M({name:Vd,props:Md,setup(e,{slots:t}){const n=()=>{const S=t.description?t.description():e.description;if(S)return a("p",{class:$n("description")},[S])},l=()=>{if(t.default)return a("div",{class:$n("bottom")},[t.default()])},i=pt(),o=S=>`${i}-${S}`,s=S=>`url(#${o(S)})`,r=(S,m,w)=>a("stop",{"stop-color":S,offset:`${m}%`,"stop-opacity":w},null),u=(S,m)=>[r(S,0),r(m,100)],c=S=>[a("defs",null,[a("radialGradient",{id:o(S),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[r("#EBEDF0",0),r("#F2F3F5",100,.3)])]),a("ellipse",{fill:s(S),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],d=()=>[a("defs",null,[a("linearGradient",{id:o("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[r("#FFF",0,.5),r("#F2F3F5",100)])]),a("g",{opacity:".8","data-allow-mismatch":"children"},[a("path",{d:"M36 131V53H16v20H2v58h34z",fill:s("a")},null),a("path",{d:"M123 15h22v14h9v77h-31V15z",fill:s("a")},null)])],f=()=>[a("defs",null,[a("linearGradient",{id:o("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[r("#F2F3F5",0,.3),r("#F2F3F5",100)])]),a("g",{opacity:".8","data-allow-mismatch":"children"},[a("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:s("b")},null),a("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:s("b")},null)])],v=()=>a("svg",{viewBox:"0 0 160 160"},[a("defs",{"data-allow-mismatch":"children"},[a("linearGradient",{id:o(1),x1:"64%",y1:"100%",x2:"64%"},[r("#FFF",0,.5),r("#F2F3F5",100)]),a("linearGradient",{id:o(2),x1:"50%",x2:"50%",y2:"84%"},[r("#EBEDF0",0),r("#DCDEE0",100,0)]),a("linearGradient",{id:o(3),x1:"100%",x2:"100%",y2:"100%"},[u("#EAEDF0","#DCDEE0")]),a("radialGradient",{id:o(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[r("#EBEDF0",0),r("#FFF",100,0)])]),a("g",{fill:"none"},[d(),a("path",{fill:s(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),a("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:s(2),"data-allow-mismatch":"attribute"},null),a("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[a("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:s(3)},null),a("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:s(3)},null),a("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:s(3)},null),a("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:s(3)},null)]),a("g",{transform:"translate(31 105)"},[a("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),a("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),a("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),h=()=>a("svg",{viewBox:"0 0 160 160"},[a("defs",{"data-allow-mismatch":"children"},[a("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(5)},[u("#F2F3F5","#DCDEE0")]),a("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:o(6)},[u("#EAEDF1","#DCDEE0")]),a("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:o(7)},[u("#EAEDF1","#DCDEE0")])]),d(),f(),a("g",{transform:"translate(36 50)",fill:"none"},[a("g",{transform:"translate(8)"},[a("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),a("rect",{fill:s(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),a("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),a("g",{transform:"translate(15 17)",fill:s(6),"data-allow-mismatch":"attribute"},[a("rect",{width:"34",height:"6",rx:"1"},null),a("path",{d:"M0 14h34v6H0z"},null),a("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),a("rect",{fill:s(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),a("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),y=()=>a("svg",{viewBox:"0 0 160 160"},[a("defs",null,[a("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(8),"data-allow-mismatch":"attribute"},[u("#EAEDF1","#DCDEE0")])]),d(),f(),c("c"),a("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:s(8),"data-allow-mismatch":"attribute"},null)]),C=()=>a("svg",{viewBox:"0 0 160 160"},[a("defs",{"data-allow-mismatch":"children"},[a("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:o(9)},[u("#EEE","#D8D8D8")]),a("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:o(10)},[u("#F2F3F5","#DCDEE0")]),a("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(11)},[u("#F2F3F5","#DCDEE0")]),a("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(12)},[u("#FFF","#F7F8FA")])]),d(),f(),c("d"),a("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[a("rect",{fill:s(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),a("rect",{fill:s(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),a("circle",{stroke:s(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),a("circle",{fill:s(12),cx:"27",cy:"27",r:"16"},null),a("path",{d:"M37 7c-8 0-15 5-16 12",stroke:s(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),g=()=>{var S;if(t.image)return t.image();const m={error:y,search:C,network:v,default:h};return((S=m[e.image])==null?void 0:S.call(m))||a("img",{src:e.image},null)};return()=>a("div",{class:$n()},[a("div",{class:$n("image"),style:ut(e.imageSize)},[g()]),n(),l()])}});const ii=N(zd),[Ld,Je,Nt]=z("coupon-list"),Fd={code:H(""),coupons:me(),currency:H("¥"),showCount:V,emptyImage:String,enabledTitle:String,disabledTitle:String,disabledCoupons:me(),showExchangeBar:V,showCloseButton:V,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:xe(1),exchangeButtonText:String,displayedCouponIndex:xe(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,chosenCoupon:{type:[Number,Array],default:-1}};var Nd=M({name:Ld,props:Fd,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[l,i]=hn(),o=E(),s=E(),r=E(0),u=E(0),c=E(e.code),d=A(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!c.value||c.value.length<e.exchangeMinLength)),f=()=>{const w=ue(o).height,T=ue(s).height+44;u.value=(w>T?w:Fe.value)-T},v=()=>{t("exchange",c.value),e.code||(c.value="")},h=m=>{oe(()=>{var w;return(w=l.value[m])==null?void 0:w.scrollIntoView()})},y=()=>a(ii,{image:e.emptyImage},{default:()=>[a("p",{class:Je("empty-tip")},[Nt("noCoupon")])]}),C=()=>{if(e.showExchangeBar)return a("div",{ref:s,class:Je("exchange-bar")},[a(it,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,clearable:!0,border:!1,class:Je("field"),placeholder:e.inputPlaceholder||Nt("placeholder"),maxlength:"20"},null),a(Ie,{plain:!0,type:"primary",class:Je("exchange"),text:e.exchangeButtonText||Nt("exchange"),loading:e.exchangeButtonLoading,disabled:d.value,onClick:v},null)])},g=()=>{const{coupons:m,chosenCoupon:w}=e,T=e.showCount?` (${m.length})`:"",b=(e.enabledTitle||Nt("enable"))+T,$=(O=[],x=0)=>O.includes(x)?O.filter(P=>P!==x):[...O,x];return a(vn,{title:b},{default:()=>{var O;return[a("div",{class:Je("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[m.map((x,P)=>a(Ia,{key:x.id,ref:i(P),coupon:x,chosen:Array.isArray(w)?w.includes(P):P===w,currency:e.currency,onClick:()=>t("change",Array.isArray(w)?$(w,P):P)},null)),!m.length&&y(),(O=n["list-footer"])==null?void 0:O.call(n)])]}})},S=()=>{const{disabledCoupons:m}=e,w=e.showCount?` (${m.length})`:"",T=(e.disabledTitle||Nt("disabled"))+w;return a(vn,{title:T},{default:()=>{var b;return[a("div",{class:Je("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[m.map($=>a(Ia,{disabled:!0,key:$.id,coupon:$,currency:e.currency},null)),!m.length&&y(),(b=n["disabled-list-footer"])==null?void 0:b.call(n)])]}})};return W(()=>e.code,m=>{c.value=m}),W(Fe,f),W(c,m=>t("update:code",m)),W(()=>e.displayedCouponIndex,h),$e(()=>{f(),h(e.displayedCouponIndex)}),()=>a("div",{ref:o,class:Je()},[C(),a(Gn,{active:r.value,"onUpdate:active":m=>r.value=m,class:Je("tab")},{default:()=>[g(),S()]}),a("div",{class:Je("bottom")},[n["list-button"]?n["list-button"]():ke(a(Ie,{round:!0,block:!0,type:"primary",class:Je("close"),text:e.closeButtonText||Nt("close"),onClick:()=>t("change",Array.isArray(e.chosenCoupon)?[]:-1)},null),[[Be,e.showCloseButton]])])])}});const Hd=N(Nd),Ml=new Date().getFullYear(),[Yd]=z("date-picker"),jd=J({},Qo,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(Ml-10,0,1),validator:dn},maxDate:{type:Date,default:()=>new Date(Ml+10,11,31),validator:dn}});var Wd=M({name:Yd,props:jd,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const l=E(e.modelValue),i=E(!1),o=E(),s=A(()=>i.value?e.modelValue:l.value),r=b=>b===e.minDate.getFullYear(),u=b=>b===e.maxDate.getFullYear(),c=b=>b===e.minDate.getMonth()+1,d=b=>b===e.maxDate.getMonth()+1,f=b=>{const{minDate:$,columnsType:O}=e,x=O.indexOf(b),P=s.value[x];if(P)return+P;switch(b){case"year":return $.getFullYear();case"month":return $.getMonth()+1;case"day":return $.getDate()}},v=()=>{const b=e.minDate.getFullYear(),$=e.maxDate.getFullYear();return Kt(b,$,"year",e.formatter,e.filter,s.value)},h=()=>{const b=f("year"),$=r(b)?e.minDate.getMonth()+1:1,O=u(b)?e.maxDate.getMonth()+1:12;return Kt($,O,"month",e.formatter,e.filter,s.value)},y=()=>{const b=f("year"),$=f("month"),O=r(b)&&c($)?e.minDate.getDate():1,x=u(b)&&d($)?e.maxDate.getDate():ei(b,$);return Kt(O,x,"day",e.formatter,e.filter,s.value)},C=()=>{var b;return(b=o.value)==null?void 0:b.confirm()},g=()=>l.value,S=A(()=>e.columnsType.map(b=>{switch(b){case"year":return v();case"month":return h();case"day":return y();default:return[]}}));W(l,b=>{Qe(b,e.modelValue)||t("update:modelValue",b)}),W(()=>e.modelValue,(b,$)=>{i.value=Qe($,l.value),b=ti(b,S.value),Qe(b,l.value)||(l.value=b),i.value=!1},{immediate:!0});const m=(...b)=>t("change",...b),w=(...b)=>t("cancel",...b),T=(...b)=>t("confirm",...b);return ie({confirm:C,getSelectedDate:g}),()=>a(qn,le({ref:o,modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,columns:S.value,onChange:m,onCancel:w,onConfirm:T},se(e,po)),n)}});const Ud=N(Wd),[Kd,He,Bn]=z("dialog"),Gd=J({},Qt,{title:String,theme:String,width:L,message:[String,Function],callback:Function,allowHtml:Boolean,className:ge,transition:H("van-dialog-bounce"),messageAlign:String,closeOnPopstate:V,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:V,closeOnClickOverlay:Boolean,keyboardEnabled:V}),Xd=[...Fa,"transition","closeOnPopstate"];var ci=M({name:Kd,props:Gd,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const l=E(),i=Te({confirm:!1,cancel:!1}),o=S=>t("update:show",S),s=S=>{var m;o(!1),(m=e.callback)==null||m.call(e,S)},r=S=>()=>{e.show&&(t(S),e.beforeClose?(i[S]=!0,wt(e.beforeClose,{args:[S],done(){s(S),i[S]=!1},canceled(){i[S]=!1}})):s(S))},u=r("cancel"),c=r("confirm"),d=Li(S=>{var m,w;if(!e.keyboardEnabled||S.target!==((w=(m=l.value)==null?void 0:m.popupRef)==null?void 0:w.value))return;({Enter:e.showConfirmButton?c:wa,Escape:e.showCancelButton?u:wa})[S.key](),t("keydown",S)},["enter","esc"]),f=()=>{const S=n.title?n.title():e.title;if(S)return a("div",{class:He("header",{isolated:!e.message&&!n.default})},[S])},v=S=>{const{message:m,allowHtml:w,messageAlign:T}=e,b=He("message",{"has-title":S,[T]:T}),$=Xt(m)?m():m;return w&&typeof $=="string"?a("div",{class:b,innerHTML:$},null):a("div",{class:b},[$])},h=()=>{if(n.default)return a("div",{class:He("content")},[n.default()]);const{title:S,message:m,allowHtml:w}=e;if(m){const T=!!(S||n.title);return a("div",{key:w?1:0,class:He("content",{isolated:!T})},[v(T)])}},y=()=>a("div",{class:[fo,He("footer")]},[e.showCancelButton&&a(Ie,{size:"large",text:e.cancelButtonText||Bn("cancel"),class:He("cancel"),style:{color:e.cancelButtonColor},loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&a(Ie,{size:"large",text:e.confirmButtonText||Bn("confirm"),class:[He("confirm"),{[vo]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:c},null)]),C=()=>a(xo,{class:He("footer")},{default:()=>[e.showCancelButton&&a(ka,{type:"warning",text:e.cancelButtonText||Bn("cancel"),class:He("cancel"),color:e.cancelButtonColor,loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&a(ka,{type:"danger",text:e.confirmButtonText||Bn("confirm"),class:He("confirm"),color:e.confirmButtonColor,loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:c},null)]}),g=()=>n.footer?n.footer():e.theme==="round-button"?C():y();return()=>{const{width:S,title:m,theme:w,message:T,className:b}=e;return a(Ge,le({ref:l,role:"dialog",class:[He([w]),b],style:{width:ne(S)},tabindex:0,"aria-labelledby":m||T,onKeydown:d,"onUpdate:show":o},se(e,Xd)),{default:()=>[f(),h(),g()]})}}});let Ea;const qd={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let Zd=J({},qd);function Jd(){({instance:Ea}=Qn({setup(){const{state:t,toggle:n}=Jn();return()=>a(ci,le(t,{"onUpdate:show":n}),null)}}))}function Qd(e){return Re?new Promise((t,n)=>{Ea||Jd(),Ea.open(J({},Zd,e,{callback:l=>{(l==="confirm"?t:n)(l)}}))}):Promise.resolve(void 0)}const xg=e=>Qd(J({showCancelButton:!0},e)),pd=N(ci),[ef,tf]=z("divider"),nf={dashed:Boolean,hairline:V,vertical:Boolean,contentPosition:H("center")};var af=M({name:ef,props:nf,setup(e,{slots:t}){return()=>{var n;return a("div",{role:"separator",class:tf({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!t.default&&!e.vertical})},[!e.vertical&&((n=t.default)==null?void 0:n.call(t))])}}});const lf=N(af),[ri,Dn]=z("dropdown-menu"),of={overlay:V,zIndex:L,duration:K(.2),direction:H("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:V,closeOnClickOverlay:V,swipeThreshold:L},si=Symbol(ri);var cf=M({name:ri,props:of,setup(e,{slots:t}){const n=pt(),l=E(),i=E(),o=E(0),{children:s,linkChildren:r}=Ae(si),u=Jt(l),c=A(()=>s.some(m=>m.state.showWrapper)),d=A(()=>e.swipeThreshold&&s.length>+e.swipeThreshold),f=A(()=>{if(c.value&&re(e.zIndex))return{zIndex:+e.zIndex+1}}),v=()=>{s.forEach(m=>{m.toggle(!1)})},h=()=>{e.closeOnClickOutside&&v()},y=()=>{if(i.value){const m=ue(i);e.direction==="down"?o.value=m.bottom:o.value=Fe.value-m.top}},C=()=>{c.value&&y()},g=m=>{s.forEach((w,T)=>{T===m?w.toggle():w.state.showPopup&&w.toggle(!1,{immediate:!0})})},S=(m,w)=>{const{showPopup:T}=m.state,{disabled:b,titleClass:$}=m;return a("div",{id:`${n}-${w}`,role:"button",tabindex:b?void 0:0,"data-allow-mismatch":"attribute",class:[Dn("item",{disabled:b,grow:d.value}),{[Pe]:!b}],onClick:()=>{b||g(w)}},[a("span",{class:[Dn("title",{down:T===(e.direction==="down"),active:T}),$],style:{color:T?e.activeColor:""}},[a("div",{class:"van-ellipsis"},[m.renderTitle()])])])};return ie({close:v}),r({id:n,props:e,offset:o,updateOffset:y}),Yn(l,h),ye("scroll",C,{target:u,passive:!0}),()=>{var m;return a("div",{ref:l,class:Dn()},[a("div",{ref:i,style:f.value,class:Dn("bar",{opened:c.value,scrollable:d.value})},[s.map(S)]),(m=t.default)==null?void 0:m.call(t)])}}});const[rf,Pn]=z("dropdown-item"),sf={title:String,options:me(),disabled:Boolean,teleport:[String,Object],lazyRender:V,modelValue:ge,titleClass:ge};var uf=M({name:rf,inheritAttrs:!1,props:sf,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n,attrs:l}){const i=Te({showPopup:!1,transition:!0,showWrapper:!1}),o=E(),{parent:s,index:r}=De(si);if(!s)return;const u=m=>()=>t(m),c=u("open"),d=u("close"),f=u("opened"),v=()=>{i.showWrapper=!1,t("closed")},h=m=>{e.teleport&&m.stopPropagation()},y=(m=!i.showPopup,w={})=>{m!==i.showPopup&&(i.showPopup=m,i.transition=!w.immediate,m&&(s.updateOffset(),i.showWrapper=!0))},C=()=>{if(n.title)return n.title();if(e.title)return e.title;const m=e.options.find(w=>w.value===e.modelValue);return m?m.text:""},g=m=>{const{activeColor:w}=s.props,{disabled:T}=m,b=m.value===e.modelValue,$=()=>{T||(i.showPopup=!1,m.value!==e.modelValue&&(t("update:modelValue",m.value),t("change",m.value)))},O=()=>{if(b)return a(ae,{class:Pn("icon"),color:T?void 0:w,name:"success"},null)};return a(Xe,{role:"menuitem",key:String(m.value),icon:m.icon,title:m.text,class:Pn("option",{active:b,disabled:T}),style:{color:b?w:""},tabindex:b?0:-1,clickable:!T,onClick:$},{value:O})},S=()=>{const{offset:m}=s,{autoLocate:w,zIndex:T,overlay:b,duration:$,direction:O,closeOnClickOverlay:x}=s.props,P=dt(T);let D=m.value;if(w&&o.value){const k=Qi(o.value);k&&(D-=ue(k).top)}return O==="down"?P.top=`${D}px`:P.bottom=`${D}px`,ke(a("div",le({ref:o,style:P,class:Pn([O]),onClick:h},l),[a(Ge,{show:i.showPopup,"onUpdate:show":k=>i.showPopup=k,role:"menu",class:Pn("content"),overlay:b,position:O==="down"?"top":"bottom",duration:i.transition?$:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${s.id}-${r.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:x,onOpen:c,onClose:d,onOpened:f,onClosed:v},{default:()=>{var k;return[e.options.map(g),(k=n.default)==null?void 0:k.call(n)]}})]),[[Be,i.showWrapper]])};return ie({state:i,toggle:y,renderTitle:C}),()=>e.teleport?a(At,{to:e.teleport},{default:()=>[S()]}):S()}});const df=N(uf),ff=N(cf),vf={gap:xe(24),icon:String,axis:H("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[mf,zl]=z("floating-bubble");var hf=M({name:mf,inheritAttrs:!1,props:vf,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:n,attrs:l}){const i=E(),o=E({x:0,y:0,width:0,height:0}),s=A(()=>({top:e.gap,right:Ue.value-o.value.width-e.gap,bottom:Fe.value-o.value.height-e.gap,left:e.gap})),r=E(!1);let u=!1;const c=A(()=>{const w={},T=ne(o.value.x),b=ne(o.value.y);return w.transform=`translate3d(${T}, ${b}, 0)`,(r.value||!u)&&(w.transition="none"),w}),d=()=>{if(!m.value)return;const{width:w,height:T}=ue(i.value),{offset:b}=e;o.value={x:b.x>-1?b.x:Ue.value-w-e.gap,y:b.y>-1?b.y:Fe.value-T-e.gap,width:w,height:T}},f=Ne();let v=0,h=0;const y=w=>{f.start(w),r.value=!0,v=o.value.x,h=o.value.y};ye("touchmove",w=>{if(w.preventDefault(),f.move(w),e.axis!=="lock"&&!f.isTap.value){if(e.axis==="x"||e.axis==="xy"){let b=v+f.deltaX.value;b<s.value.left&&(b=s.value.left),b>s.value.right&&(b=s.value.right),o.value.x=b}if(e.axis==="y"||e.axis==="xy"){let b=h+f.deltaY.value;b<s.value.top&&(b=s.value.top),b>s.value.bottom&&(b=s.value.bottom),o.value.y=b}const T=se(o.value,["x","y"]);n("update:offset",T)}},{target:i});const g=()=>{r.value=!1,oe(()=>{if(e.magnetic==="x"){const w=Ln([s.value.left,s.value.right],o.value.x);o.value.x=w}if(e.magnetic==="y"){const w=Ln([s.value.top,s.value.bottom],o.value.y);o.value.y=w}if(!f.isTap.value){const w=se(o.value,["x","y"]);n("update:offset",w),(v!==w.x||h!==w.y)&&n("offsetChange",w)}})},S=w=>{f.isTap.value?n("click",w):w.stopPropagation()};$e(()=>{d(),oe(()=>{u=!0})}),W([Ue,Fe,()=>e.gap,()=>e.offset],d,{deep:!0});const m=E(!0);return Dt(()=>{m.value=!0}),Pt(()=>{e.teleport&&(m.value=!1)}),()=>{const w=ke(a("div",le({class:zl(),ref:i,onTouchstartPassive:y,onTouchend:g,onTouchcancel:g,onClickCapture:S,style:c.value},l),[t.default?t.default():a(Ic,{name:e.icon,class:zl("icon")},null)]),[[Be,m.value]]);return e.teleport?a(At,{to:e.teleport},{default:()=>[w]}):w}}});const gf=N(hf),bf={height:K(0),anchors:me(),duration:K(.3),contentDraggable:V,lockScroll:Boolean,safeAreaInsetBottom:V},[yf,In]=z("floating-panel");var xf=M({name:yf,props:bf,emits:["heightChange","update:height"],setup(e,{emit:t,slots:n}){const i=E(),o=E(),s=Ha(()=>+e.height,w=>t("update:height",w)),r=A(()=>{var w,T;return{min:(w=e.anchors[0])!=null?w:100,max:(T=e.anchors[e.anchors.length-1])!=null?T:Math.round(Fe.value*.6)}}),u=A(()=>e.anchors.length>=2?e.anchors:[r.value.min,r.value.max]),c=E(!1),d=A(()=>({height:ne(r.value.max),transform:`translateY(calc(100% + ${ne(-s.value)}))`,transition:c.value?"none":`transform ${e.duration}s cubic-bezier(0.18, 0.89, 0.32, 1.28)`})),f=w=>{const T=Math.abs(w),{min:b,max:$}=r.value;return T>$?-($+(T-$)*.2):T<b?-(b-(b-T)*.2):w};let v,h=-1;const y=Ne(),C=w=>{y.start(w),c.value=!0,v=-s.value,h=-1},g=w=>{var T;y.move(w);const b=w.target;if(o.value===b||(T=o.value)!=null&&T.contains(b)){const{scrollTop:O}=o.value;if(h=Math.max(h,O),!e.contentDraggable)return;if(-v<r.value.max)ve(w,!0);else if(!(O<=0&&y.deltaY.value>0)||h>0)return}const $=y.deltaY.value+v;s.value=-f($)},S=()=>{h=-1,c.value=!1,s.value=Ln(u.value,s.value),s.value!==-v&&t("heightChange",{height:s.value})};W(r,()=>{s.value=Ln(u.value,s.value)},{immediate:!0}),To(i,()=>e.lockScroll||c.value),ye("touchmove",g,{target:i});const m=()=>n.header?n.header():a("div",{class:In("header")},[a("div",{class:In("header-bar")},null)]);return()=>{var w;return a("div",{class:[In(),{"van-safe-area-bottom":e.safeAreaInsetBottom}],ref:i,style:d.value,onTouchstartPassive:C,onTouchend:S,onTouchcancel:S},[m(),a("div",{class:In("content"),ref:o},[(w=n.default)==null?void 0:w.call(n)])])}}});const wf=N(xf),[ui,Sf]=z("grid"),Cf={square:Boolean,center:V,border:V,gutter:L,reverse:Boolean,iconSize:L,direction:String,clickable:Boolean,columnNum:K(4)},di=Symbol(ui);var kf=M({name:ui,props:Cf,setup(e,{slots:t}){const{linkChildren:n}=Ae(di);return n({props:e}),()=>{var l;return a("div",{style:{paddingLeft:ne(e.gutter)},class:[Sf(),{[fo]:e.border&&!e.gutter}]},[(l=t.default)==null?void 0:l.call(t)])}}});const Tf=N(kf),[$f,An]=z("grid-item"),Bf=J({},St,{dot:Boolean,text:String,icon:String,badge:L,iconColor:String,iconPrefix:String,badgeProps:Object});var Df=M({name:$f,props:Bf,setup(e,{slots:t}){const{parent:n,index:l}=De(di),i=Et();if(!n)return;const o=A(()=>{const{square:d,gutter:f,columnNum:v}=n.props,h=`${100/+v}%`,y={flexBasis:h};if(d)y.paddingTop=h;else if(f){const C=ne(f);y.paddingRight=C,l.value>=+v&&(y.marginTop=C)}return y}),s=A(()=>{const{square:d,gutter:f}=n.props;if(d&&f){const v=ne(f);return{right:v,bottom:v,height:"auto"}}}),r=()=>{if(t.icon)return a(Ot,le({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return a(ae,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:An("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},u=()=>{if(t.text)return t.text();if(e.text)return a("span",{class:An("text")},[e.text])},c=()=>t.default?t.default():[r(),u()];return()=>{const{center:d,border:f,square:v,gutter:h,reverse:y,direction:C,clickable:g}=n.props,S=[An("content",[C,{center:d,square:v,reverse:y,clickable:g,surround:f&&h}]),{[ft]:f}];return a("div",{class:[An({square:v})],style:o.value},[a("div",{role:g?"button":void 0,class:S,style:s.value,tabindex:g?0:void 0,onClick:i},[c()])])}}});const Pf=N(Df),[If,Ll]=z("highlight"),Af={autoEscape:V,caseSensitive:Boolean,highlightClass:String,highlightTag:H("span"),keywords:Ce([String,Array]),sourceString:H(""),tag:H("div"),unhighlightClass:String,unhighlightTag:H("span")};var Ef=M({name:If,props:Af,setup(e){const t=A(()=>{const{autoEscape:l,caseSensitive:i,keywords:o,sourceString:s}=e,r=i?"g":"gi";let c=(Array.isArray(o)?o:[o]).filter(f=>f).reduce((f,v)=>{l&&(v=v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));const h=new RegExp(v,r);let y;for(;y=h.exec(s);){const C=y.index,g=h.lastIndex;if(C>=g){h.lastIndex++;continue}f.push({start:C,end:g,highlight:!0})}return f},[]);c=c.sort((f,v)=>f.start-v.start).reduce((f,v)=>{const h=f[f.length-1];if(!h||v.start>h.end){const y=h?h.end:0,C=v.start;y!==C&&f.push({start:y,end:C,highlight:!1}),f.push(v)}else h.end=Math.max(h.end,v.end);return f},[]);const d=c[c.length-1];return d||c.push({start:0,end:s.length,highlight:!1}),d&&d.end<s.length&&c.push({start:d.end,end:s.length,highlight:!1}),c}),n=()=>{const{sourceString:l,highlightClass:i,unhighlightClass:o,highlightTag:s,unhighlightTag:r}=e;return t.value.map(u=>{const{start:c,end:d,highlight:f}=u,v=l.slice(c,d);return f?a(s,{class:[Ll("tag"),i]},{default:()=>[v]}):a(r,{class:o},{default:()=>[v]})})};return()=>{const{tag:l}=e;return a(l,{class:Ll()},{default:()=>[n()]})}}});const Of=N(Ef),Fl=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),_f=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),da=z("image-preview")[1],Nl=2.6,Rf={src:String,show:Boolean,active:Number,minZoom:Ce(L),maxZoom:Ce(L),rootWidth:Ce(Number),rootHeight:Ce(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var Vf=M({props:Rf,emits:["scale","close","longPress"],setup(e,{emit:t,slots:n}){const l=Te({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),i=Ne(),o=E(),s=E(),r=E(!1),u=E(!1);let c=0;const d=A(()=>{const{scale:F,moveX:p,moveY:ee,moving:de,zooming:fe,initializing:_}=l,Y={transitionDuration:fe||de||_?"0s":".3s"};return(F!==1||u.value)&&(Y.transform=`matrix(${F}, 0, 0, ${F}, ${p}, ${ee})`),Y}),f=A(()=>{if(l.imageRatio){const{rootWidth:F,rootHeight:p}=e,ee=r.value?p/l.imageRatio:F;return Math.max(0,(l.scale*ee-F)/2)}return 0}),v=A(()=>{if(l.imageRatio){const{rootWidth:F,rootHeight:p}=e,ee=r.value?p:F*l.imageRatio;return Math.max(0,(l.scale*ee-p)/2)}return 0}),h=(F,p)=>{var ee;if(F=Se(F,+e.minZoom,+e.maxZoom+1),F!==l.scale){const de=F/l.scale;if(l.scale=F,p){const fe=ue((ee=o.value)==null?void 0:ee.$el),_={x:fe.width*.5,y:fe.height*.5},Y=l.moveX-(p.x-fe.left-_.x)*(de-1),q=l.moveY-(p.y-fe.top-_.y)*(de-1);l.moveX=Se(Y,-f.value,f.value),l.moveY=Se(q,-v.value,v.value)}else l.moveX=0,l.moveY=u.value?c:0;t("scale",{scale:F,index:e.active})}},y=()=>{h(1)},C=()=>{const F=l.scale>1?1:2;h(F,F===2||u.value?{x:i.startX.value,y:i.startY.value}:void 0)};let g,S,m,w,T,b,$,O,x=!1;const P=F=>{const{touches:p}=F;if(g=p.length,g===2&&e.disableZoom)return;const{offsetX:ee}=i;i.start(F),S=l.moveX,m=l.moveY,O=Date.now(),x=!1,l.moving=g===1&&(l.scale!==1||u.value),l.zooming=g===2&&!ee.value,l.zooming&&(w=l.scale,T=Fl(p))},D=F=>{const{touches:p}=F;if(i.move(F),l.moving){const{deltaX:ee,deltaY:de}=i,fe=ee.value+S,_=de.value+m;if((e.vertical?i.isVertical()&&Math.abs(_)>v.value:i.isHorizontal()&&Math.abs(fe)>f.value)&&!x){l.moving=!1;return}x=!0,ve(F,!0),l.moveX=Se(fe,-f.value,f.value),l.moveY=Se(_,-v.value,v.value)}if(l.zooming&&(ve(F,!0),p.length===2)){const ee=Fl(p),de=w*ee/T;b=_f(p),h(de,b)}},k=F=>{var p;const ee=(p=s.value)==null?void 0:p.$el;if(!ee)return;const de=ee.firstElementChild,fe=F.target===ee,_=de==null?void 0:de.contains(F.target);!e.closeOnClickImage&&_||!e.closeOnClickOverlay&&fe||t("close")},B=F=>{if(g>1)return;const p=Date.now()-O,ee=250;i.isTap.value&&(p<ee?e.doubleScale?$?(clearTimeout($),$=null,C()):$=setTimeout(()=>{k(F),$=null},ee):k(F):p>ho&&t("longPress"))},R=F=>{let p=!1;if((l.moving||l.zooming)&&(p=!0,l.moving&&S===l.moveX&&m===l.moveY&&(p=!1),!F.touches.length)){l.zooming&&(l.moveX=Se(l.moveX,-f.value,f.value),l.moveY=Se(l.moveY,-v.value,v.value),l.zooming=!1),l.moving=!1,S=0,m=0,w=1,l.scale<1&&y();const ee=+e.maxZoom;l.scale>ee&&h(ee,b)}ve(F,p),B(F),i.reset()},U=()=>{const{rootWidth:F,rootHeight:p}=e,ee=p/F,{imageRatio:de}=l;r.value=l.imageRatio>ee&&de<Nl,u.value=l.imageRatio>ee&&de>=Nl,u.value&&(c=(de*F-p)/2,l.moveY=c,l.initializing=!0,Le(()=>{l.initializing=!1})),y()},X=F=>{const{naturalWidth:p,naturalHeight:ee}=F.target;l.imageRatio=ee/p,U()};return W(()=>e.active,y),W(()=>e.show,F=>{F||y()}),W(()=>[e.rootWidth,e.rootHeight],U),ye("touchmove",D,{target:A(()=>{var F;return(F=s.value)==null?void 0:F.$el})}),ie({resetScale:y}),()=>{const F={loading:()=>a(Ke,{type:"spinner"},null)};return a(ja,{ref:s,class:da("swipe-item"),onTouchstartPassive:P,onTouchend:R,onTouchcancel:R},{default:()=>[n.image?a("div",{class:da("image-wrap")},[n.image({src:e.src,onLoad:X,style:d.value})]):a(ea,{ref:o,src:e.src,fit:"contain",class:da("image",{vertical:r.value}),style:d.value,onLoad:X},F)]})}}});const[Mf,Ht]=z("image-preview"),zf=["show","teleport","transition","overlayStyle","closeOnPopstate"],Lf={show:Boolean,loop:V,images:me(),minZoom:K(1/3),maxZoom:K(3),overlay:V,vertical:Boolean,closeable:Boolean,showIndex:V,className:ge,closeIcon:H("clear"),transition:String,beforeClose:Function,doubleScale:V,overlayClass:ge,overlayStyle:Object,swipeDuration:K(300),startPosition:K(0),showIndicators:Boolean,closeOnPopstate:V,closeOnClickImage:V,closeOnClickOverlay:V,closeIconPosition:H("top-right"),teleport:[String,Object]};var fi=M({name:Mf,props:Lf,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:n}){const l=E(),i=E(),o=Te({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),s=()=>{if(l.value){const w=ue(l.value.$el);o.rootWidth=w.width,o.rootHeight=w.height,l.value.resize()}},r=w=>t("scale",w),u=w=>t("update:show",w),c=()=>{wt(e.beforeClose,{args:[o.active],done:()=>u(!1)})},d=w=>{w!==o.active&&(o.active=w,t("change",w))},f=()=>{if(e.showIndex)return a("div",{class:Ht("index")},[n.index?n.index({index:o.active}):`${o.active+1} / ${e.images.length}`])},v=()=>{if(n.cover)return a("div",{class:Ht("cover")},[n.cover()])},h=()=>{o.disableZoom=!0},y=()=>{o.disableZoom=!1},C=()=>a(Ya,{ref:l,lazyRender:!0,loop:e.loop,class:Ht("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:d,onDragEnd:y,onDragStart:h},{default:()=>[e.images.map((w,T)=>a(Vf,{ref:b=>{T===o.active&&(i.value=b)},src:w,show:e.show,active:o.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:o.rootWidth,rootHeight:o.rootHeight,disableZoom:o.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:r,onClose:c,onLongPress:()=>t("longPress",{index:T})},{image:n.image}))]}),g=()=>{if(e.closeable)return a(ae,{role:"button",name:e.closeIcon,class:[Ht("close-icon",e.closeIconPosition),Pe],onClick:c},null)},S=()=>t("closed"),m=(w,T)=>{var b;return(b=l.value)==null?void 0:b.swipeTo(w,T)};return ie({resetScale:()=>{var w;(w=i.value)==null||w.resetScale()},swipeTo:m}),$e(s),W([Ue,Fe],s),W(()=>e.startPosition,w=>d(+w)),W(()=>e.show,w=>{const{images:T,startPosition:b}=e;w?(d(+b),oe(()=>{s(),m(+b,{immediate:!0})})):t("close",{index:o.active,url:T[o.active]})}),()=>a(Ge,le({class:[Ht(),e.className],overlayClass:[Ht("overlay"),e.overlayClass],onClosed:S,"onUpdate:show":u},se(e,zf)),{default:()=>[g(),C(),f(),v()]})}});let Vn;const Ff={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function Nf(){({instance:Vn}=Qn({setup(){const{state:e,toggle:t}=Jn(),n=()=>{e.images=[]};return()=>a(fi,le(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const Hf=(e,t=0)=>{if(Re)return Vn||Nf(),e=Array.isArray(e)?{images:e,startPosition:t}:e,Vn.open(J({},Ff,e)),Vn},Yf=N(fi);function jf(){return Array(26).fill("").map((n,l)=>String.fromCharCode(65+l))}const[vi,fa]=z("index-bar"),Wf={sticky:V,zIndex:L,teleport:[String,Object],highlightColor:String,stickyOffsetTop:xe(0),indexList:{type:Array,default:jf}},mi=Symbol(vi);var Uf=M({name:vi,props:Wf,emits:["select","change"],setup(e,{emit:t,slots:n}){const l=E(),i=E(),o=E(""),s=Ne(),r=Jt(l),{children:u,linkChildren:c}=Ae(mi);let d;c({props:e});const f=A(()=>{if(re(e.zIndex))return{zIndex:+e.zIndex+1}}),v=A(()=>{if(e.highlightColor)return{color:e.highlightColor}}),h=(x,P)=>{for(let D=u.length-1;D>=0;D--){const k=D>0?P[D-1].height:0,B=e.sticky?k+e.stickyOffsetTop:0;if(x+B>=P[D].top)return D}return-1},y=x=>u.find(P=>String(P.index)===x),C=()=>{if(Bt(l))return;const{sticky:x,indexList:P}=e,D=st(r.value),k=ue(r),B=u.map(U=>U.getRect(r.value,k));let R=-1;if(d){const U=y(d);if(U){const X=U.getRect(r.value,k);e.sticky&&e.stickyOffsetTop?R=h(X.top-e.stickyOffsetTop,B):R=h(X.top,B)}}else R=h(D,B);o.value=P[R],x&&u.forEach((U,X)=>{const{state:F,$el:p}=U;if(X===R||X===R-1){const ee=p.getBoundingClientRect();F.left=ee.left,F.width=ee.width}else F.left=null,F.width=null;if(X===R)F.active=!0,F.top=Math.max(e.stickyOffsetTop,B[X].top-D)+k.top;else if(X===R-1&&d===""){const ee=B[R].top-D;F.active=ee>0,F.top=ee+k.top-B[X].height}else F.active=!1}),d=""},g=()=>{oe(C)};ye("scroll",C,{target:r,passive:!0}),$e(g),W(()=>e.indexList,g),W(o,x=>{x&&t("change",x)});const S=()=>e.indexList.map(x=>{const P=x===o.value;return a("span",{class:fa("index",{active:P}),style:P?v.value:void 0,"data-index":x},[x])}),m=x=>{d=String(x);const P=y(d);if(P){const D=st(r.value),k=ue(r),{offsetHeight:B}=document.documentElement;if(P.$el.scrollIntoView(),D===B-k.height){C();return}e.sticky&&e.stickyOffsetTop&&($t()===B-k.height?fn($t()):fn($t()-e.stickyOffsetTop)),t("select",P.index)}},w=x=>{const{index:P}=x.dataset;P&&m(P)},T=x=>{w(x.target)};let b;const $=x=>{if(s.move(x),s.isVertical()){ve(x);const{clientX:P,clientY:D}=x.touches[0],k=document.elementFromPoint(P,D);if(k){const{index:B}=k.dataset;B&&b!==B&&(b=B,w(k))}}},O=()=>a("div",{ref:i,class:fa("sidebar"),style:f.value,onClick:T,onTouchstartPassive:s.start},[S()]);return ie({scrollTo:m}),ye("touchmove",$,{target:i}),()=>{var x;return a("div",{ref:l,class:fa()},[e.teleport?a(At,{to:e.teleport},{default:()=>[O()]}):O(),(x=n.default)==null?void 0:x.call(n)])}}});const[Kf,Gf]=z("index-anchor"),Xf={index:L};var qf=M({name:Kf,props:Xf,setup(e,{slots:t}){const n=Te({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),l=E(),{parent:i}=De(mi);if(!i)return;const o=()=>n.active&&i.props.sticky,s=A(()=>{const{zIndex:u,highlightColor:c}=i.props;if(o())return J(dt(u),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:c})});return ie({state:n,getRect:(u,c)=>{const d=ue(l);return n.rect.height=d.height,u===window||u===document.body?n.rect.top=d.top+$t():n.rect.top=d.top+st(u)-c.top,n.rect}}),()=>{const u=o();return a("div",{ref:l,style:{height:u?`${n.rect.height}px`:void 0}},[a("div",{style:s.value,class:[Gf({sticky:u}),{[za]:u}]},[t.default?t.default():e.index])])}}});const Zf=N(qf),Jf=N(Uf),[Qf,Yt,pf]=z("list"),ev={error:Boolean,offset:K(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:H("down"),loadingText:String,finishedText:String,immediateCheck:V};var tv=M({name:Qf,props:ev,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const l=E(e.loading),i=E(),o=E(),s=Dr(),r=Jt(i),u=A(()=>e.scroller||r.value),c=()=>{oe(()=>{if(l.value||e.finished||e.disabled||e.error||(s==null?void 0:s.value)===!1)return;const{direction:y}=e,C=+e.offset,g=ue(u);if(!g.height||Bt(i))return;let S=!1;const m=ue(o);y==="up"?S=g.top-m.top<=C:S=m.bottom-g.bottom<=C,S&&(l.value=!0,t("update:loading",!0),t("load"))})},d=()=>{if(e.finished){const y=n.finished?n.finished():e.finishedText;if(y)return a("div",{class:Yt("finished-text")},[y])}},f=()=>{t("update:error",!1),c()},v=()=>{if(e.error){const y=n.error?n.error():e.errorText;if(y)return a("div",{role:"button",class:Yt("error-text"),tabindex:0,onClick:f},[y])}},h=()=>{if(l.value&&!e.finished&&!e.disabled)return a("div",{class:Yt("loading")},[n.loading?n.loading():a(Ke,{class:Yt("loading-icon")},{default:()=>[e.loadingText||pf("loading")]})])};return W(()=>[e.loading,e.finished,e.error],c),s&&W(s,y=>{y&&c()}),Fi(()=>{l.value=e.loading}),$e(()=>{e.immediateCheck&&c()}),ie({check:c}),ye("scroll",c,{target:u,passive:!0}),()=>{var y;const C=(y=n.default)==null?void 0:y.call(n),g=a("div",{ref:o,class:Yt("placeholder")},null);return a("div",{ref:i,role:"feed",class:Yt(),"aria-busy":l.value},[e.direction==="down"?C:g,h(),d(),v(),e.direction==="up"?C:g])}}});const nv=N(tv),[av,lt]=z("nav-bar"),lv={title:String,fixed:Boolean,zIndex:L,border:V,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:V};var ov=M({name:av,props:lv,emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:n}){const l=E(),i=Un(l,lt),o=d=>{e.leftDisabled||t("clickLeft",d)},s=d=>{e.rightDisabled||t("clickRight",d)},r=()=>n.left?n.left():[e.leftArrow&&a(ae,{class:lt("arrow"),name:"arrow-left"},null),e.leftText&&a("span",{class:lt("text")},[e.leftText])],u=()=>n.right?n.right():a("span",{class:lt("text")},[e.rightText]),c=()=>{const{title:d,fixed:f,border:v,zIndex:h}=e,y=dt(h),C=e.leftArrow||e.leftText||n.left,g=e.rightText||n.right;return a("div",{ref:l,style:y,class:[lt({fixed:f}),{[za]:v,"van-safe-area-top":e.safeAreaInsetTop}]},[a("div",{class:lt("content")},[C&&a("div",{class:[lt("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?Pe:""],onClick:o},[r()]),a("div",{class:[lt("title"),"van-ellipsis"]},[n.title?n.title():d]),g&&a("div",{class:[lt("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?Pe:""],onClick:s},[u()])])])};return()=>e.fixed&&e.placeholder?i(c):c()}});const iv=N(ov),[cv,nn]=z("notice-bar"),rv={text:String,mode:String,color:String,delay:K(1),speed:K(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var sv=M({name:cv,props:rv,emits:["close","replay"],setup(e,{emit:t,slots:n}){let l=0,i=0,o;const s=E(),r=E(),u=Te({show:!0,offset:0,duration:0}),c=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return a(ae,{class:nn("left-icon"),name:e.leftIcon},null)},d=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},f=g=>{e.mode==="closeable"&&(u.show=!1,t("close",g))},v=()=>{if(n["right-icon"])return n["right-icon"]();const g=d();if(g)return a(ae,{name:g,class:nn("right-icon"),onClick:f},null)},h=()=>{u.offset=l,u.duration=0,Le(()=>{bt(()=>{u.offset=-i,u.duration=(i+l)/+e.speed,t("replay")})})},y=()=>{const g=e.scrollable===!1&&!e.wrapable,S={transform:u.offset?`translateX(${u.offset}px)`:"",transitionDuration:`${u.duration}s`};return a("div",{ref:s,role:"marquee",class:nn("wrap")},[a("div",{ref:r,style:S,class:[nn("content"),{"van-ellipsis":g}],onTransitionend:h},[n.default?n.default():e.text])])},C=()=>{const{delay:g,speed:S,scrollable:m}=e,w=re(g)?+g*1e3:0;l=0,i=0,u.offset=0,u.duration=0,clearTimeout(o),o=setTimeout(()=>{if(!s.value||!r.value||m===!1)return;const T=ue(s).width,b=ue(r).width;(m||b>T)&&bt(()=>{l=T,i=b,u.offset=-i,u.duration=i/+S})},w)};return Wn(C),mn(C),ye("pageshow",C),ie({reset:C}),W(()=>[e.text,e.scrollable],C),()=>{const{color:g,wrapable:S,background:m}=e;return ke(a("div",{role:"alert",class:nn({wrapable:S}),style:{color:g,background:m}},[c(),y(),v()]),[[Be,u.show]])}}});const uv=N(sv),[dv,fv]=z("notify"),vv=["lockScroll","position","show","teleport","zIndex"],mv=J({},Qt,{type:H("danger"),color:String,message:L,position:H("top"),className:ge,background:String,lockScroll:Boolean});var hi=M({name:dv,props:mv,emits:["update:show"],setup(e,{emit:t,slots:n}){const l=i=>t("update:show",i);return()=>a(Ge,le({class:[fv([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":l},se(e,vv)),{default:()=>[n.default?n.default():e.message]})}});let Hl,Gt;const hv=e=>pe(e)?e:{message:e};function gv(){({instance:Gt}=Qn({setup(){const{state:e,toggle:t}=Jn();return()=>a(hi,le(e,{"onUpdate:show":t}),null)}}))}const bv=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let yv=bv();const xv=()=>{Gt&&Gt.toggle(!1)};function wg(e){if(Re)return Gt||gv(),e=J({},yv,hv(e)),Gt.open(e),clearTimeout(Hl),e.duration>0&&(Hl=setTimeout(xv,e.duration)),Gt}const wv=N(hi),[Sv,un]=z("key"),Cv=a("svg",{class:un("collapse-icon"),viewBox:"0 0 30 24"},[a("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),kv=a("svg",{class:un("delete-icon"),viewBox:"0 0 32 22"},[a("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var va=M({name:Sv,props:{type:String,text:L,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const l=E(!1),i=Ne(),o=c=>{i.start(c),l.value=!0},s=c=>{i.move(c),i.direction.value&&(l.value=!1)},r=c=>{l.value&&(n.default||ve(c),l.value=!1,t("press",e.text,e.type))},u=()=>{if(e.loading)return a(Ke,{class:un("loading-icon")},null);const c=n.default?n.default():e.text;switch(e.type){case"delete":return c||kv;case"extra":return c||Cv;default:return c}};return()=>a("div",{class:un("wrapper",{wider:e.wider}),onTouchstartPassive:o,onTouchmovePassive:s,onTouchend:r,onTouchcancel:r},[a("div",{role:"button",tabindex:0,class:un([e.color,{large:e.large,active:l.value,delete:e.type==="delete"}])},[u()])])}});const[Tv,ht]=z("number-keyboard"),$v={show:Boolean,title:String,theme:H("default"),zIndex:L,teleport:[String,Object],maxlength:K(1/0),modelValue:H(""),transition:V,blurOnClose:V,showDeleteKey:V,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:V,safeAreaInsetBottom:V,extraKey:{type:[String,Array],default:""}};function Bv(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),l=e[t];e[t]=e[n],e[n]=l}return e}var Dv=M({name:Tv,inheritAttrs:!1,props:$v,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n,attrs:l}){const i=E(),o=()=>{const g=Array(9).fill("").map((S,m)=>({text:m+1}));return e.randomKeyOrder&&Bv(g),g},s=()=>[...o(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],r=()=>{const g=o(),{extraKey:S}=e,m=Array.isArray(S)?S:[S];return m.length===0?g.push({text:0,wider:!0}):m.length===1?g.push({text:0,wider:!0},{text:m[0],type:"extra"}):m.length===2&&g.push({text:m[0],type:"extra"},{text:0},{text:m[1],type:"extra"}),g},u=A(()=>e.theme==="custom"?r():s()),c=()=>{e.show&&t("blur")},d=()=>{t("close"),e.blurOnClose&&c()},f=()=>t(e.show?"show":"hide"),v=(g,S)=>{if(g===""){S==="extra"&&c();return}const m=e.modelValue;S==="delete"?(t("delete"),t("update:modelValue",m.slice(0,m.length-1))):S==="close"?d():m.length<+e.maxlength&&(t("input",g),t("update:modelValue",m+g))},h=()=>{const{title:g,theme:S,closeButtonText:m}=e,w=n["title-left"],T=m&&S==="default";if(g||T||w)return a("div",{class:ht("header")},[w&&a("span",{class:ht("title-left")},[w()]),g&&a("h2",{class:ht("title")},[g]),T&&a("button",{type:"button",class:[ht("close"),Pe],onClick:d},[m])])},y=()=>u.value.map(g=>{const S={};return g.type==="delete"&&(S.default=n.delete),g.type==="extra"&&(S.default=n["extra-key"]),a(va,{key:g.text,text:g.text,type:g.type,wider:g.wider,color:g.color,onPress:v},S)}),C=()=>{if(e.theme==="custom")return a("div",{class:ht("sidebar")},[e.showDeleteKey&&a(va,{large:!0,text:e.deleteButtonText,type:"delete",onPress:v},{default:n.delete}),a(va,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:v},null)])};return W(()=>e.show,g=>{e.transition||t(g?"show":"hide")}),e.hideOnClickOutside&&Yn(i,c,{eventName:"touchstart"}),()=>{const g=h(),S=a(Hn,{name:e.transition?"van-slide-up":""},{default:()=>[ke(a("div",le({ref:i,style:dt(e.zIndex),class:ht({unfit:!e.safeAreaInsetBottom,"with-title":!!g}),onAnimationend:f,onTouchstartPassive:Va},l),[g,a("div",{class:ht("body")},[a("div",{class:ht("keys")},[y()]),C()])]),[[Be,e.show]])]});return e.teleport?a(At,{to:e.teleport},{default:()=>[S]}):S}}});const Pv=N(Dv),[Iv,jt,Yl]=z("pagination"),ma=(e,t,n)=>({number:e,text:t,active:n}),Av={mode:H("multi"),prevText:String,nextText:String,pageCount:K(0),modelValue:xe(0),totalItems:K(0),showPageSize:K(5),itemsPerPage:K(10),forceEllipses:Boolean,showPrevButton:V,showNextButton:V};var Ev=M({name:Iv,props:Av,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const l=A(()=>{const{pageCount:d,totalItems:f,itemsPerPage:v}=e,h=+d||Math.ceil(+f/+v);return Math.max(1,h)}),i=A(()=>{const d=[],f=l.value,v=+e.showPageSize,{modelValue:h,forceEllipses:y}=e;let C=1,g=f;const S=v<f;S&&(C=Math.max(h-Math.floor(v/2),1),g=C+v-1,g>f&&(g=f,C=g-v+1));for(let m=C;m<=g;m++){const w=ma(m,m,m===h);d.push(w)}if(S&&v>0&&y){if(C>1){const m=ma(C-1,"...");d.unshift(m)}if(g<f){const m=ma(g+1,"...");d.push(m)}}return d}),o=(d,f)=>{d=Se(d,1,l.value),e.modelValue!==d&&(t("update:modelValue",d),f&&t("change",d))};Zt(()=>o(e.modelValue));const s=()=>a("li",{class:jt("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${l.value}`]),r=()=>{const{mode:d,modelValue:f,showPrevButton:v}=e;if(!v)return;const h=n["prev-text"],y=f===1;return a("li",{class:[jt("item",{disabled:y,border:d==="simple",prev:!0}),rn]},[a("button",{type:"button",disabled:y,onClick:()=>o(f-1,!0)},[h?h():e.prevText||Yl("prev")])])},u=()=>{const{mode:d,modelValue:f,showNextButton:v}=e;if(!v)return;const h=n["next-text"],y=f===l.value;return a("li",{class:[jt("item",{disabled:y,border:d==="simple",next:!0}),rn]},[a("button",{type:"button",disabled:y,onClick:()=>o(f+1,!0)},[h?h():e.nextText||Yl("next")])])},c=()=>i.value.map(d=>a("li",{class:[jt("item",{active:d.active,page:!0}),rn]},[a("button",{type:"button","aria-current":d.active||void 0,onClick:()=>o(d.number,!0)},[n.page?n.page(d):d.text])]));return()=>a("nav",{role:"navigation",class:jt()},[a("ul",{class:jt("items")},[r(),e.mode==="simple"?s():c(),u()])])}});const Ov=N(Ev),[_v,an]=z("password-input"),Rv={info:String,mask:V,value:H(""),gutter:L,length:K(6),focused:Boolean,errorInfo:String};var Vv=M({name:_v,props:Rv,emits:["focus"],setup(e,{emit:t}){const n=i=>{i.stopPropagation(),t("focus",i)},l=()=>{const i=[],{mask:o,value:s,gutter:r,focused:u}=e,c=+e.length;for(let d=0;d<c;d++){const f=s[d],v=d!==0&&!r,h=u&&d===s.length;let y;d!==0&&r&&(y={marginLeft:ne(r)}),i.push(a("li",{class:[{[vo]:v},an("item",{focus:h})],style:y},[o?a("i",{style:{visibility:f?"visible":"hidden"}},null):f,h&&a("div",{class:an("cursor")},null)]))}return i};return()=>{const i=e.errorInfo||e.info;return a("div",{class:an()},[a("ul",{class:[an("security"),{[rn]:!e.gutter}],onTouchstartPassive:n},[l()]),i&&a("div",{class:an(e.errorInfo?"error-info":"info")},[i])])}}});const Mv=N(Vv),zv=N(zr),[Lv,kt]=z("popover"),Fv=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],Nv={show:Boolean,theme:H("light"),overlay:Boolean,actions:me(),actionsDirection:H("vertical"),trigger:H("click"),duration:L,showArrow:V,placement:H("bottom"),iconPrefix:String,overlayClass:ge,overlayStyle:Object,closeOnClickAction:V,closeOnClickOverlay:V,closeOnClickOutside:V,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var Hv=M({name:Lv,props:Nv,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:l}){let i;const o=E(),s=E(),r=E(),u=Ha(()=>e.show,m=>t("update:show",m)),c=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},J({},Ki,{options:{offset:e.offset}})]}),d=()=>s.value&&r.value?Gi(s.value,r.value.popupRef.value,c()):null,f=()=>{oe(()=>{u.value&&(i?i.setOptions(c()):(i=d(),Re&&(window.addEventListener("animationend",f),window.addEventListener("transitionend",f))))})},v=m=>{u.value=m},h=()=>{e.trigger==="click"&&(u.value=!u.value)},y=(m,w)=>{m.disabled||(t("select",m,w),e.closeOnClickAction&&(u.value=!1))},C=()=>{u.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(u.value=!1)},g=(m,w)=>n.action?n.action({action:m,index:w}):[m.icon&&a(ae,{name:m.icon,classPrefix:e.iconPrefix,class:kt("action-icon")},null),a("div",{class:[kt("action-text"),{[za]:e.actionsDirection==="vertical"}]},[m.text])],S=(m,w)=>{const{icon:T,color:b,disabled:$,className:O}=m;return a("div",{role:"menuitem",class:[kt("action",{disabled:$,"with-icon":T}),{[dc]:e.actionsDirection==="horizontal"},O],style:{color:b},tabindex:$?void 0:0,"aria-disabled":$||void 0,onClick:()=>y(m,w)},[g(m,w)])};return $e(()=>{f(),Zt(()=>{var m;o.value=(m=r.value)==null?void 0:m.popupRef.value})}),It(()=>{i&&(Re&&(window.removeEventListener("animationend",f),window.removeEventListener("transitionend",f)),i.destroy(),i=null)}),W(()=>[u.value,e.offset,e.placement],f),Yn([s,o],C,{eventName:"touchstart"}),()=>{var m;return a(rt,null,[a("span",{ref:s,class:kt("wrapper"),onClick:h},[(m=n.reference)==null?void 0:m.call(n)]),a(Ge,le({ref:r,show:u.value,class:kt([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":v},l,Fn(),se(e,Fv)),{default:()=>[e.showArrow&&a("div",{class:kt("arrow")},null),a("div",{role:"menu",class:kt("content",e.actionsDirection)},[n.default?n.default():e.actions.map(S)])]})])}}});const Yv=N(Hv),[jv,ha]=z("progress"),Wv={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:V,pivotColor:String,trackColor:String,strokeWidth:L,percentage:{type:L,default:0,validator:e=>+e>=0&&+e<=100}};var Uv=M({name:jv,props:Wv,setup(e){const t=A(()=>e.inactive?void 0:e.color),n=()=>{const{textColor:l,pivotText:i,pivotColor:o,percentage:s}=e,r=i??`${s}%`;if(e.showPivot&&r){const u={color:l,left:`${+s}%`,transform:`translate(-${+s}%,-50%)`,background:o||t.value};return a("span",{style:u,class:ha("pivot",{inactive:e.inactive})},[r])}};return()=>{const{trackColor:l,percentage:i,strokeWidth:o}=e,s={background:l,height:ne(o)},r={width:`${i}%`,background:t.value};return a("div",{class:ha(),style:s},[a("span",{class:ha("portion",{inactive:e.inactive}),style:r},null),n()])}}});const Kv=N(Uv),[Gv,ln,Xv]=z("pull-refresh"),gi=50,qv=["pulling","loosing","success"],Zv={disabled:Boolean,modelValue:Boolean,headHeight:K(gi),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:L,successDuration:K(500),animationDuration:K(300)};var Jv=M({name:Gv,props:Zv,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let l;const i=E(),o=E(),s=Jt(i),r=Te({status:"normal",distance:0,duration:0}),u=Ne(),c=()=>{if(e.headHeight!==gi)return{height:`${e.headHeight}px`}},d=()=>r.status!=="loading"&&r.status!=="success"&&!e.disabled,f=T=>{const b=+(e.pullDistance||e.headHeight);return T>b&&(T<b*2?T=b+(T-b)/2:T=b*1.5+(T-b*2)/4),Math.round(T)},v=(T,b)=>{const $=+(e.pullDistance||e.headHeight);r.distance=T,b?r.status="loading":T===0?r.status="normal":T<$?r.status="pulling":r.status="loosing",t("change",{status:r.status,distance:T})},h=()=>{const{status:T}=r;return T==="normal"?"":e[`${T}Text`]||Xv(T)},y=()=>{const{status:T,distance:b}=r;if(n[T])return n[T]({distance:b});const $=[];return qv.includes(T)&&$.push(a("div",{class:ln("text")},[h()])),T==="loading"&&$.push(a(Ke,{class:ln("loading")},{default:h})),$},C=()=>{r.status="success",setTimeout(()=>{v(0)},+e.successDuration)},g=T=>{l=st(s.value)===0,l&&(r.duration=0,u.start(T))},S=T=>{d()&&g(T)},m=T=>{if(d()){l||g(T);const{deltaY:b}=u;u.move(T),l&&b.value>=0&&u.isVertical()&&(ve(T),v(f(b.value)))}},w=()=>{l&&u.deltaY.value&&d()&&(r.duration=+e.animationDuration,r.status==="loosing"?(v(+e.headHeight,!0),t("update:modelValue",!0),oe(()=>t("refresh"))):v(0))};return W(()=>e.modelValue,T=>{r.duration=+e.animationDuration,T?v(+e.headHeight,!0):n.success||e.successText?C():v(0,!1)}),ye("touchmove",m,{target:o}),()=>{var T;const b={transitionDuration:`${r.duration}ms`,transform:r.distance?`translate3d(0,${r.distance}px, 0)`:""};return a("div",{ref:i,class:ln()},[a("div",{ref:o,class:ln("track"),style:b,onTouchstartPassive:S,onTouchend:w,onTouchcancel:w},[a("div",{class:ln("head"),style:c()},[y()]),(T=n.default)==null?void 0:T.call(n)])])}}});const Qv=N(Jv),[pv,En]=z("rate");function em(e,t,n,l){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!l?{status:"half",value:.5}:e+1>=t&&n&&l?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const tm={size:L,icon:H("star"),color:String,count:K(5),gutter:L,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:H("star-o"),allowHalf:Boolean,voidColor:String,touchable:V,iconPrefix:String,modelValue:xe(0),disabledColor:String};var nm=M({name:pv,props:tm,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=Ne(),[l,i]=hn(),o=E(),s=A(()=>e.readonly||e.disabled),r=A(()=>s.value||!e.touchable),u=A(()=>Array(+e.count).fill("").map((w,T)=>em(e.modelValue,T+1,e.allowHalf,e.readonly)));let c,d,f=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;const h=()=>{d=ue(o);const w=l.value.map(ue);c=[],w.forEach((T,b)=>{f=Math.min(T.top,f),v=Math.max(T.top,v),e.allowHalf?c.push({score:b+.5,left:T.left,top:T.top,height:T.height},{score:b+1,left:T.left+T.width/2,top:T.top,height:T.height}):c.push({score:b+1,left:T.left,top:T.top,height:T.height})})},y=(w,T)=>{for(let b=c.length-1;b>0;b--)if(T>=d.top&&T<=d.bottom){if(w>c[b].left&&T>=c[b].top&&T<=c[b].top+c[b].height)return c[b].score}else{const $=T<d.top?f:v;if(w>c[b].left&&c[b].top===$)return c[b].score}return e.allowHalf?.5:1},C=w=>{s.value||w===e.modelValue||(t("update:modelValue",w),t("change",w))},g=w=>{r.value||(n.start(w),h())},S=w=>{if(!r.value&&(n.move(w),n.isHorizontal()&&!n.isTap.value)){const{clientX:T,clientY:b}=w.touches[0];ve(w),C(y(T,b))}},m=(w,T)=>{const{icon:b,size:$,color:O,count:x,gutter:P,voidIcon:D,disabled:k,voidColor:B,allowHalf:R,iconPrefix:U,disabledColor:X}=e,F=T+1,p=w.status==="full",ee=w.status==="void",de=R&&w.value>0&&w.value<1;let fe;P&&F!==+x&&(fe={paddingRight:ne(P)});const _=Y=>{h();let q=R?y(Y.clientX,Y.clientY):F;e.clearable&&n.isTap.value&&q===e.modelValue&&(q=0),C(q)};return a("div",{key:T,ref:i(T),role:"radio",style:fe,class:En("item"),tabindex:k?void 0:0,"aria-setsize":x,"aria-posinset":F,"aria-checked":!ee,onClick:_},[a(ae,{size:$,name:p?b:D,class:En("icon",{disabled:k,full:p}),color:k?X:p?O:B,classPrefix:U},null),de&&a(ae,{size:$,style:{width:w.value+"em"},name:ee?D:b,class:En("icon",["half",{disabled:k,full:!ee}]),color:k?X:ee?B:O,classPrefix:U},null)])};return xt(()=>e.modelValue),ye("touchmove",S,{target:o}),()=>a("div",{ref:o,role:"radiogroup",class:En({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:g},[u.value.map(m)])}});const am=N(nm),lm={figureArr:me(),delay:Number,duration:xe(2),isStart:Boolean,direction:H("down"),height:xe(40)},[om,ga]=z("rolling-text-item");var im=M({name:om,props:lm,setup(e){const t=A(()=>e.direction==="down"?e.figureArr.slice().reverse():e.figureArr),n=A(()=>`-${e.height*(e.figureArr.length-1)}px`),l=A(()=>({lineHeight:ne(e.height)})),i=A(()=>({height:ne(e.height),"--van-translate":n.value,"--van-duration":e.duration+"s","--van-delay":e.delay+"s"}));return()=>a("div",{class:ga([e.direction]),style:i.value},[a("div",{class:ga("box",{animate:e.isStart})},[Array.isArray(t.value)&&t.value.map(o=>a("div",{class:ga("item"),style:l.value},[o]))])])}});const[cm,rm]=z("rolling-text"),sm={startNum:xe(0),targetNum:Number,textList:me(),duration:xe(2),autoStart:V,direction:H("down"),stopOrder:H("ltr"),height:xe(40)},um=2;var dm=M({name:cm,props:sm,setup(e){const t=A(()=>Array.isArray(e.textList)&&e.textList.length),n=A(()=>t.value?e.textList[0].length:`${Math.max(e.startNum,e.targetNum)}`.length),l=f=>{const v=[];for(let h=0;h<e.textList.length;h++)v.push(e.textList[h][f]);return v},i=A(()=>t.value?new Array(n.value).fill(""):We(e.targetNum,n.value).split("")),o=A(()=>We(e.startNum,n.value).split("")),s=f=>{const v=+o.value[f],h=+i.value[f],y=[];for(let C=v;C<=9;C++)y.push(C);for(let C=0;C<=um;C++)for(let g=0;g<=9;g++)y.push(g);for(let C=0;C<=h;C++)y.push(C);return y},r=(f,v)=>e.stopOrder==="ltr"?.2*f:.2*(v-1-f),u=E(e.autoStart),c=()=>{u.value=!0},d=()=>{u.value=!1,e.autoStart&&Le(()=>c())};return W(()=>e.autoStart,f=>{f&&c()}),ie({start:c,reset:d}),()=>a("div",{class:rm()},[i.value.map((f,v)=>a(im,{figureArr:t.value?l(v):s(v),duration:e.duration,direction:e.direction,isStart:u.value,height:e.height,delay:r(v,n.value)},null))])}});const fm=N(dm),vm=N(Uu),[mm,on,hm]=z("search"),gm=J({},Ua,{label:String,shape:H("square"),leftIcon:H("search"),clearable:V,actionText:String,background:String,showAction:Boolean});var bm=M({name:mm,props:gm,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:l}){const i=pt(),o=E(),s=()=>{n.action||(t("update:modelValue",""),t("cancel"))},r=b=>{b.keyCode===13&&(ve(b),t("search",e.modelValue))},u=()=>e.id||`${i}-input`,c=()=>{if(n.label||e.label)return a("label",{class:on("label"),for:u(),"data-allow-mismatch":"attribute"},[n.label?n.label():e.label])},d=()=>{if(e.showAction){const b=e.actionText||hm("cancel");return a("div",{class:on("action"),role:"button",tabindex:0,onClick:s},[n.action?n.action():b])}},f=()=>{var b;return(b=o.value)==null?void 0:b.blur()},v=()=>{var b;return(b=o.value)==null?void 0:b.focus()},h=b=>t("blur",b),y=b=>t("focus",b),C=b=>t("clear",b),g=b=>t("clickInput",b),S=b=>t("clickLeftIcon",b),m=b=>t("clickRightIcon",b),w=Object.keys(Ua),T=()=>{const b=J({},l,se(e,w),{id:u()}),$=O=>t("update:modelValue",O);return a(it,le({ref:o,type:"search",class:on("field",{"with-message":b.errorMessage}),border:!1,onBlur:h,onFocus:y,onClear:C,onKeypress:r,onClickInput:g,onClickLeftIcon:S,onClickRightIcon:m,"onUpdate:modelValue":$},b),se(n,["left-icon","right-icon"]))};return ie({focus:v,blur:f}),()=>{var b;return a("div",{class:on({"show-action":e.showAction}),style:{background:e.background}},[(b=n.left)==null?void 0:b.call(n),a("div",{class:on("content",e.shape)},[c(),T()]),d()])}}});const ym=N(bm),xm=e=>e==null?void 0:e.includes("/"),wm=[...Fa,"round","closeOnPopstate","safeAreaInsetBottom"],Sm={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Cm,Ye,km]=z("share-sheet"),Tm=J({},Qt,{title:String,round:V,options:me(),cancelText:String,description:String,closeOnPopstate:V,safeAreaInsetBottom:V});var $m=M({name:Cm,props:Tm,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const l=v=>t("update:show",v),i=()=>{l(!1),t("cancel")},o=(v,h)=>t("select",v,h),s=()=>{const v=n.title?n.title():e.title,h=n.description?n.description():e.description;if(v||h)return a("div",{class:Ye("header")},[v&&a("h2",{class:Ye("title")},[v]),h&&a("span",{class:Ye("description")},[h])])},r=v=>xm(v)?a("img",{src:v,class:Ye("image-icon")},null):a("div",{class:Ye("icon",[v])},[a(ae,{name:Sm[v]||v},null)]),u=(v,h)=>{const{name:y,icon:C,className:g,description:S}=v;return a("div",{role:"button",tabindex:0,class:[Ye("option"),g,Pe],onClick:()=>o(v,h)},[r(C),y&&a("span",{class:Ye("name")},[y]),S&&a("span",{class:Ye("option-description")},[S])])},c=(v,h)=>a("div",{class:Ye("options",{border:h})},[v.map(u)]),d=()=>{const{options:v}=e;return Array.isArray(v[0])?v.map((h,y)=>c(h,y!==0)):c(v)},f=()=>{var v;const h=(v=e.cancelText)!=null?v:km("cancel");if(n.cancel||h)return a("button",{type:"button",class:Ye("cancel"),onClick:i},[n.cancel?n.cancel():h])};return()=>a(Ge,le({class:Ye(),position:"bottom","onUpdate:show":l},se(e,wm)),{default:()=>[s(),d(),f()]})}});const Bm=N($m),[bi,Dm]=z("sidebar"),yi=Symbol(bi),Pm={modelValue:K(0)};var Im=M({name:bi,props:Pm,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:l}=Ae(yi),i=()=>+e.modelValue;return l({getActive:i,setActive:s=>{s!==i()&&(t("update:modelValue",s),t("change",s))}}),()=>{var s;return a("div",{role:"tablist",class:Dm()},[(s=n.default)==null?void 0:s.call(n)])}}});const xi=N(Im),[Am,jl]=z("sidebar-item"),Em=J({},St,{dot:Boolean,title:String,badge:L,disabled:Boolean,badgeProps:Object});var Om=M({name:Am,props:Em,emits:["click"],setup(e,{emit:t,slots:n}){const l=Et(),{parent:i,index:o}=De(yi);if(!i)return;const s=()=>{e.disabled||(t("click",o.value),i.setActive(o.value),l())};return()=>{const{dot:r,badge:u,title:c,disabled:d}=e,f=o.value===i.getActive();return a("div",{role:"tab",class:jl({select:f,disabled:d}),tabindex:d?void 0:0,"aria-selected":f,onClick:s},[a(Ot,le({dot:r,class:jl("text"),content:u},e.badgeProps),{default:()=>[n.title?n.title():c]})])}}});const wi=N(Om),[_m,ba,Wl]=z("signature"),Rm={tips:String,type:H("png"),penColor:H("#000"),lineWidth:xe(3),clearButtonText:String,backgroundColor:H(""),confirmButtonText:String},Vm=()=>{var e;const t=document.createElement("canvas");return!!((e=t.getContext)!=null&&e.call(t,"2d"))};var Mm=M({name:_m,props:Rm,emits:["submit","clear","start","end","signing"],setup(e,{emit:t}){const n=E(),l=E(),i=A(()=>n.value?n.value.getContext("2d"):null),o=Re?Vm():!0;let s=0,r=0,u;const c=()=>{if(!i.value)return!1;i.value.beginPath(),i.value.lineWidth=e.lineWidth,i.value.strokeStyle=e.penColor,u=ue(n),t("start")},d=m=>{if(!i.value)return!1;ve(m);const w=m.touches[0],T=w.clientX-((u==null?void 0:u.left)||0),b=w.clientY-((u==null?void 0:u.top)||0);i.value.lineCap="round",i.value.lineJoin="round",i.value.lineTo(T,b),i.value.stroke(),t("signing",m)},f=m=>{ve(m),t("end")},v=m=>{const w=document.createElement("canvas");if(w.width=m.width,w.height=m.height,e.backgroundColor){const T=w.getContext("2d");h(T)}return m.toDataURL()===w.toDataURL()},h=m=>{m&&e.backgroundColor&&(m.fillStyle=e.backgroundColor,m.fillRect(0,0,s,r))},y=()=>{var m,w;const T=n.value;if(!T)return;const $=v(T)?"":((w=(m={jpg:()=>T.toDataURL("image/jpeg",.8),jpeg:()=>T.toDataURL("image/jpeg",.8)})[e.type])==null?void 0:w.call(m))||T.toDataURL(`image/${e.type}`);t("submit",{image:$,canvas:T})},C=()=>{i.value&&(i.value.clearRect(0,0,s,r),i.value.closePath(),h(i.value)),t("clear")},g=()=>{var m,w,T;if(o&&n.value){const b=n.value,$=Re?window.devicePixelRatio:1;s=b.width=(((m=l.value)==null?void 0:m.offsetWidth)||0)*$,r=b.height=(((w=l.value)==null?void 0:w.offsetHeight)||0)*$,(T=i.value)==null||T.scale($,$),h(i.value)}},S=()=>{if(i.value){const m=i.value.getImageData(0,0,s,r);g(),i.value.putImageData(m,0,0)}};return W(Ue,S),$e(g),ie({resize:S,clear:C,submit:y}),()=>a("div",{class:ba()},[a("div",{class:ba("content"),ref:l},[o?a("canvas",{ref:n,onTouchstartPassive:c,onTouchmove:d,onTouchend:f},null):a("p",null,[e.tips])]),a("div",{class:ba("footer")},[a(Ie,{size:"small",onClick:C},{default:()=>[e.clearButtonText||Wl("clear")]}),a(Ie,{type:"primary",size:"small",onClick:y},{default:()=>[e.confirmButtonText||Wl("confirm")]})])])}});const zm=N(Mm),[Lm,Fm]=z("skeleton-title"),Nm={round:Boolean,titleWidth:L};var Hm=M({name:Lm,props:Nm,setup(e){return()=>a("h3",{class:Fm([{round:e.round}]),style:{width:ne(e.titleWidth)}},null)}});const Si=N(Hm);var Ym=Si;const[jm,Wm]=z("skeleton-avatar"),Um={avatarSize:L,avatarShape:H("round")};var Km=M({name:jm,props:Um,setup(e){return()=>a("div",{class:Wm([e.avatarShape]),style:ut(e.avatarSize)},null)}});const Ci=N(Km);var Gm=Ci;const pa="100%",Xm={round:Boolean,rowWidth:{type:L,default:pa}},[qm,Zm]=z("skeleton-paragraph");var Jm=M({name:qm,props:Xm,setup(e){return()=>a("div",{class:Zm([{round:e.round}]),style:{width:e.rowWidth}},null)}});const ki=N(Jm);var Qm=ki;const[pm,Ul]=z("skeleton"),eh="60%",th={row:K(0),round:Boolean,title:Boolean,titleWidth:L,avatar:Boolean,avatarSize:L,avatarShape:H("round"),loading:V,animate:V,rowWidth:{type:[Number,String,Array],default:pa}};var nh=M({name:pm,inheritAttrs:!1,props:th,setup(e,{slots:t,attrs:n}){const l=()=>{if(e.avatar)return a(Gm,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},i=()=>{if(e.title)return a(Ym,{round:e.round,titleWidth:e.titleWidth},null)},o=u=>{const{rowWidth:c}=e;return c===pa&&u===+e.row-1?eh:Array.isArray(c)?c[u]:c},s=()=>Array(+e.row).fill("").map((u,c)=>a(Qm,{key:c,round:e.round,rowWidth:ne(o(c))},null)),r=()=>t.template?t.template():a(rt,null,[l(),a("div",{class:Ul("content")},[i(),s()])]);return()=>{var u;return e.loading?a("div",le({class:Ul({animate:e.animate,round:e.round})},n),[r()]):(u=t.default)==null?void 0:u.call(t)}}});const ah=N(nh),[lh,Kl]=z("skeleton-image"),oh={imageSize:L,imageShape:H("square")};var ih=M({name:lh,props:oh,setup(e){return()=>a("div",{class:Kl([e.imageShape]),style:ut(e.imageSize)},[a(ae,{name:"photo",class:Kl("icon")},null)])}});const ch=N(ih),[rh,cn]=z("slider"),sh={min:K(0),max:K(100),step:K(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:L,buttonSize:L,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var uh=M({name:rh,props:sh,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:n}){let l,i,o;const s=E(),r=[E(),E()],u=E(),c=Ne(),d=A(()=>Number(e.max)-Number(e.min)),f=A(()=>{const k=e.vertical?"width":"height";return{background:e.inactiveColor,[k]:ne(e.barHeight)}}),v=k=>e.range&&Array.isArray(k),h=()=>{const{modelValue:k,min:B}=e;return v(k)?`${(k[1]-k[0])*100/d.value}%`:`${(k-Number(B))*100/d.value}%`},y=()=>{const{modelValue:k,min:B}=e;return v(k)?`${(k[0]-Number(B))*100/d.value}%`:"0%"},C=A(()=>{const B={[e.vertical?"height":"width"]:h(),background:e.activeColor};u.value&&(B.transition="none");const R=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return B[R()]=y(),B}),g=k=>{const B=+e.min,R=+e.max,U=+e.step;k=Se(k,B,R);const X=Math.round((k-B)/U)*U;return ro(B,X)},S=()=>{const k=e.modelValue;v(k)?o=k.map(g):o=g(k)},m=k=>{var B,R;const U=(B=k[0])!=null?B:Number(e.min),X=(R=k[1])!=null?R:Number(e.max);return U>X?[X,U]:[U,X]},w=(k,B)=>{v(k)?k=m(k).map(g):k=g(k),Qe(k,e.modelValue)||t("update:modelValue",k),B&&!Qe(k,o)&&t("change",k)},T=k=>{if(k.stopPropagation(),e.disabled||e.readonly)return;S();const{min:B,reverse:R,vertical:U,modelValue:X}=e,F=ue(s),p=()=>U?R?F.bottom-k.clientY:k.clientY-F.top:R?F.right-k.clientX:k.clientX-F.left,ee=U?F.height:F.width,de=Number(B)+p()/ee*d.value;if(v(X)){const[fe,_]=X,Y=(fe+_)/2;de<=Y?w([de,_],!0):w([fe,de],!0)}else w(de,!0)},b=k=>{e.disabled||e.readonly||(c.start(k),i=e.modelValue,S(),u.value="start")},$=k=>{if(e.disabled||e.readonly)return;u.value==="start"&&t("dragStart",k),ve(k,!0),c.move(k),u.value="dragging";const B=ue(s),R=e.vertical?c.deltaY.value:c.deltaX.value,U=e.vertical?B.height:B.width;let X=R/U*d.value;if(e.reverse&&(X=-X),v(o)){const F=e.reverse?1-l:l;i[F]=o[F]+X}else i=o+X;w(i)},O=k=>{e.disabled||e.readonly||(u.value==="dragging"&&(w(i,!0),t("dragEnd",k)),u.value="")},x=k=>typeof k=="number"?cn("button-wrapper",["left","right"][k]):cn("button-wrapper",e.reverse?"left":"right"),P=(k,B)=>{const R=u.value==="dragging";if(typeof B=="number"){const U=n[B===0?"left-button":"right-button"];let X;if(R&&Array.isArray(i)&&(X=i[0]>i[1]?l^1:l),U)return U({value:k,dragging:R,dragIndex:X})}return n.button?n.button({value:k,dragging:R}):a("div",{class:cn("button"),style:ut(e.buttonSize)},null)},D=k=>{const B=typeof k=="number"?e.modelValue[k]:e.modelValue;return a("div",{ref:r[k??0],role:"slider",class:x(k),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":B,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:R=>{typeof k=="number"&&(l=k),b(R)},onTouchend:O,onTouchcancel:O,onClick:Va},[P(B,k)])};return w(e.modelValue),xt(()=>e.modelValue),r.forEach(k=>{ye("touchmove",$,{target:k})}),()=>a("div",{ref:s,style:f.value,class:cn({vertical:e.vertical,disabled:e.disabled}),onClick:T},[a("div",{class:cn("bar"),style:C.value},[e.range?[D(0),D(1)]:D()])])}});const dh=N(uh),[Gl,fh]=z("space"),vh={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function Ti(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):n.type===rt?t.push(...Ti(n.children)):t.push(n)}),t.filter(n=>{var l;return!(n&&(n.type===eo||n.type===rt&&((l=n.children)==null?void 0:l.length)===0||n.type===Ni&&n.children.trim()===""))})}var mh=M({name:Gl,props:vh,setup(e,{slots:t}){const n=A(()=>{var o;return(o=e.align)!=null?o:e.direction==="horizontal"?"center":""}),l=o=>typeof o=="number"?o+"px":o,i=o=>{const s={},r=`${l(Array.isArray(e.size)?e.size[0]:e.size)}`,u=`${l(Array.isArray(e.size)?e.size[1]:e.size)}`;return o?e.wrap?{marginBottom:u}:{}:(e.direction==="horizontal"&&(s.marginRight=r),(e.direction==="vertical"||e.wrap)&&(s.marginBottom=u),s)};return()=>{var o;const s=Ti((o=t.default)==null?void 0:o.call(t));return a("div",{class:[fh({[e.direction]:e.direction,[`align-${n.value}`]:n.value,wrap:e.wrap,fill:e.fill})]},[s.map((r,u)=>a("div",{key:`item-${u}`,class:`${Gl}-item`,style:i(u===s.length-1)},[r]))])}}});const hh=N(mh),[$i,Xl]=z("steps"),gh={active:K(0),direction:H("horizontal"),activeIcon:H("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},Bi=Symbol($i);var bh=M({name:$i,props:gh,emits:["clickStep"],setup(e,{emit:t,slots:n}){const{linkChildren:l}=Ae(Bi);return l({props:e,onClickStep:o=>t("clickStep",o)}),()=>{var o;return a("div",{class:Xl([e.direction])},[a("div",{class:Xl("items")},[(o=n.default)==null?void 0:o.call(n)])])}}});const[yh,gt]=z("step");var xh=M({name:yh,setup(e,{slots:t}){const{parent:n,index:l}=De(Bi);if(!n)return;const i=n.props,o=()=>{const f=+i.active;return l.value<f?"finish":l.value===f?"process":"waiting"},s=()=>o()==="process",r=A(()=>({background:o()==="finish"?i.activeColor:i.inactiveColor})),u=A(()=>{if(s())return{color:i.activeColor};if(o()==="waiting")return{color:i.inactiveColor}}),c=()=>n.onClickStep(l.value),d=()=>{const{iconPrefix:f,finishIcon:v,activeIcon:h,activeColor:y,inactiveIcon:C}=i;return s()?t["active-icon"]?t["active-icon"]():a(ae,{class:gt("icon","active"),name:h,color:y,classPrefix:f},null):o()==="finish"&&(v||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():a(ae,{class:gt("icon","finish"),name:v,color:y,classPrefix:f},null):t["inactive-icon"]?t["inactive-icon"]():C?a(ae,{class:gt("icon"),name:C,classPrefix:f},null):a("i",{class:gt("circle"),style:r.value},null)};return()=>{var f;const v=o();return a("div",{class:[ft,gt([i.direction,{[v]:v}])]},[a("div",{class:gt("title",{active:s()}),style:u.value,onClick:c},[(f=t.default)==null?void 0:f.call(t)]),a("div",{class:gt("circle-container"),onClick:c},[d()]),a("div",{class:gt("line"),style:r.value},null)])}}});const wh=N(xh),[Sh,On]=z("stepper"),Ch=200,_n=(e,t)=>String(e)===String(t),kh={min:K(1),max:K(1/0),name:K(""),step:K(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:V,showMinus:V,showInput:V,longPress:V,autoFixed:V,allowEmpty:Boolean,modelValue:L,inputWidth:L,buttonSize:L,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:K(1),decimalLength:L};var Th=M({name:Sh,props:kh,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=(x,P=!0)=>{const{min:D,max:k,allowEmpty:B,decimalLength:R}=e;return B&&x===""||(x=Sa(String(x),!e.integer),x=x===""?0:+x,x=Number.isNaN(x)?+D:x,x=P?Math.max(Math.min(+k,x),+D):x,re(R)&&(x=x.toFixed(+R))),x},l=()=>{var x;const P=(x=e.modelValue)!=null?x:e.defaultValue,D=n(P);return _n(D,e.modelValue)||t("update:modelValue",D),D};let i;const o=E(),s=E(l()),r=A(()=>e.disabled||e.disableMinus||+s.value<=+e.min),u=A(()=>e.disabled||e.disablePlus||+s.value>=+e.max),c=A(()=>({width:ne(e.inputWidth),height:ne(e.buttonSize)})),d=A(()=>ut(e.buttonSize)),f=()=>{const x=n(s.value);_n(x,s.value)||(s.value=x)},v=x=>{e.beforeChange?wt(e.beforeChange,{args:[x],done(){s.value=x}}):s.value=x},h=()=>{if(i==="plus"&&u.value||i==="minus"&&r.value){t("overlimit",i);return}const x=i==="minus"?-e.step:+e.step,P=n(ro(+s.value,x));v(P),t(i)},y=x=>{const P=x.target,{value:D}=P,{decimalLength:k}=e;let B=Sa(String(D),!e.integer);if(re(k)&&B.includes(".")){const U=B.split(".");B=`${U[0]}.${U[1].slice(0,+k)}`}e.beforeChange?P.value=String(s.value):_n(D,B)||(P.value=B);const R=B===String(+B);v(R?+B:B)},C=x=>{var P;e.disableInput?(P=o.value)==null||P.blur():t("focus",x)},g=x=>{const P=x.target,D=n(P.value,e.autoFixed);P.value=String(D),s.value=D,oe(()=>{t("blur",x),io()})};let S,m;const w=()=>{m=setTimeout(()=>{h(),w()},Ch)},T=()=>{e.longPress&&(S=!1,clearTimeout(m),m=setTimeout(()=>{S=!0,h(),w()},ho))},b=x=>{e.longPress&&(clearTimeout(m),S&&ve(x))},$=x=>{e.disableInput&&ve(x)},O=x=>({onClick:P=>{ve(P),i=x,h()},onTouchstartPassive:()=>{i=x,T()},onTouchend:b,onTouchcancel:b});return W(()=>[e.max,e.min,e.integer,e.decimalLength],f),W(()=>e.modelValue,x=>{_n(x,s.value)||(s.value=n(x))}),W(s,x=>{t("update:modelValue",x),t("change",x,{name:e.name})}),xt(()=>e.modelValue),()=>a("div",{role:"group",class:On([e.theme])},[ke(a("button",le({type:"button",style:d.value,class:[On("minus",{disabled:r.value}),{[Pe]:!r.value}],"aria-disabled":r.value||void 0},O("minus")),null),[[Be,e.showMinus]]),ke(a("input",{ref:o,type:e.integer?"tel":"text",role:"spinbutton",class:On("input"),value:s.value,style:c.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":s.value,onBlur:g,onInput:y,onFocus:C,onMousedown:$},null),[[Be,e.showInput]]),ke(a("button",le({type:"button",style:d.value,class:[On("plus",{disabled:u.value}),{[Pe]:!u.value}],"aria-disabled":u.value||void 0},O("plus")),null),[[Be,e.showPlus]])])}});const $h=N(Th),Bh=N(bh),[Dh,je,Ph]=z("submit-bar"),Ih={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:H("¥"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:H("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:K(2),safeAreaInsetBottom:V};var Ah=M({name:Dh,props:Ih,emits:["submit"],setup(e,{emit:t,slots:n}){const l=E(),i=Un(l,je),o=()=>{const{price:d,label:f,currency:v,textAlign:h,suffixLabel:y,decimalLength:C}=e;if(typeof d=="number"){const g=(d/100).toFixed(+C).split("."),S=C?`.${g[1]}`:"";return a("div",{class:je("text"),style:{textAlign:h}},[a("span",null,[f||Ph("label")]),a("span",{class:je("price")},[v,a("span",{class:je("price-integer")},[g[0]]),S]),y&&a("span",{class:je("suffix-label")},[y])])}},s=()=>{var d;const{tip:f,tipIcon:v}=e;if(n.tip||f)return a("div",{class:je("tip")},[v&&a(ae,{class:je("tip-icon"),name:v},null),f&&a("span",{class:je("tip-text")},[f]),(d=n.tip)==null?void 0:d.call(n)])},r=()=>t("submit"),u=()=>n.button?n.button():a(Ie,{round:!0,type:e.buttonType,text:e.buttonText,class:je("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:r},null),c=()=>{var d,f;return a("div",{ref:l,class:[je(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(d=n.top)==null?void 0:d.call(n),s(),a("div",{class:je("bar")},[(f=n.default)==null?void 0:f.call(n),o(),u()])])};return()=>e.placeholder?i(c):c()}});const Eh=N(Ah),[Oh,ya]=z("swipe-cell"),_h={name:K(""),disabled:Boolean,leftWidth:L,rightWidth:L,beforeClose:Function,stopPropagation:Boolean};var Rh=M({name:Oh,props:_h,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let l,i,o,s;const r=E(),u=E(),c=E(),d=Te({offset:0,dragging:!1}),f=Ne(),v=x=>x.value?ue(x).width:0,h=A(()=>re(e.leftWidth)?+e.leftWidth:v(u)),y=A(()=>re(e.rightWidth)?+e.rightWidth:v(c)),C=x=>{d.offset=x==="left"?h.value:-y.value,l||(l=!0,t("open",{name:e.name,position:x}))},g=x=>{d.offset=0,l&&(l=!1,t("close",{name:e.name,position:x}))},S=x=>{const P=Math.abs(d.offset),D=.15,k=l?1-D:D,B=x==="left"?h.value:y.value;B&&P>B*k?C(x):g(x)},m=x=>{e.disabled||(o=d.offset,f.start(x))},w=x=>{if(e.disabled)return;const{deltaX:P}=f;f.move(x),f.isHorizontal()&&(i=!0,d.dragging=!0,(!l||P.value*o<0)&&ve(x,e.stopPropagation),d.offset=Se(P.value+o,-y.value,h.value))},T=()=>{d.dragging&&(d.dragging=!1,S(d.offset>0?"left":"right"),setTimeout(()=>{i=!1},0))},b=(x="outside",P)=>{s||(t("click",x),l&&!i&&(s=!0,wt(e.beforeClose,{args:[{event:P,name:e.name,position:x}],done:()=>{s=!1,g(x)},canceled:()=>s=!1,error:()=>s=!1})))},$=(x,P)=>D=>{P&&D.stopPropagation(),!i&&b(x,D)},O=(x,P)=>{const D=n[x];if(D)return a("div",{ref:P,class:ya(x),onClick:$(x,!0)},[D()])};return ie({open:C,close:g}),Yn(r,x=>b("outside",x),{eventName:"touchstart"}),ye("touchmove",w,{target:r}),()=>{var x;const P={transform:`translate3d(${d.offset}px, 0, 0)`,transitionDuration:d.dragging?"0s":".6s"};return a("div",{ref:r,class:ya(),onClick:$("cell",i),onTouchstartPassive:m,onTouchend:T,onTouchcancel:T},[a("div",{class:ya("wrapper"),style:P},[O("left",u),(x=n.default)==null?void 0:x.call(n),O("right",c)])])}}});const Vh=N(Rh),[Di,ql]=z("tabbar"),Mh={route:Boolean,fixed:V,border:V,zIndex:L,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:K(0),safeAreaInsetBottom:{type:Boolean,default:null}},Pi=Symbol(Di);var zh=M({name:Di,props:Mh,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const l=E(),{linkChildren:i}=Ae(Pi),o=Un(l,ql),s=()=>{var c;return(c=e.safeAreaInsetBottom)!=null?c:e.fixed},r=()=>{var c;const{fixed:d,zIndex:f,border:v}=e;return a("div",{ref:l,role:"tablist",style:dt(f),class:[ql({fixed:d}),{[jn]:v,"van-safe-area-bottom":s()}]},[(c=n.default)==null?void 0:c.call(n)])};return i({props:e,setActive:(c,d)=>{wt(e.beforeChange,{args:[c],done(){t("update:modelValue",c),t("change",c),d()}})}}),()=>e.fixed&&e.placeholder?o(r):r()}});const Lh=N(zh),[Fh,xa]=z("tabbar-item"),Nh=J({},St,{dot:Boolean,icon:String,name:L,badge:L,badgeProps:Object,iconPrefix:String});var Hh=M({name:Fh,props:Nh,emits:["click"],setup(e,{emit:t,slots:n}){const l=Et(),i=yt().proxy,{parent:o,index:s}=De(Pi);if(!o)return;const r=A(()=>{var d;const{route:f,modelValue:v}=o.props;if(f&&"$route"in i){const{$route:h}=i,{to:y}=e,C=pe(y)?y:{path:y};return!!h.matched.find(g=>{const S="path"in C&&C.path===g.path,m="name"in C&&C.name===g.name;return S||m})}return((d=e.name)!=null?d:s.value)===v}),u=d=>{var f;r.value||o.setActive((f=e.name)!=null?f:s.value,l),t("click",d)},c=()=>{if(n.icon)return n.icon({active:r.value});if(e.icon)return a(ae,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var d;const{dot:f,badge:v}=e,{activeColor:h,inactiveColor:y}=o.props,C=r.value?h:y;return a("div",{role:"tab",class:xa({active:r.value}),style:{color:C},tabindex:0,"aria-selected":r.value,onClick:u},[a(Ot,le({dot:f,class:xa("icon"),content:v},e.badgeProps),{default:c}),a("div",{class:xa("text")},[(d=n.default)==null?void 0:d.call(n,{active:r.value})])])}}});const Yh=N(Hh),[jh,Zl]=z("text-ellipsis"),Wh={rows:K(1),dots:H("..."),content:H(""),expandText:H(""),collapseText:H(""),position:H("end")};var Uh=M({name:jh,props:Wh,emits:["clickAction"],setup(e,{emit:t,slots:n}){const l=E(e.content),i=E(!1),o=E(!1),s=E(),r=E();let u=!1;const c=A(()=>i.value?e.collapseText:e.expandText),d=S=>{if(!S)return 0;const m=S.match(/^\d*(\.\d*)?/);return m?Number(m[0]):0},f=()=>{if(!s.value||!s.value.isConnected)return;const S=window.getComputedStyle(s.value),m=document.createElement("div");return Array.prototype.slice.apply(S).forEach(T=>{m.style.setProperty(T,S.getPropertyValue(T))}),m.style.position="fixed",m.style.zIndex="-9999",m.style.top="-9999px",m.style.height="auto",m.style.minHeight="auto",m.style.maxHeight="auto",m.innerText=e.content,document.body.appendChild(m),m},v=(S,m)=>{var w,T;const{content:b,position:$,dots:O}=e,x=b.length,P=0+x>>1,D=n.action?(T=(w=r.value)==null?void 0:w.outerHTML)!=null?T:"":e.expandText,k=()=>{const R=(U,X)=>{if(X-U<=1)return $==="end"?b.slice(0,U)+O:O+b.slice(X,x);const F=Math.round((U+X)/2);return $==="end"?S.innerText=b.slice(0,F)+O:S.innerText=O+b.slice(F,x),S.innerHTML+=D,S.offsetHeight>m?$==="end"?R(U,F):R(F,X):$==="end"?R(F,X):R(U,F)};return R(0,x)},B=(R,U)=>{if(R[1]-R[0]<=1&&U[1]-U[0]<=1)return b.slice(0,R[0])+O+b.slice(U[1],x);const X=Math.floor((R[0]+R[1])/2),F=Math.ceil((U[0]+U[1])/2);return S.innerText=e.content.slice(0,X)+e.dots+e.content.slice(F,x),S.innerHTML+=D,S.offsetHeight>=m?B([R[0],X],[F,U[1]]):B([X,R[1]],[U[0],F])};return e.position==="middle"?B([0,P],[P,x]):k()},h=()=>{const S=f();if(!S){u=!0;return}const{paddingBottom:m,paddingTop:w,lineHeight:T}=S.style,b=Math.ceil((Number(e.rows)+.5)*d(T)+d(w)+d(m));b<S.offsetHeight?(o.value=!0,l.value=v(S,b)):(o.value=!1,l.value=e.content),document.body.removeChild(S)},y=(S=!i.value)=>{i.value=S},C=S=>{y(),t("clickAction",S)},g=()=>{const S=n.action?n.action({expanded:i.value}):c.value;return a("span",{ref:r,class:Zl("action"),onClick:C},[S])};return $e(()=>{h(),n.action&&oe(h)}),Dt(()=>{u&&(u=!1,h())}),W([Ue,()=>[e.content,e.rows,e.position]],h),ie({toggle:y}),()=>a("div",{ref:s,class:Zl()},[i.value?e.content:l.value,o.value?g():null])}});const Kh=N(Uh),[Gh]=z("time-picker"),Jl=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),Xh=["hour","minute","second"],qh=J({},Qo,{minHour:K(0),maxHour:K(23),minMinute:K(0),maxMinute:K(59),minSecond:K(0),maxSecond:K(59),minTime:{type:String,validator:Jl},maxTime:{type:String,validator:Jl},columnsType:{type:Array,default:()=>["hour","minute"]}});var Zh=M({name:Gh,props:qh,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const l=E(e.modelValue),i=E(),o=v=>{const h=v.split(":");return Xh.map((y,C)=>e.columnsType.includes(y)?h[C]:"00")},s=()=>{var v;return(v=i.value)==null?void 0:v.confirm()},r=()=>l.value,u=A(()=>{let{minHour:v,maxHour:h,minMinute:y,maxMinute:C,minSecond:g,maxSecond:S}=e;if(e.minTime||e.maxTime){const m={hour:0,minute:0,second:0};e.columnsType.forEach((b,$)=>{var O;m[b]=(O=l.value[$])!=null?O:0});const{hour:w,minute:T}=m;if(e.minTime){const[b,$,O]=o(e.minTime);v=b,y=+w<=+v?$:"00",g=+w<=+v&&+T<=+y?O:"00"}if(e.maxTime){const[b,$,O]=o(e.maxTime);h=b,C=+w>=+h?$:"59",S=+w>=+h&&+T>=+C?O:"59"}}return e.columnsType.map(m=>{const{filter:w,formatter:T}=e;switch(m){case"hour":return Kt(+v,+h,m,T,w,l.value);case"minute":return Kt(+y,+C,m,T,w,l.value);case"second":return Kt(+g,+S,m,T,w,l.value);default:return[]}})});W(l,v=>{Qe(v,e.modelValue)||t("update:modelValue",v)}),W(()=>e.modelValue,v=>{v=ti(v,u.value),Qe(v,l.value)||(l.value=v)},{immediate:!0});const c=(...v)=>t("change",...v),d=(...v)=>t("cancel",...v),f=(...v)=>t("confirm",...v);return ie({confirm:s,getSelectedTime:r}),()=>a(qn,le({ref:i,modelValue:l.value,"onUpdate:modelValue":v=>l.value=v,columns:u.value,onChange:c,onCancel:d,onConfirm:f},se(e,po)),n)}});const Jh=N(Zh),[Qh,Wt]=z("tree-select"),ph={max:K(1/0),items:me(),height:K(300),selectedIcon:H("success"),mainActiveIndex:K(0),activeId:{type:[Number,String,Array],default:0}};var eg=M({name:Qh,props:ph,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const l=c=>Array.isArray(e.activeId)?e.activeId.includes(c):e.activeId===c,i=c=>{const d=()=>{if(c.disabled)return;let f;if(Array.isArray(e.activeId)){f=e.activeId.slice();const v=f.indexOf(c.id);v!==-1?f.splice(v,1):f.length<+e.max&&f.push(c.id)}else f=c.id;t("update:activeId",f),t("clickItem",c)};return a("div",{key:c.id,class:["van-ellipsis",Wt("item",{active:l(c.id),disabled:c.disabled})],onClick:d},[c.text,l(c.id)&&a(ae,{name:e.selectedIcon,class:Wt("selected")},null)])},o=c=>{t("update:mainActiveIndex",c)},s=c=>t("clickNav",c),r=()=>{const c=e.items.map(d=>a(wi,{dot:d.dot,badge:d.badge,class:[Wt("nav-item"),d.className],disabled:d.disabled,onClick:s},{title:()=>n["nav-text"]?n["nav-text"](d):d.text}));return a(xi,{class:Wt("nav"),modelValue:e.mainActiveIndex,onChange:o},{default:()=>[c]})},u=()=>{if(n.content)return n.content();const c=e.items[+e.mainActiveIndex]||{};if(c.children)return c.children.map(i)};return()=>a("div",{class:Wt(),style:{height:ne(e.height)}},[r(),a("div",{class:Wt("content")},[u()])])}});const tg=N(eg),[ng,we,ag]=z("uploader");function Ql(e,t){return new Promise(n=>{if(t==="file"){n();return}const l=new FileReader;l.onload=i=>{n(i.target.result)},t==="dataUrl"?l.readAsDataURL(e):t==="text"&&l.readAsText(e)})}function Ii(e,t){return Mn(e).some(n=>n.file?Xt(t)?t(n.file):n.file.size>+t:!1)}function lg(e,t){const n=[],l=[];return e.forEach(i=>{Ii(i,t)?l.push(i):n.push(i)}),{valid:n,invalid:l}}const og=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,ig=e=>og.test(e);function Ai(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?ig(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var cg=M({props:{name:L,item:Ce(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:n}){const l=()=>{const{status:d,message:f}=e.item;if(d==="uploading"||d==="failed"){const v=d==="failed"?a(ae,{name:"close",class:we("mask-icon")},null):a(Ke,{class:we("loading")},null),h=re(f)&&f!=="";return a("div",{class:we("mask")},[v,h&&a("div",{class:we("mask-message")},[f])])}},i=d=>{const{name:f,item:v,index:h,beforeDelete:y}=e;d.stopPropagation(),wt(y,{args:[v,{name:f,index:h}],done:()=>t("delete")})},o=()=>t("preview"),s=()=>t("reupload"),r=()=>{if(e.deletable&&e.item.status!=="uploading"){const d=n["preview-delete"];return a("div",{role:"button",class:we("preview-delete",{shadow:!d}),tabindex:0,"aria-label":ag("delete"),onClick:i},[d?d():a(ae,{name:"cross",class:we("preview-delete-icon")},null)])}},u=()=>{if(n["preview-cover"]){const{index:d,item:f}=e;return a("div",{class:we("preview-cover")},[n["preview-cover"](J({index:d},f))])}},c=()=>{const{item:d,lazyLoad:f,imageFit:v,previewSize:h,reupload:y}=e;return Ai(d)?a(ea,{fit:v,src:d.objectUrl||d.content||d.url,class:we("preview-image"),width:Array.isArray(h)?h[0]:h,height:Array.isArray(h)?h[1]:h,lazyLoad:f,onClick:y?s:o},{default:u}):a("div",{class:we("file"),style:ut(e.previewSize)},[a(ae,{class:we("file-icon"),name:"description"},null),a("div",{class:[we("file-name"),"van-ellipsis"]},[d.file?d.file.name:d.url]),u()])};return()=>a("div",{class:we("preview")},[c(),l(),r()])}});const rg={name:K(""),accept:H("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:K(1/0),imageFit:H("cover"),resultType:H("dataUrl"),uploadIcon:H("photograph"),uploadText:String,deletable:V,reupload:Boolean,afterRead:Function,showUpload:V,modelValue:me(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:V,previewOptions:Object,previewFullImage:V,maxSize:{type:[Number,String,Function],default:1/0}};var sg=M({name:ng,props:rg,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:n}){const l=E(),i=[],o=E(-1),s=E(!1),r=(x=e.modelValue.length)=>({name:e.name,index:x}),u=()=>{l.value&&(l.value.value="")},c=x=>{if(u(),Ii(x,e.maxSize))if(Array.isArray(x)){const P=lg(x,e.maxSize);if(x=P.valid,t("oversize",P.invalid,r()),!x.length)return}else{t("oversize",x,r());return}if(x=Te(x),o.value>-1){const P=[...e.modelValue];P.splice(o.value,1,x),t("update:modelValue",P),o.value=-1}else t("update:modelValue",[...e.modelValue,...Mn(x)]);e.afterRead&&e.afterRead(x,r())},d=x=>{const{maxCount:P,modelValue:D,resultType:k}=e;if(Array.isArray(x)){const B=+P-D.length;x.length>B&&(x=x.slice(0,B)),Promise.all(x.map(R=>Ql(R,k))).then(R=>{const U=x.map((X,F)=>{const p={file:X,status:"",message:"",objectUrl:URL.createObjectURL(X)};return R[F]&&(p.content=R[F]),p});c(U)})}else Ql(x,k).then(B=>{const R={file:x,status:"",message:"",objectUrl:URL.createObjectURL(x)};B&&(R.content=B),c(R)})},f=x=>{const{files:P}=x.target;if(e.disabled||!P||!P.length)return;const D=P.length===1?P[0]:[].slice.call(P);if(e.beforeRead){const k=e.beforeRead(D,r());if(!k){u();return}if(Ra(k)){k.then(B=>{d(B||D)}).catch(u);return}}d(D)};let v;const h=()=>t("closePreview"),y=x=>{if(e.previewFullImage){const P=e.modelValue.filter(Ai),D=P.map(k=>(k.objectUrl&&!k.url&&k.status!=="failed"&&(k.url=k.objectUrl,i.push(k.url)),k.url)).filter(Boolean);v=Hf(J({images:D,startPosition:P.indexOf(x),onClose:h},e.previewOptions))}},C=()=>{v&&v.close()},g=(x,P)=>{const D=e.modelValue.slice(0);D.splice(P,1),t("update:modelValue",D),t("delete",x,r(P))},S=x=>{s.value=!0,o.value=x,oe(()=>O())},m=()=>{s.value||(o.value=-1),s.value=!1},w=(x,P)=>{const D=["imageFit","deletable","reupload","previewSize","beforeDelete"],k=J(se(e,D),se(x,D,!0));return a(cg,le({item:x,index:P,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",x,r(P)),onDelete:()=>g(x,P),onPreview:()=>y(x),onReupload:()=>S(P)},se(e,["name","lazyLoad"]),k),se(n,["preview-cover","preview-delete"]))},T=()=>{if(e.previewImage)return e.modelValue.map(w)},b=x=>t("clickUpload",x),$=()=>{const x=e.modelValue.length<+e.maxCount,P=e.readonly?null:a("input",{ref:l,type:"file",class:we("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&o.value===-1,disabled:e.disabled,onChange:f,onClick:m},null);return n.default?ke(a("div",{class:we("input-wrapper"),onClick:b},[n.default(),P]),[[Be,x]]):ke(a("div",{class:we("upload",{readonly:e.readonly}),style:ut(e.previewSize),onClick:b},[a(ae,{name:e.uploadIcon,class:we("upload-icon")},null),e.uploadText&&a("span",{class:we("upload-text")},[e.uploadText]),P]),[[Be,e.showUpload&&x]])},O=()=>{l.value&&!e.disabled&&l.value.click()};return It(()=>{i.forEach(x=>URL.revokeObjectURL(x))}),ie({chooseFile:O,reuploadFile:S,closeImagePreview:C}),xt(()=>e.modelValue),()=>a("div",{class:we()},[a("div",{class:we("wrapper",{disabled:e.disabled})},[T(),$()])])}});const ug=N(sg),[dg,pl]=z("watermark"),fg={gapX:xe(0),gapY:xe(0),image:String,width:xe(100),height:xe(100),rotate:K(-22),zIndex:L,content:String,opacity:L,fullPage:V,textColor:H("#dcdee0")};var vg=M({name:dg,props:fg,setup(e,{slots:t}){const n=E(),l=E(""),i=E(""),o=()=>{const u={transformOrigin:"center",transform:`rotate(${e.rotate}deg)`},c=()=>e.image&&!t.content?a("image",{href:i.value,"xlink:href":i.value,x:"0",y:"0",width:e.width,height:e.height,style:u},null):a("foreignObject",{x:"0",y:"0",width:e.width,height:e.height},[a("div",{xmlns:"http://www.w3.org/1999/xhtml",style:u},[t.content?t.content():a("span",{style:{color:e.textColor}},[e.content])])]),d=e.width+e.gapX,f=e.height+e.gapY;return a("svg",{viewBox:`0 0 ${d} ${f}`,width:d,height:f,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{padding:`0 ${e.gapX}px ${e.gapY}px 0`,opacity:e.opacity}},[c()])},s=u=>{const c=document.createElement("canvas"),d=new Image;d.crossOrigin="anonymous",d.referrerPolicy="no-referrer",d.onload=()=>{c.width=d.naturalWidth,c.height=d.naturalHeight;const f=c.getContext("2d");f==null||f.drawImage(d,0,0),i.value=c.toDataURL()},d.src=u},r=u=>{const c=new Blob([u],{type:"image/svg+xml"});return URL.createObjectURL(c)};return Zt(()=>{e.image&&s(e.image)}),W(()=>[i.value,e.content,e.textColor,e.height,e.width,e.rotate,e.gapX,e.gapY],()=>{oe(()=>{n.value&&(l.value&&URL.revokeObjectURL(l.value),l.value=r(n.value.innerHTML))})},{immediate:!0}),no(()=>{l.value&&URL.revokeObjectURL(l.value)}),()=>{const u=J({backgroundImage:`url(${l.value})`},dt(e.zIndex));return a("div",{class:pl({full:e.fullPage}),style:u},[a("div",{class:pl("wrapper"),ref:n},[o()])])}}});const mg=N(vg),hg="4.9.9";function gg(e){[xo,ka,Uc,lr,Bs,Zs,Ho,tu,Ot,iu,Ie,wu,Du,Ou,Xe,Mu,Za,qo,Yu,Zu,ed,od,id,ud,md,xd,$d,Ia,Rd,Hd,Ud,pd,lf,df,ff,ii,it,gf,wf,Wa,Tf,Pf,Of,ae,ea,Yf,Zf,Jf,nv,Ke,uo,iv,uv,wv,Pv,$o,Ov,Mv,qn,zv,Yv,Ge,Kv,Qv,qa,Ga,am,fm,vm,ym,Bm,xi,wi,zm,ah,Ci,ch,ki,Si,dh,hh,wh,$h,Bh,Oo,Eh,Ya,Vh,ja,Ka,vn,Lh,Yh,Gn,pn,Kh,Jh,bs,tg,ug,mg].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var Sg={install:gg,version:hg};export{xg as a,$a as b,Sg as c,wg as s};
